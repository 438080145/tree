(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-bluePrint-bluePrint"],{"0778":function(e,t,i){"use strict";i.r(t);var n=i("b1ba"),a=i("4948");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("5809");var c=i("828b"),s=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"625a3ab6",null,!1,n["a"],void 0);t["default"]=s.exports},3885:function(e,t,i){var n=i("c86c");t=n(!1),t.push([e.i,".contain[data-v-625a3ab6]{width:%?750?%;background-color:#f6f6f6;display:flex;flex-direction:column}.head-txt[data-v-625a3ab6]{display:flex;flex-direction:row;justify-content:flex-start;font-size:%?28?%;color:#333;padding:%?18?% %?38?%}.rich-box[data-v-625a3ab6]{display:flex;flex-direction:column;justify-content:flex-start;width:%?690?%;background-color:#fff;margin-bottom:%?12?%;padding:%?20?% %?30?%}.blue-box[data-v-625a3ab6]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:%?690?%;height:%?80?%;background-color:#fff;margin-bottom:%?12?%;border-bottom:%?1?% solid #eee}.name-tit[data-v-625a3ab6]{font-size:%?30?%;color:#333;margin-left:%?10?%}",""]),e.exports=t},4948:function(e,t,i){"use strict";i.r(t);var n=i("8f7c"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},5809:function(e,t,i){"use strict";var n=i("b07d"),a=i.n(n);a.a},"8f7c":function(e,t,i){"use strict";(function(e){i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("d4b5"),i("aa9c");var n={data:function(){return{pdaBlueLists:[],blueLists:[]}},onLoad:function(){this.blueInit()},components:{},methods:{blueInit:function(){var t=this;uni.closeBluetoothAdapter({success:function(i){e.log("蓝牙模块：",i),uni.openBluetoothAdapter({success:function(i){e.log("开启成功：",i),setTimeout((function(){t.getLocalBluetooth(),t.bluetooth_list()}),100)},fail:function(t){e.log("开启失败：",t)}})},fail:function(e){uni.showToast({title:"蓝牙未开启",icon:"none",duration:2e3})}})},bluetooth_list:function(){e.log("监听寻找到新设备的事件---------------");var t=this;uni.onBluetoothDeviceFound((function(i){e.log("--------------new-----------------------"+JSON.stringify(i));var n=JSON.parse(JSON.stringify(i));e.log(n.devices[0].name+"  "+n.devices[0].deviceId);var a=n.devices[0].name;if("未知设备"!=a){var o=n.devices[0].deviceId;t.pdaBlueLists.push({name:a,deviceId:o,services:[]}),uni.hideLoading()}}))},getLocalBluetooth:function(){uni.showLoading({title:"蓝牙设备搜索中"});var t=this,i=[];uni.startBluetoothDevicesDiscovery({success:function(n){uni.onBluetoothDeviceFound((function(n){e.log("搜索到的设备",n),""!=n.devices[0].name&&(uni.hideLoading(),i.push({deviceId:n.devices[0].deviceId,name:n.devices[0].name}),e.log("名称："+n.devices[0].name+",地址："+n.devices[0].deviceId),t.blueLists=i),e.log(i)}))},fail:function(i){t.blueInit(),uni.showToast({title:"蓝牙功能不可用",duration:2e3}),e.log("startBluetoothDevicesDiscovery",i)}})},connBlue:function(t){var i=this;uni.showLoading({title:"连接中",mask:!0}),uni.createBLEConnection({deviceId:t.currentTarget.dataset.deviceId,success:function(e){uni.hideLoading(),i.blueUnsearch(),uni.showToast({title:"成功连接",icon:"success",duration:2e3,mask:!0}),uni.setStorageSync("deviceId",t.currentTarget.dataset.deviceId),uni.setStorageSync("deviceName",t.currentTarget.dataset.name),uni.navigateBack({delta:1})},fail:function(t){uni.hideLoading(),uni.showToast({title:"连接失败",duration:2e3}),e.log("createBLEConnectionxx",t)}})},blueUnsearch:function(){uni.stopBluetoothDevicesDiscovery({success:function(e){},fail:function(t){e.log("stopBluetoothDevicesDiscovery",t)}})}}};t.default=n}).call(this,i("ba7c")["default"])},b07d:function(e,t,i){var n=i("3885");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("967d").default;a("6ac21531",n,!0,{sourceMap:!1,shadowMode:!1})},b1ba:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"contain"},[i("v-uni-view",{staticClass:"head-txt"},[e._v("已配对设备(点击已配对设备名称，即可打印)")]),i("v-uni-view",{staticClass:"rich-box"},e._l(e.pdaBlueLists,(function(t,n){return i("v-uni-view",{key:n,staticClass:"blue-box",attrs:{"data-device-id":t.deviceId,"data-name":t.name},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.connBlue.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"name-tit"},[e._v(e._s(t.name))])],1)})),1),i("v-uni-view",{staticClass:"head-txt"},[e._v("未配对设备(点击未配对设备名称，即可配对)")]),i("v-uni-view",{staticClass:"rich-box"},e._l(e.blueLists,(function(t,n){return i("v-uni-view",{key:n,staticClass:"blue-box",attrs:{"data-device-id":t.deviceId,"data-name":t.name},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.connBlue.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"name-tit"},[e._v(e._s(t.name))])],1)})),1)],1)},a=[]}}]);