(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-countNoteNew-countNoteNew"],{1642:function(t,e,i){"use strict";i.r(e);var a=i("e9d4"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"1f78":function(t,e,i){"use strict";var a=i("76a3"),n=i.n(a);n.a},2613:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-popup-dialog"},[i("v-uni-view",{staticClass:"uni-dialog-title"},[i("v-uni-text",{staticClass:"uni-dialog-title-text"},[t._v(t._s(t.title))])],1),i("v-uni-view",{staticClass:"uni-dialog-content"},[i("v-uni-view",{staticClass:"uni-list"},t._l(t.msgList,(function(e){return i("v-uni-view",{key:e},[t._v(" "+t._s(e)+" ")])})),1)],1),i("v-uni-view",{staticClass:"uni-dialog-button-group"},[i("v-uni-view",{staticClass:"uni-dialog-button uni-border-left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onOk.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"uni-dialog-button-text uni-button-color"},[t._v("确定")])],1)],1)],1)},n=[]},"2f52":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uniPopup:i("af85").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"contain"},[a("v-uni-view",{staticClass:"head"},[a("v-uni-view",{staticClass:"header-left"},[a("v-uni-image",{attrs:{src:i("37b9"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"header-middle"},[a("v-uni-text",[t._v("新盘点单")])],1),a("v-uni-view",{staticClass:"header-right"},[a("v-uni-image",{attrs:{src:i("5bc3")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearAllDate.apply(void 0,arguments)}}}),a("v-uni-image",{attrs:{src:"/static/img/history.png"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toHistory.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"pubBlank"}),a("v-uni-view",{staticClass:"middle"},[a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"middle-des"},[t._v(" 单据日期： ")]),a("v-uni-view",{staticClass:"middle-select"},[a("v-uni-picker",{attrs:{mode:"date",value:t.date,start:t.startDate,end:t.endDate},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDateChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.date))])],1),a("v-uni-image",{attrs:{src:i("846e"),mode:""}})],1)],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"middle-des"},[t._v(" 选择仓库： ")]),a("v-uni-view",{staticClass:"middle-select",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.warehouseList.apply(void 0,arguments)}}},[a("v-uni-input",{attrs:{type:"text",placeholder:"点击选择仓库"},model:{value:t.warehouse,callback:function(e){t.warehouse=e},expression:"warehouse"}}),a("v-uni-image",{attrs:{src:i("59b8"),mode:""}})],1)],1)],1),a("v-uni-view",{staticClass:"sweepCode"},[a("v-uni-image",{attrs:{src:i("9ec0"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.commodityList.apply(void 0,arguments)}}}),a("v-uni-image",{attrs:{src:i("9796"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.scanning.apply(void 0,arguments)}}})],1),t._l(t.shopListReverse,(function(e,n){return a("v-uni-view",{key:n,ref:"shopitem"+n,refInFor:!0,staticClass:"order-item",attrs:{id:"shopitem"+n},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saleDetaEvent(e,n)}}},[a("v-uni-view",{staticClass:"order-item-top"},[a("v-uni-image",{staticClass:"order-item-left",attrs:{src:e.picture,mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewPhoto(n)}}}),a("v-uni-view",{staticClass:"order-item-right"},[a("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("v-uni-view",{staticClass:"order-inside inside-left"},[a("v-uni-view",{staticClass:"order-fir-left"},[t._v(t._s(e.name))])],1),a("v-uni-view",{staticClass:"order-inside inside-right"},[a("v-uni-view",{staticClass:"order-sec-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delectItem(e,n)}}},[t._v("删除")])],1)],1),a("v-uni-view",{staticClass:"order-sec-left"},[a("v-uni-view",[t._v("库存："+t._s(e.quantity))]),a("v-uni-view",[t._v("盈亏数量："+t._s(e.lostOrIncomeQuantit))])],1),a("v-uni-view",{staticClass:"order-sec-left"},[a("v-uni-view",[t._v("规格：1*"+t._s(e.packingSpecification))]),a("v-uni-view",[t._v("盈亏金额："+t._s(e.lostOrIncomeAmount))])],1)],1)],1),e.checked?a("v-uni-view",{staticClass:"order-item-bottom"},[a("v-uni-view",{staticClass:"bottom-fir"},[a("v-uni-view",{staticClass:"bottom-input"},[a("v-uni-view",{staticClass:"bottom-des"},[t._v("库存件数")]),a("v-uni-input",{attrs:{type:"number",value:e.packageCount,disabled:!0}})],1),a("v-uni-view",{staticClass:"bottom-input"},[a("v-uni-view",{staticClass:"bottom-des"},[t._v("库存散数")]),a("v-uni-input",{attrs:{type:"number",value:e.uintCount,disabled:!0}})],1),a("v-uni-view",{staticClass:"bottom-input"},[a("v-uni-view",{staticClass:"bottom-des"},[t._v("盘点件数")]),a("v-uni-input",{attrs:{type:"number",value:e.itemQuantity},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.numberIP(e,n)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.numberIP(e,n)}}})],1),a("v-uni-view",{staticClass:"bottom-input"},[a("v-uni-view",{staticClass:"bottom-des"},[t._v("盘点散数")]),a("v-uni-input",{attrs:{type:"number",value:e.scatteredQuantity},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.numberSP(e,n)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.numberSP(e,n)}}})],1)],1),a("v-uni-view",{staticClass:"bottom-sec"},[a("v-uni-view",{staticClass:"bottom-sec-des"},[t._v("型号：")]),a("v-uni-view",{staticClass:"bottom-sec-num"},[t._v(t._s(e.typeSpecification))])],1)],1):t._e(),a("v-uni-view",{staticClass:"order-item-foot",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeOpen(e,n)}}},[e.checked?a("v-uni-view",{staticClass:"foot-des"},[a("v-uni-view",[t._v("点击收起")]),a("v-uni-image",{staticStyle:{transform:"rotate(180deg)"},attrs:{src:i("4fe6"),mode:""}})],1):a("v-uni-view",{staticClass:"foot-des"},[a("v-uni-view",[t._v("展开更多")]),a("v-uni-image",{attrs:{src:i("4fe6"),mode:""}})],1)],1)],1)})),a("v-uni-view",{staticClass:"blank",staticStyle:{background:"#F6F6F6"}}),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.orderStat,expression:"orderStat"}],staticClass:"footfixed"},[a("v-uni-view",{staticClass:"foot-bg"},[a("v-uni-view",{staticClass:"foot-bg-left"},[a("v-uni-view",[t._v("商品种类："),a("v-uni-text",[t._v(t._s(t.shopList.length))]),t._v(" 种 ")],1),a("v-uni-view",{staticClass:"subTitle"},[t._v("盈亏数量："+t._s(t.alllostOrIncome[0])+" 盈亏金额："+t._s(t.alllostOrIncome[1]))])],1),a("v-uni-button",{staticClass:"foot-bg-right",attrs:{disabled:t.isDisable},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.creatNewDocm.apply(void 0,arguments)}}},[t._v("提交盘点")])],1)],1),a("uni-popup",{ref:"msgPopup",attrs:{type:t.type,animation:!1,maskClick:!1}},[a("self-dialog",{attrs:{mode:"input",title:"提示",msgList:t.msgList},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.dialogConfirm.apply(void 0,arguments)},close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeDialog.apply(void 0,arguments)}}})],1)],2)},o=[]},3497:function(t,e,i){"use strict";i.r(e);var a=i("496d"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"37b9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEX///8zMzP6+vpwcHCSkpJ9fX2IiIhISEjY2Njt7e2/v787OztbW1vTET4fAAAAk0lEQVQ4y82TuQ2EQBAEVwgkDq/FY584FwciIATIAEIgCgwCwMEhBEK4zEigy98xt1Wz8/SEEHsUCwh3BcCj0b0nh7yQP/KpdgI2NRY4JVvth4BLmizwV22BDoCkV/11wk8abKZZpQUyAlYAUgJQwFT8OZbLDeJIcIihpbHjoni1aAa2DxqOLRrI1HgGfDh8avHEC/ZBGXwrpcb3AAAAAElFTkSuQmCC"},"496d":function(t,e,i){"use strict";(function(t){i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("5c47"),i("a1c1"),i("d4b5"),i("c223"),i("bf0f"),i("fd3c"),i("bd06"),i("aa77"),i("e966"),i("e838"),i("aa9c"),i("dd2b"),i("8f71"),i("473f"),i("dc69");var n=a(i("fcf3")),o=a(i("9b1b")),s=a(i("8824")),r=i("8f59"),u=a(i("af85")),c=a(i("9120")),d={components:{uniPopup:u.default,selfDialog:c.default},data:function(){return{date:this.timeShift.getDate({format:!0}),startDate:this.timeShift.getDate("start"),endDate:this.timeShift.getDate("end"),warehouse:"",storehouseId:"",shopList:[],orderStat:!1,employeeId:"",employeeName:"",searchText:"",goodsRemark:"",saleBillId:"",saleNo:"",defaultValue:0,barcode:"",countNoteList:[],inventoryId:"",sourceType:"",footTitle:"暂无盘点商品",lengthVal:!1,storehouseName:"",commodityPage:!1,againInventorId:0,againStorehouseId:0,againStorehouseName:"",againshopList:[],againtype:0,originalData:[],inputValue:"",pageNum:1,scanningPage:!1,storehouse:{},againInventoryNo:"",isDisable:!1,type:"center",goodsPage:!1,goodsPageNum:1,msgList:[]}},methods:(0,o.default)((0,o.default)({},(0,r.mapMutations)(["setparams"])),{},{againInBills:function(){var t=this,e=this;this.get("api/im/check/detail/page?inventoryId="+e.againInventorId+"&pageNum="+e.goodsPageNum+"&pageSize=10",null,1).then((function(i){if(uni.hideLoading(),i.meta.success){var a=i.data.list;e.goodsPage=i.data.hasNextPage;for(var n=0;n<a.length;n++)a[n].picture||(a[n].picture="../../../static/img/outNote/photo.png"),a[n].orderQuantity||(a[n].orderQuantity=0);var o=JSON.parse(JSON.stringify(a).replace(/inventoryQuantity/g,"quantity").replace(/goodsName/g,"name").replace(/actualIQ/g,"itemQuantity").replace(/actualSQ/g,"scatteredQuantity").replace(/inventoryIQ/g,"packageCount").replace(/inventorySQ/g,"uintCount").replace(/lostOrIncomeQuantity/g,"lostOrIncomeQuantit").replace(/lostOrIncomeAmount/g,"lostOrIncomeAmount"));1==e.goodsPageNum?e.shopList=o:e.shopList=e.shopList.concat(o),t.warehouse=t.againStorehouseName,t.storehouseId=t.againStorehouseId}t.againshopList=t.shopList}))},manuallyCreate:function(){var t=this;return new Promise((function(e,i){var a=t,n=t.shopList;t.warehouse&&t.post("api/check/diyApp/"+a.storehouseId+"/8/?storehouseName="+a.warehouse,n,1).then((function(t){t.meta.success&&(a.inventoryId=t.data.checkMain.id,a.inventoryNo=t.data.checkMain.inventoryNo,a.msgList=t.data.repeatName,e())}))}))},bindDateChange:function(t){this.date=t.target.value},warehouseList:function(){this.setparams({searchtype:"storehouse",filed:"storehouse"}),uni.navigateTo({url:"../components/toolssearchlist/toolssearchlist"})},commodityList:function(){this.storehouseId?(t.log("跳转：：",this.shopList),this.pageValue=!0,this.setparams({warehouse:this.warehouse,storehouseId:this.storehouseId,type:1,inputValue:this.inputValue,inventoryId:this.againInventorId}),uni.navigateTo({url:"../countNoteList/countNoteList"})):uni.showToast({icon:"none",title:"请选择仓库",duration:2e3})},scanning:function(){var e=this;this.storehouseId?uni.scanCode({success:function(i){t.log(i),e.inputValue=i.result,e.getCommodity()}}):uni.showToast({icon:"none",title:"请选择仓库",duration:2e3})},goShopitem:function(t){uni.createSelectorQuery().select(t).boundingClientRect((function(t){uni.pageScrollTo({duration:0,scrollTop:t.top})})).exec()},getCommodity:function(){var t=this,e=this;this.get("api/basicData/goods/bill/list",{barCode:this.inputValue,pageNum:this.pageNum,pageSize:10,storehouseId:e.storehouseId},1).then((function(i){if(i.meta.success){e.scanningPage=i.data.hasNextPage;var a=i.data.list;if(a.length>0){var n=[],o=e.inputValue.replace(/\s*/g,"");a.length>0&&a.map((function(e,i){t.shopList.findIndex((function(t){return e.id==t.id}));var a=t.shopListReverse.findIndex((function(t){return e.id==t.id})),s=t.shopList.find((function(t){return e.id==t.id}));if(s){t.goShopitem("#shopitem"+a),s.code?s.auxiliaryBarcode&&s.auxiliaryBarcode.replace(/\s*/g,"")===o?s.itemQuantity++:(s.barCode&&s.barCode.replace(/\s*/g,""),s.scatteredQuantity++):s.scatteredQuantity++;var r=parseInt(s.itemQuantity||0)*s.packingSpecification+parseInt(s.scatteredQuantity||0);s.lostOrIncomeQuantit=r-parseFloat(s.quantity),s.lostOrIncomeAmount=(parseFloat(s.costPrice||0)*r).toFixed(2)}else{var u=!1;e.code&&e.auxiliaryBarcode&&e.auxiliaryBarcode.replace(/\s*/g,"")===o&&(u=!0),u?(e.itemQuantity=1,e.scatteredQuantity=0):(e.itemQuantity=0,e.scatteredQuantity=1);var c=parseInt(e.itemQuantity||0)*e.packingSpecification+parseInt(e.scatteredQuantity||0),d=c-parseFloat(e.quantity),l=(parseFloat(e.costPrice||0)*c).toFixed(2);n.push(Object.assign({},e,{itemQuantity:e.itemQuantity||0},{scatteredQuantity:e.scatteredQuantity||0},{lostOrIncomeQuantit:d},{lostOrIncomeAmount:l}))}}));for(var r=0;r<n.length;r++)n[r].picture||(n[r].picture="../../../static/img/outNote/photo.png"),n[r].barCode||(n[r].barCode=""),n[r].brandName||(n[r].brandName="");t.shopList=s.default.unique(t.shopList,n),t.orderStat=!0}else uni.showToast({title:"暂无该商品",icon:"none"});e.searchText=""}}))},defaultV:function(){if(0==this.shopList.length)uni.showToast({title:"请先添加商品",icon:"none",duration:1e3}),this.defaultValue=0;else for(var t=0;t<this.shopList.length;t++)this.shopList[t].itemQuantity=this.defaultValue},previewPhoto:function(t){s.default.previewPhoto(t,this.shopListReverse)},closeOpen:function(t,e){this.shopListReverse[e].checked=!this.shopListReverse[e].checked,this.$forceUpdate()},delectItem:function(e,i){var a=this,n=this.shopList.findIndex((function(t){return t.id==a.shopListReverse[i].id}));this.againInventorId&&this.shopListReverse[i].inventoryId?this.del("api/im/check/detail/delete?ids="+this.shopListReverse[i].id+"&inventoryId="+this.shopListReverse[i].inventoryId,{},1).then((function(e){t.log(e),e.meta.success?(a.shopListReverse.splice(i,1),a.shopList.splice(n,1),uni.showToast({title:"该盘点删除明细成功",icon:"none",duration:1e3})):uni.showToast({title:e.meta.message,icon:"none",duration:1e3})})):(this.shopListReverse.splice(i,1),this.shopList.splice(n,1)),t.log("this.shopList::",this.shopList),this.shopList.length,0==this.shopList.length&&(this.orderStat=!1,uni.removeStorageSync("countShopList"))},numberIP:function(t,e,i){var a=this,n=this.shopList.findIndex((function(t){return t.id==a.shopListReverse[e].id})),o=this.shopList[n];o.itemQuantity=parseFloat(this.RegExp.floatRound4(t.detail.value));var s=parseInt(o.itemQuantity||0)*o.packingSpecification+parseInt(o.scatteredQuantity||0);o.lostOrIncomeQuantit=s-parseFloat(o.quantity),o.lostOrIncomeAmount=(parseFloat(o.costPrice||0)*s).toFixed(2)},numberSP:function(e,i,a){var n=this;t.log("numberSP:",e.detail.value);var o=this.shopList.findIndex((function(t){return t.id==n.shopListReverse[i].id})),s=this.shopList[o];s.scatteredQuantity=parseFloat(this.RegExp.floatRound4(e.detail.value));var r=parseInt(s.itemQuantity||0)*s.packingSpecification+parseInt(s.scatteredQuantity||0);s.lostOrIncomeQuantit=r-parseFloat(s.quantity),s.lostOrIncomeAmount=(parseFloat(s.costPrice||0)*r).toFixed(2)},creatNewDocm:function(){var e=this,i=this;if(this.isDisable=!0,this.againtype){this.inventoryId=this.againInventorId;var a=this.shopList.filter((function(t){return-1==e.againshopList.findIndex((function(e){return t.id===e.id}))}));a.length>0?(this.originalData=this.shopList.filter((function(t){return-1==a.findIndex((function(e){return t.id===e.id}))})),this.recursiveSubmit(-1,this.originalData,!0),this.inventoryConfi(-1,a)):this.recursiveSubmit(-1,this.shopList)}else t.log("不是重新编辑"),this.manuallyCreate().then((function(){e.msgList.length>0?i.$refs.msgPopup.open():(uni.showToast({title:"开单成功",icon:"none",duration:1e3}),e.isDisable=!1,i.doRefresh(),setTimeout((function(){uni.navigateTo({url:"../../publicPage/billSuccess/billSuccess?sourceType=301&saleNo="+i.inventoryNo+"&id="+i.inventoryId})}),1e3))}))},dialogConfirm:function(){var t=this;t.$refs.msgPopup.close(),uni.showToast({title:"开单成功",icon:"none",duration:1e3}),this.isDisable=!1,t.doRefresh(),setTimeout((function(){uni.navigateTo({url:"../../publicPage/billSuccess/billSuccess?sourceType=301&saleNo="+t.inventoryNo+"&id="+t.inventoryId})}),1e3)},recursiveSubmit:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this;if(++t<e.length)uni.showLoading({title:"盘点中",mask:!0}),this.post("api/im/check/detail/save?actualIQ="+e[t].itemQuantity+"&actualSQ="+e[t].scatteredQuantity+"&goodsId="+e[t].goodsId+"&inventoryId="+e[t].inventoryId+"&storehouseId="+e[t].storehouseId,null,1).then((function(n){uni.hideLoading(),a.recursiveSubmit(t,e,i)}));else{if(i)return;uni.showToast({title:"开单成功",icon:"none",duration:1e3}),a.isDisable=!1,a.doRefresh(),setTimeout((function(){uni.navigateTo({url:"../../publicPage/billSuccess/billSuccess?sourceType=301&saleNo="+a.againInventoryNo+"&id="+a.againInventorId})}),1e3)}},inventoryConfi:function(t,e){var i=this;++t<e.length?(uni.showLoading({title:"加载中",mask:!0}),this.post("api/im/check/detail/save?actualIQ="+e[t].itemQuantity+"&actualSQ="+e[t].scatteredQuantity+"&goodsId="+(e[t].goodsId?e[t].goodsId:e[t].id)+"&inventoryId="+i.inventoryId+"&storehouseId="+i.storehouseId+"&storehouseName="+i.warehouse,null,1).then((function(a){uni.hideLoading(),i.inventoryConfi(t,e)}))):(uni.showToast({title:"开单成功",icon:"none",duration:1e3}),i.doRefresh(),setTimeout((function(){uni.navigateTo({url:"../../publicPage/billSuccess/billSuccess?sourceType=301&saleNo="+i.againInventoryNo+"&id="+i.againInventorId})}),1e3))},saleDetaEvent:function(t,e){},goBack:function(){uni.navigateBack({delta:1})},delNote:function(){var e=this.inventoryId;uni.showLoading({title:"加载中",mask:!0}),this.del("api/check/disable/"+e,{},1).then((function(e){uni.hideLoading(),t.log(e),e.meta.success?uni.navigateBack({delta:1}):uni.showToast({title:e.meta.message,icon:"none",duration:1e3})}))},clearAllDate:function(){var t=this;t.warehouse||t.shopList.length>0?uni.showModal({title:"温馨提示",content:"是否清空当前页面数据",success:function(e){e.confirm?(t.doRefresh(),t.$forceUpdate(),t.orderStat=!1):e.cancel}}):uni.showToast({title:"当前页面无数据可清空",icon:"none",duration:1e3})},doRefresh:function(){this.warehouse="",this.storehouseId="",this.shopList=[],this.$data.warehouseName="",this.saleBillId="",this.searchText="",this.saleNo="",uni.removeStorageSync("countShopList"),uni.removeStorageSync("storeHouseTemp")},toHistory:function(){uni.setStorageSync("Type",301),uni.switchTab({url:"/pages/documentHistorys/index"})},deepCopy:function(t){var e=t.constructor===Array?[]:{};for(var i in t)"object"===(0,n.default)(t[i])?e[i]=this.deepCopy(t[i]):e[i]=t[i];return e}}),onLoad:function(t){t.againtype&&(this.againtype=t.againtype),this.employeeId=uni.getStorageSync("id"),this.employeeName=uni.getStorageSync("name"),this.inventoryId&&setTimeout((function(){this.getDetailData()}),100)},onShow:function(){t.log("onshow02：：",this.$data),this.$data.warehouseName?(this.warehouse=this.$data.warehouseName,this.storehouseId=this.$data.warehouseId):uni.getStorageSync("storeHouseTemp")&&(this.warehouse=uni.getStorageSync("storeHouseTemp").warehouse,this.storehouseId=uni.getStorageSync("storeHouseTemp").storehouseId);var e=uni.getStorageSync("countShopList");if(0!=e.length){var i=uni.getStorageSync("countShopList");this.shopList=i,this.orderStat=!0}else this.orderStat=!1;if(uni.getStorageSync("againInventor")){var a=uni.getStorageSync("againInventor");this.againInventorId=a.id,this.againStorehouseId=a.storehouseId,this.againStorehouseName=a.storehouseName,this.againInventoryNo=a.inventoryNo,this.againInBills(),this.orderStat=!0}uni.removeStorageSync("againInventor")},watch:{storehouse:function(t){if(null!=t&&t.length>0){this.warehouse=t[0].name,this.storehouseId=t[0].id;var e={warehouse:t[0].name,storehouseId:t[0].id};uni.setStorageSync("storeHouseTemp",e)}},shopList:{handler:function(t,e){uni.setStorageSync("countShopList",t)},deep:!0}},computed:{show_status:function(){return this.inventoryId},alllostOrIncome:function(){return Array.prototype.reduce.call(this.shopList||[],(function(t,e){var i=e.lostOrIncomeQuantit,a=e.lostOrIncomeAmount;return[t[0]+(i||0),t[1]+(parseFloat(a)||0)]}),[0,0])},shopListReverse:function(){var t=JSON.parse(JSON.stringify(this.shopList));return t.reverse()}},onReachBottom:function(){this.scanningPage?(uni.showLoading({title:"玩命加载中...",mask:!0}),this.pageNum++,this.getCommodity(),uni.hideLoading()):uni.showToast({title:"暂无更多数据",duration:1e3,icon:"loading",mask:!0}),this.goodsPage?(uni.showLoading({title:"加载中...",mask:!0}),this.goodsPageNum++,this.againInBills()):uni.showToast({title:"暂无更多数据",duration:1e3,icon:"loading",mask:!0})}};e.default=d}).call(this,i("ba7c")["default"])},"4fe6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAKBAMAAACgUqiRAAAAGFBMVEWEhISAgIBHcEyAgIB6enqAgICCgoKAgIAUaalZAAAAB3RSTlMT0gDXGbcqhO85WQAAAEpJREFUCNdjSGVSAgHXBIZwARBDxTyAgbEQJOhcyMCgIC4AEhJQYFACCToXMgFZQEGgkBKQBRRMBgqDWAri5UClIBZYJYSlEAAiAOZMDmcJUYE4AAAAAElFTkSuQmCC"},"59b8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqBAMAAAA37dRoAAAAFVBMVEVHcEyXl5ebm5uXl5eXl5eYmJiXl5dhgIfDAAAABnRSTlMAugiMpToMNkwxAAAAU0lEQVQoz2NgGOwgUAGLIGuaEBZRxrRELIqZxLApZlJMS2HAqtiBQsUMOBUbYFWcTLxiRlIUYxXFah0T5UpTiA0d0pQqEBmb2GMeeyrBnqIGIQAA2U8VBfend9IAAAAASUVORK5CYII="},"5bc3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABN0lEQVRoge2YMQ6DMAxFOQhzD/BtxUOvwLV6HNaOHKkSbJ3oEqSoSmjSBhKKn+SFKMiPuPSLplH+EAAdEQ1ENNkaAHSl+4qCmW9ENPuKmW+l+1vFPnlv80tVfRJ2bJanfReRVkRaZr47EkPpPoPYeZ+JaBaRdrkuIq0jMJXscRV3VFLWqkEFSqMCpVGB0qhADt6S5Gqu2bHiEu1akqylgok2JknWUt6TIE+SzDKTGYhKtBRIkrXwMdH+g8CxR+jwP+KmOfhr9O0khpJNBirt04y7OXpTZn7qQQUyoAIq8CObCNj/isn3Ps69tokAET3t9adnT9a1rQSCN829pgIqoAInFxiXzcx83VuAma/O9TFZAEDv3rhkAeiTBYwxFwCPCpp/GGMuyQKORO+O0441Aui/bl5RTsILecwmw0E3NbEAAAAASUVORK5CYII="},"76a3":function(t,e,i){var a=i("c8c9");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("2a4ff6dc",a,!0,{sourceMap:!1,shadowMode:!1})},"7b48":function(t,e,i){"use strict";var a=i("fa13"),n=i.n(a);n.a},"846e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEVHcEyXl5c3HTAeAAAAAXRSTlMAQObYZgAAADNJREFUCNdjYCAG8DAYwEjm////H4CRQBE4CVQAJ5HVIIsjk/w2H+AkbjUIEpcaJLuIAABy9Sm5sM//IAAAAABJRU5ErkJggg=="},8824:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("fd3c"),i("c223"),i("aa9c"),i("5ef2"),i("20f3");var a={previewPhoto:function(t,e){var i=e.map((function(t,e){return t.picture}));uni.previewImage({current:i[t],urls:i})},unique:function(t,e){for(var i=t.concat(e),a={},n=[],o=0;o<i.length;o++)a["s_"+i[o].id]=i[o];for(var s in a)n.push(a[s]);return n},IsPicture:function(t){if(t&&t.indexOf(".")>-1){var e=t.lastIndexOf("."),i=t.substring(e,t.length)+"|";if(i=i.toLowerCase(),".jpeg|.gif|.jpg|.png|.bmp|.pic|.svg|".indexOf(i)>-1)return!0}return!1}};e.default=a},9120:function(t,e,i){"use strict";i.r(e);var a=i("2613"),n=i("1642");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("1f78");var s=i("828b"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"1e2b9002",null,!1,a["a"],void 0);e["default"]=r.exports},9796:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAElBMVEVHcEz/uCL/uSP/uCL/vCL/uCJcCjI6AAAABXRSTlMA50mtJj8sjiYAAABlSURBVDjLY2AgHbAYhmIAYQeghGMoFiAClDDFJhEMlBDFJhEIlAgNxbQXLDbEJEQDMSXAYopCmBLYxAYHUAzFCoSwRyAoCnFK4DRqsHodV0ThjNphk3ZxZU6c2RlnAYCzyCAVAACHaG1xFoswbQAAAABJRU5ErkJggg=="},"9ec0":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAgMAAAAqbBEUAAAADFBMVEVHcEz/uCL/uSP/uCITuKUYAAAAA3RSTlMA4kmZPqyEAAAALklEQVQoz2NgAAHOBAYEYL+AxOH/MKI58//DwTeGegTnLyoHRdlouGFLSNAkBgCQylhTmhAbcAAAAABJRU5ErkJggg=="},c8c9:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,".uni-popup-dialog[data-v-1e2b9002]{width:300px;border-radius:5px;background-color:#fff}.uni-dialog-title[data-v-1e2b9002]{display:flex;flex-direction:row;justify-content:center;padding-top:15px;padding-bottom:5px}.uni-dialog-title-text[data-v-1e2b9002]{font-size:14px;font-weight:500}.uni-dialog-content[data-v-1e2b9002]{padding:15px;font-size:14px}.uni-dialog-content-text[data-v-1e2b9002]{font-size:14px;color:#6e6e6e}.uni-dialog-button-group[data-v-1e2b9002]{display:flex;flex-direction:row;border-top-color:#f5f5f5;border-top-style:solid;border-top-width:1px}.uni-dialog-button[data-v-1e2b9002]{display:flex;flex:1;flex-direction:row;justify-content:center;align-items:center;height:45px}.uni-border-left[data-v-1e2b9002]{border-left-color:#f0f0f0;border-left-style:solid;border-left-width:1px}.uni-dialog-button-text[data-v-1e2b9002]{font-size:14px}.uni-button-color[data-v-1e2b9002]{color:#ffb822}.uni-dialog-input[data-v-1e2b9002]{flex:1;font-size:14px}.uni-popup__success[data-v-1e2b9002]{color:#4cd964}.uni-popup__warn[data-v-1e2b9002]{color:#f0ad4e}.uni-popup__error[data-v-1e2b9002]{color:#dd524d}.uni-popup__info[data-v-1e2b9002]{color:#909399}.uni-radio-group[data-v-1e2b9002]{display:block}.uni-list-cell[data-v-1e2b9002]{display:flex;margin:15px}.uni-list[data-v-1e2b9002]{height:%?500?%;overflow-y:scroll}.uni-list uni-view[data-v-1e2b9002]{margin-bottom:%?8?%}",""]),t.exports=e},e9d4:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"selfDialog",props:{title:{type:String,default:"提示"},content:{type:String,default:""},msgList:{type:Array,default:[]}},data:function(){return{items:[{value:"0",name:"否",checked:"true"},{value:"1",name:"是"}],current:0,val:""}},inject:["popup"],watch:{},created:function(){},mounted:function(){},methods:{onOk:function(){this.$emit("confirm",this.current)},close:function(){this.popup.close()},radioChange:function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].value===t.target.value){this.current=e;break}}}};e.default=a},f598:function(t,e,i){"use strict";i.r(e);var a=i("2f52"),n=i("3497");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("7b48");var s=i("828b"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"a1fee5c8",null,!1,a["a"],void 0);e["default"]=r.exports},f746:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,"uni-page-body[data-v-a1fee5c8]{background-color:#f6f6f6}body.?%PAGE?%[data-v-a1fee5c8]{background-color:#f6f6f6}.head[data-v-a1fee5c8]{display:flex;justify-content:space-between;font-weight:590}.header-left[data-v-a1fee5c8]{width:20%}.header-middle[data-v-a1fee5c8]{width:25%}.head uni-image[data-v-a1fee5c8]{width:%?48?%;height:%?48?%;margin:%?7?% %?15?%;display:block}.header-right[data-v-a1fee5c8]{display:flex;width:20%}.middle[data-v-a1fee5c8]{padding:%?40?%}.pubBlank[data-v-a1fee5c8]{height:%?120?%}.item[data-v-a1fee5c8]{display:flex;height:%?80?%;line-height:%?80?%;padding-bottom:%?20?%}.item[data-v-a1fee5c8]:last-child{padding-bottom:0}.middle-des[data-v-a1fee5c8]{font-size:%?32?%;width:%?160?%;text-align:right}.middle-select[data-v-a1fee5c8]{display:flex;justify-content:space-between;background:#f7f6fb;width:%?496?%;font-size:%?30?%;border-radius:5px}uni-picker[data-v-a1fee5c8]{padding-left:%?20?%;width:%?496?%}.middle-select uni-input[data-v-a1fee5c8]{height:%?80?%;line-height:%?80?%;font-size:%?30?%;padding-left:%?20?%}.middle-select uni-text[data-v-a1fee5c8]{color:#ffb822;font-size:%?26?%;width:%?200?%}.middle-select uni-image[data-v-a1fee5c8]{width:%?40?%;height:%?40?%;padding-right:%?20?%;padding-top:%?20?%}.sweepCode[data-v-a1fee5c8]{border-bottom:%?2?% #eee solid;display:flex;justify-content:space-between}.sweepCode uni-image[data-v-a1fee5c8]{width:%?48?%;height:%?48?%;padding:%?26?% %?100?%}.order-item[data-v-a1fee5c8]{padding:%?40?% %?40?% 0 %?40?%}.order-item-top[data-v-a1fee5c8]{display:flex}.order-item-left[data-v-a1fee5c8]{width:%?160?%;height:%?160?%}.order-inside[data-v-a1fee5c8]{display:flex;box-sizing:border-box;flex-direction:column;justify-content:space-between}.inside-left[data-v-a1fee5c8]{width:70%}.inside-right[data-v-a1fee5c8]{width:30%;align-items:flex-end}.order-item-right[data-v-a1fee5c8]{margin-left:%?20?%;\r\n\t/* width: calc( 100% - 160upx); */\r\n\t/* display: flex;\r\n\tflex: 1;\r\n\tjustify-content: space-between; */flex:1}.order-fir[data-v-a1fee5c8]{display:flex;justify-content:space-between}.order-fir-left[data-v-a1fee5c8]{font-size:%?32?%;font-weight:500;width:%?350?%}.order-fir-right[data-v-a1fee5c8]{font-size:%?32?%;font-weight:500}.order-sec[data-v-a1fee5c8]{margin-top:%?20?%;display:flex;justify-content:space-between}.order-sec-left[data-v-a1fee5c8]{font-size:%?28?%;color:grey;display:flex;justify-content:space-between}.order-sec-right[data-v-a1fee5c8]{font-size:%?28?%;color:#3378ff}.order-item-bottom[data-v-a1fee5c8]{margin-top:%?20?%}.bottom-fir[data-v-a1fee5c8]{padding:%?20?%;display:flex;justify-content:space-between;border-bottom:%?1?% solid #eee;border-top:%?1?% solid #eee}.bottom-des[data-v-a1fee5c8]{font-size:%?28?%;color:grey}.bottom-input[data-v-a1fee5c8]{display:flex;align-items:center;flex-direction:column}.bottom-input uni-input[data-v-a1fee5c8]{margin-top:%?20?%;font-size:%?32?%;color:#333;text-align:center}.bottom-sec[data-v-a1fee5c8]{height:%?70?%;line-height:%?70?%;display:flex;font-size:%?28?%}.bottom-sec-des[data-v-a1fee5c8]{color:grey}.bottom-sec-input[data-v-a1fee5c8]{height:%?40?%;line-height:%?40?%;margin-top:%?10?%;color:grey;font-size:%?28?%}.order-item-foot[data-v-a1fee5c8]{margin-top:%?40?%;border-bottom:%?1?% solid #eee}.foot-des[data-v-a1fee5c8]{margin:0 auto;display:flex;font-size:%?24?%;color:grey;width:20%;justify-content:space-between;padding:%?15?% 0;margin-bottom:%?20?%}.foot-des uni-image[data-v-a1fee5c8]{width:%?17?%;height:%?10?%;margin-top:%?10?%}.footfixed[data-v-a1fee5c8]{display:block;position:fixed;bottom:%?0?%;\r\n\r\n\t\t/* // bottom:100upx; */\r\nwidth:100%;height:%?100?%;background:#fff;z-index:10}.foot-bg[data-v-a1fee5c8]{display:flex}.foot-bg-left[data-v-a1fee5c8]{width:70%;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:%?40?%;box-sizing:border-box;padding-left:%?40?%;display:flex;text-align:left;flex-direction:column;justify-content:center}.foot-bg-left .subTitle[data-v-a1fee5c8]{font-size:%?24?%;color:grey;line-height:%?33?%}.foot-bg-left uni-image[data-v-a1fee5c8]{width:%?48?%;height:%?48?%;margin:%?25?% %?20?% 0 %?90?%}.foot-bg-right[data-v-a1fee5c8]{width:30%;height:%?100?%;line-height:%?100?%;text-align:center;background:#ffb822;font-size:%?32?%;color:#fff;border-radius:0}.foot-bg-left uni-text[data-v-a1fee5c8]{color:red}\r\n\r\n/* 历史售价 */.modal-box[data-v-a1fee5c8]{width:100%;height:100%;position:fixed;background:rgba(51,51,51,.6);top:0;left:0;z-index:999}.modal-body[data-v-a1fee5c8]{width:%?670?%;height:%?970?%;background:#fff;margin:%?200?% auto 0 auto;border-radius:%?10?%}.modal-title[data-v-a1fee5c8]{display:block;width:100%;height:%?120?%;line-height:%?120?%;text-align:center;font-size:%?32?%;font-weight:500;color:#333}.modal-item[data-v-a1fee5c8]{display:flex;font-size:%?28?%;font-weight:400;color:#666;height:%?60?%;line-height:%?60?%;justify-content:space-between;padding:0 %?30?%;height:%?740?%}.modal-item-lef uni-text[data-v-a1fee5c8]:last-child{margin-left:%?30?%}.modal-foot[data-v-a1fee5c8]{height:%?100?%;line-height:%?100?%;text-align:center;border-top:%?1?% solid #eee;font-size:%?28?%;font-weight:400}.foot-bg-left uni-text[data-v-a1fee5c8]{padding:5px}",""]),t.exports=e},fa13:function(t,e,i){var a=i("f746");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("7c2e26de",a,!0,{sourceMap:!1,shadowMode:!1})}}]);