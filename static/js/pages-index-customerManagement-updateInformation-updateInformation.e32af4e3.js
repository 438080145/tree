(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-customerManagement-updateInformation-updateInformation"],{1549:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,"uni-page-body[data-v-274746b6]{background-color:#f6f6f6}body.?%PAGE?%[data-v-274746b6]{background-color:#f6f6f6}.contain[data-v-274746b6]{background:initial}.contain .title[data-v-274746b6]{display:inline-block;box-sizing:border-box;width:100%;padding:0 %?24?%;line-height:%?70?%;font-size:%?32?%;background-color:#f6f6f6;border-top:%?2?% solid #e8e8e8;border-bottom:%?2?% solid #e8e8e8}.contain .Kuang[data-v-274746b6]{padding:%?0?% %?24?%;background:#fff}.contain .top .item[data-v-274746b6]{display:flex;align-items:center;height:%?90?%;justify-content:space-between;padding:%?0?% %?24?%;background:#fff;border-top:%?2?% solid #eee}.contain .top .item uni-input[data-v-274746b6]{font-size:%?24?%}.contain .top .item .button[data-v-274746b6]{font-size:%?26?%;color:#fff;background-color:#f40;border-radius:%?6?%;line-height:1;padding:%?16?% %?30?%}.contain .top .item uni-text[data-v-274746b6]{font-size:%?32?%}.contain .top .khName[data-v-274746b6]{justify-content:normal}.contain .customerInformation .Kuang[data-v-274746b6]{margin-bottom:%?100?%}.contain .customerInformation .Kuang .inputRow[data-v-274746b6]{display:flex;align-items:center;height:%?100?%;font-size:%?30?%;margin:0 %?-24?%;padding:0 %?24?%;border-bottom:%?2?% solid #eee}.contain .customerInformation .Kuang .inputRow uni-input[data-v-274746b6]{padding-left:%?10?%}.contain .remarks .Kuang[data-v-274746b6]{padding-top:%?36?%;padding-bottom:%?36?%}.contain .remarks .Kuang .uni-textarea[data-v-274746b6]{background:#fff}.contain .remarks .Kuang .uni-textarea uni-textarea[data-v-274746b6]{min-height:%?300?%;width:100%;font-size:%?28?%}.contain .remarks .Kuang .uni-textarea .uni-textarea-textarea[data-v-274746b6]{width:100%!important}.contain .fromMap .foot-left[data-v-274746b6]{width:0}.contain .fromMap .foot-right[data-v-274746b6]{width:100%}",""]),t.exports=e},"20ab":function(t,e,n){"use strict";n.r(e);var a=n("d560"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"20f7":function(t,e,n){"use strict";var a=n("8f3e"),i=n.n(a);i.a},"8bb61":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"contain"},[n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{staticClass:"item"},[n("v-uni-input",{attrs:{placeholder:"请输入手机号码"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),n("v-uni-view",{staticClass:"button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}}},[t._v("搜索")])],1),n("v-uni-view",{staticClass:"item khName"},[n("v-uni-text",[t._v("关联客户")]),t.selectCustomerInfo?n("v-uni-text",[t._v(" -"+t._s(t.formatTxt(t.selectCustomerInfo.name,15)))]):t.khName?n("v-uni-text",[t._v(" -"+t._s(t.formatTxt(t.khName,15)))]):n("v-uni-text")],1)],1),n("v-uni-view",{staticClass:"customerInformation"},[n("v-uni-text",{staticClass:"title"},[t._v("客户信息")]),n("v-uni-view",{staticClass:"Kuang"},[n("v-uni-view",{staticClass:"inputRow"},[n("v-uni-text",[t._v("名称:")]),n("v-uni-input",{attrs:{placeholder:"请输入客户名称",type:"text"},model:{value:t.customerName,callback:function(e){t.customerName=e},expression:"customerName"}})],1),n("v-uni-view",{staticClass:"inputRow"},[n("v-uni-text",[t._v("手机号码:")]),n("v-uni-input",{attrs:{placeholder:"请输入联系电话",type:"number"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-view",{staticStyle:{"max-height":"210upx","font-size":"30upx"}},[n("v-uni-text",[t._v("地址:")]),n("v-uni-textarea",{staticStyle:{width:"100%",height:"84px"},attrs:{maxlength:"500",placeholder:"请输入详细地址",value:t.address},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindTextAddress.apply(void 0,arguments)}}})],1)],1)],1),n("v-uni-view",{staticClass:"remarks"},[n("v-uni-text",{staticClass:"title"},[t._v("备注")]),n("v-uni-view",{staticClass:"Kuang"},[n("v-uni-view",{staticClass:"uni-textarea"},[n("v-uni-textarea",{attrs:{value:t.summary,placeholder:"请输入对问题的描述, 可输入1000字.",maxlength:"1000"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindTextInput.apply(void 0,arguments)}}})],1)],1)],1),t.fromMap?n("v-uni-view",{staticClass:"foot-two-buttons fromMap"},[n("v-uni-view",{staticClass:"foot-left"}),n("v-uni-view",{staticClass:"foot-right",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.submitCancel.apply(void 0,arguments)}}},[n("v-uni-text",[t._v("返回")])],1)],1):n("v-uni-view",{staticClass:"foot-two-buttons"},[n("v-uni-view",{staticClass:"foot-left",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.submitConfirm.apply(void 0,arguments)}}},[n("v-uni-text",[t._v("确认")])],1),n("v-uni-view",{staticClass:"foot-right",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.submitCancel.apply(void 0,arguments)}}},[n("v-uni-text",[t._v("取消")])],1)],1)],1)},i=[]},"8f3e":function(t,e,n){var a=n("1549");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("ccf0fd28",a,!0,{sourceMap:!1,shadowMode:!1})},"9fc3":function(t,e,n){"use strict";n.r(e);var a=n("8bb61"),i=n("20ab");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("20f7");var s=n("828b"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"274746b6",null,!1,a["a"],void 0);e["default"]=u.exports},b9d2:function(t,e,n){"use strict";var a=n("d4d7"),i={fxVisitCustomerSave:function(t){return(0,a.post)("fx/fxVisitCustomer/save",t,3)},datCustomerList:function(t){return(0,a.get)("api/basicData/customer/page?telephone="+t.telephone,t.data,1)},fxVisitCustomerSearch:function(t){return(0,a.get)("fx/fxVisitCustomer/customerSearch?mobilePhone='"+t.mobilePhone+"'",t.data,3)},getFxVisitCustomer:function(t){return(0,a.get)("fx/fxVisitCustomer/"+t,null,3)}};t.exports=i},d560:function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("bf0f");var i=a(n("fa47")),o=a(n("b9d2")),s={data:function(){return{id:"",customerName:"",phone:"",address:"",summary:"",searchValue:"",khId:"",khName:"",selectCustomerInfo:null,loding:!1,fromMap:!1}},components:{},onLoad:function(t){this.id=t.id,this.customerName=t.customerName,this.phone=t.phone,this.address=t.address,this.summary=t.summary,this.searchValue=t.phone,this.fromMap="true"===t.fromMap},created:function(){this.$scope.$getAppWebview().setStyle({softinputNavBar:"block"})},onShow:function(){this.initDate()},onReachBottom:function(){},computed:{formatTxt:function(){return function(t,e){return e?"string"==typeof t&&i.default.isInt(e)&&t.length>e?t.substring(0,e)+"...":t:""}}},methods:{initDate:function(){if(this.id){var t=this;this.loding=!0,o.default.getFxVisitCustomer(this.id).then((function(e){e.meta.success?(t.customerName=e.data.obj.customerName,t.phone=e.data.obj.phone,t.address=e.data.obj.address,t.summary=e.data.obj.summary,t.khId=e.data.obj.khId,t.khName=e.data.obj.khName,t.searchValue=t.searchValue?t.searchValue:e.data.obj.phone,t.loding=!1):uni.showToast({icon:"none",title:e.meta.message,duration:2e3})}))}},bindTextInput:function(t){this.summary=t.detail.value},bindTextAddress:function(t){this.address=t.detail.value},searchCheckUp:function(){var t=this;return new Promise((function(e,n){t.searchValue?e():uni.showToast({icon:"none",title:"请输入条件!",duration:2e3})}))},search:function(){var t=this;this.searchCheckUp().then((function(){uni.navigateTo({url:"../selectCustomers/selectCustomers?phone="+t.searchValue})}))},checkUp:function(){var t=this;return new Promise((function(e,n){t.customerName?t.phone?i.default.checkPhone(t.phone)?t.address?e():uni.showToast({icon:"none",title:"请输入详细地址!",duration:2e3}):uni.showToast({icon:"none",title:"请输入正确的手机号码!",duration:2e3}):uni.showToast({icon:"none",title:"请输入联系电话!",duration:2e3}):uni.showToast({icon:"none",title:"请输入客户名称!",duration:2e3})}))},goBack:function(){uni.navigateBack({delta:1})},submitConfirm:function(){var t=this;this.checkUp().then((function(){var e={id:t.id,khId:t.selectCustomerInfo?t.selectCustomerInfo.id:t.khId,customerName:t.customerName,phone:t.phone,address:t.address,summary:t.summary};t.loding?uni.showToast({icon:"none",title:"数据正在加载中, 请稍后",duration:2e3}):o.default.fxVisitCustomerSave(e).then((function(e){e.meta.success?(uni.showToast({icon:"none",title:"修改客户信息成功",duration:2e3}),setTimeout((function(){t.goBack()}),1500)):uni.showToast({icon:"none",title:e.meta.message,duration:2e3})}))}))},submitCancel:function(){this.goBack()}}};e.default=s}}]);