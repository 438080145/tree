(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-assessment-normal"],{"018fd":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("5c47"),a("a1c1"),a("c223");var i={filters:{subAmoumt:function(t){if(!t)return 0;var e=t+"";return e.replace(/\B(?=(?:\d{3})+\b)/g,",")}},props:{list:{type:Array,default:function(){return[]}}},computed:{dataList:function(){return[].concat(this.list||[])}}};e.default=i},"0a48":function(t,e,a){"use strict";a.r(e);var i=a("f965"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"0d34":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"sale"},[i("pickerHeader",{staticStyle:{padding:"30upx 0"},attrs:{isDateRange:!0,isOnlyShowTime:!0,parentStartDate:t.startDate,parentEndDate:t.endDate}}),i("v-uni-view",{staticClass:"centerBox"},[i("v-uni-view",{staticClass:"centerBox_header"},[t._v("其他考核")]),i("v-uni-view",{staticClass:"centerBox_text"},[i("v-uni-text",[t._v("考核项目：")]),t._v(t._s(t.assessName))],1)],1),i("v-uni-view",{staticClass:"otherList"},[i("v-uni-view",{staticClass:"otherList_item"},[t._l(t.list,(function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"item_text",on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.showMore(e)}}},[i("v-uni-view",[t._v(t._s(e.employeeName))]),i("v-uni-image",{class:{active:e.isShowMore},attrs:{src:a("4fe6")}})],1),i("v-uni-view",{key:n+"_1",staticClass:"otherList_content",class:{active:e.isShowMore}},[1==t.otherType?i("v-uni-view",{staticClass:"item_box"},[i("v-uni-view",{staticClass:"title"},[t._v("开单")]),i("v-uni-view",{staticClass:"detailBox"},[e.saleTarget?i("v-uni-view",[t._v("开单数量："+t._s(t._f("subAmoumt")(e.totalQuantity1)))]):t._e(),e.saleTarget?i("v-uni-view",[t._v("目标数量："+t._s(t._f("subAmoumt")(e.saleTarget)))]):t._e(),e.scoringTarget?i("v-uni-view",[t._v("开单金额："+t._s(t._f("subAmoumt")(e.totalAmount1)))]):t._e(),e.scoringTarget?i("v-uni-view",[t._v("目标金额："+t._s(t._f("subAmoumt")(e.scoringTarget)))]):t._e()],1)],1):t._e(),3==t.otherType?i("v-uni-view",{staticClass:"item_box"},[i("v-uni-view",{staticClass:"title"},[t._v("拓客")]),i("v-uni-view",{staticClass:"detailBox"},[e.saleTarget3?i("v-uni-view",[t._v("新增客户："+t._s(t._f("subAmoumt")(e.customerNumber)))]):t._e(),e.saleTarget3?i("v-uni-view",[t._v("目标客户："+t._s(t._f("subAmoumt")(e.saleTarget3)))]):t._e(),e.scoringTarget3?i("v-uni-view",[t._v("销售额："+t._s(t._f("subAmoumt")(e.totalAmount3)))]):t._e(),e.scoringTarget3?i("v-uni-view",[t._v("目标销售额："+t._s(t._f("subAmoumt")(e.scoringTarget3)))]):t._e()],1)],1):t._e()],1)]}))],2)],1)],1)},n=[]},"17d2":function(t,e,a){"use strict";a.r(e);var i=a("0d34"),n=a("0a48");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("97a7");var o=a("828b"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"2fbc1317",null,!1,i["a"],void 0);e["default"]=r.exports},"2c35a":function(t,e,a){"use strict";a.r(e);var i=a("018fd"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},3507:function(t,e,a){"use strict";var i=a("c465"),n=a.n(i);n.a},3750:function(t,e,a){"use strict";a.r(e);var i=a("a739"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"393f":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"sale"},[i("pickerHeader",{staticStyle:{padding:"30upx 0"},attrs:{isDateRange:!0,isOnlyShowTime:!0,parentStartDate:t.startDate,parentEndDate:t.endDate}}),i("v-uni-view",{staticClass:"centerBox"},[i("v-uni-view",{staticClass:"centerBox_header"},[t._v("销售考核")]),i("v-uni-view",{staticClass:"centerBox_text"},[i("v-uni-text",[t._v("考核项目：")]),t._v(t._s(t.assessName))],1),i("v-uni-view",{staticClass:"centerBox_text"},[i("v-uni-text",[t._v("提成业务范围：")]),t._v(t._s(t.lineName))],1),t.isSummary?t._e():i("v-uni-view",{staticClass:"centerBox_text"},[i("v-uni-text",[t._v("提成合计：")]),t._v(t._s(t.info.totalCommission||0))],1),i("v-uni-view",{staticClass:"centerBox_pcroess"},[i("prcoess",{attrs:{targetNumber:t.info.totalAmountTarget||0,compeleteNumber:t.info.totalAmount||0}})],1),t.isSummary?i("v-uni-view",{staticClass:"moreBox",class:{active:t.isShowMore}},[i("ctable",{attrs:{titleList:t.tableHeader,list:t.tableList},on:{tbClick:function(e){arguments[0]=e=t.$handleEvent(e),t.tbClick.apply(void 0,arguments)}}})],1):i("v-uni-view",{staticClass:"moreBox",class:{active:t.isShowMore}},[i("v-uni-view",[t._v(t._s(t.saleTypeName)+"利润提成（元）")]),i("tlist",{attrs:{list:t.tlistData}})],1)],1),i("v-uni-view",{staticClass:"extrand",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.showMore.apply(void 0,arguments)}}},[t._v(t._s(t.isShowMore?"点击收起":"展开更多")),i("v-uni-image",{class:{active:t.isShowMore},attrs:{src:a("4fe6")}})],1)],1)},n=[]},"3adf":function(t,e,a){"use strict";a.r(e);var i=a("393f"),n=a("afaa");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("fc49");var o=a("828b"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"a6372c30",null,!1,i["a"],void 0);e["default"]=r.exports},"46d2":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page"},[1==t.content?a("v-uni-view",{staticClass:"item"},[a("sale-item",{attrs:{content:t.content,isSummary:t.isNormalPerson,dataId:t.id,assessName:t.assessName,saleType:t.saleType,startDate:t.startDate,endDate:t.endDate,carryRange:t.carryRange}})],1):t._e(),2==t.content?a("v-uni-view",{staticClass:"item"},[a("scoring-item",{attrs:{content:t.content,isSummary:t.isNormalPerson,dataId:t.id,assessName:t.assessName,startDate:t.startDate,endDate:t.endDate}})],1):t._e(),3==t.content?a("v-uni-view",{staticClass:"item"},[a("other-item",{attrs:{content:t.content,isSummary:t.isNormalPerson,dataId:t.id,assessName:t.assessName,startDate:t.startDate,endDate:t.endDate,otherType:t.otherType}})],1):t._e()],1)},n=[]},"4fe6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAKBAMAAACgUqiRAAAAGFBMVEWEhISAgIBHcEyAgIB6enqAgICCgoKAgIAUaalZAAAAB3RSTlMT0gDXGbcqhO85WQAAAEpJREFUCNdjSGVSAgHXBIZwARBDxTyAgbEQJOhcyMCgIC4AEhJQYFACCToXMgFZQEGgkBKQBRRMBgqDWAri5UClIBZYJYSlEAAiAOZMDmcJUYE4AAAAAElFTkSuQmCC"},"500e":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".page[data-v-c3a8c044]{background:#f6f6f6;height:100%;overflow-y:auto}.page .item + .item[data-v-c3a8c044]{margin-top:%?10?%}",""]),t.exports=e},"50cf":function(t,e,a){"use strict";a.r(e);var i=a("bca1"),n=a("3750");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("8560");var o=a("828b"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"4fbef687",null,!1,i["a"],void 0);e["default"]=r.exports},"50e1":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".sale[data-v-4fbef687]{font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:%?40?%;background:#fff;padding:%?30?% %?34?% %?15?% %?40?%}.sale .centerBox[data-v-4fbef687]{padding:%?30?% %?10?%}.sale .centerBox .centerBox_header[data-v-4fbef687]{font-size:%?32?%;line-height:%?48?%;margin-bottom:%?20?%;font-weight:500}.sale .centerBox .centerBox_text[data-v-4fbef687]{margin-top:%?10?%}.sale .centerBox .centerBox_text uni-text[data-v-4fbef687]{color:#999}.sale .centerBox .centerBox_pcroess[data-v-4fbef687]{margin-top:%?50?%}.sale .centerBox .moreBox[data-v-4fbef687]{font-size:%?32?%;line-height:%?48?%;margin-top:%?0?%;height:0;overflow:hidden;transition:all .3s;opacity:0}.sale .centerBox .moreBox.active[data-v-4fbef687]{height:auto;margin-top:%?60?%;opacity:1}.sale .extrand[data-v-4fbef687]{background:#fff;display:flex;justify-content:center;align-items:center;color:grey;font-size:%?24?%;font-family:PingFangSC-Regular,PingFang SC;line-height:%?33?%}.sale .extrand uni-image[data-v-4fbef687]{width:%?17?%;height:%?10?%;margin-left:%?10?%;-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:all .1s}.sale .extrand uni-image.active[data-v-4fbef687]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}",""]),t.exports=e},5838:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.wmsData=e.tmsData=e.pickData=void 0;e.pickData=[{title:"分值",field:"pickAmountScore"},{title:"金额",field:"pickTotalAmount"},{title:"订单数分值",field:"pickBillNumberScore"},{title:"订单数",field:"pickBillNumber"},{title:"有效工时",field:"pickWorkingHours"},{title:"有效工时分值",field:"pickWorkingHoursScore"},{title:"单品数",field:"pickTotalQuantity"},{title:"单品数分值",field:"pickQuantityScore"},{title:"提成",field:"pickTotalPartAmount"},{title:"总分值",field:"pickTotalPartScore"}];e.wmsData=[{title:"分值",field:"wmsAmountScore"},{title:"金额",field:"wmsTotalAmount"},{title:"订单数分值",field:"wmsBillNumberScore"},{title:"订单数",field:"wmsBillNumber"},{title:"有效工时",field:"wmsWorkingHours"},{title:"有效工时分值",field:"wmsWorkingHoursScore"},{title:"单品数",field:"wmsTotalQuantity"},{title:"单品数分值",field:"wmsQuantityScore"},{title:"提成",field:"wmsTotalPartAmount"},{title:"总分值",field:"wmsTotalPartScore"}];e.tmsData=[{title:"分值",field:"tmsAmountScore"},{title:"金额",field:"tmsTotalAmount"},{title:"总里程",field:"tmsTotalMileage"},{title:"总里程分值",field:"tmsMileageScore"},{title:"共用时",field:"tmsWorkingHours"},{title:"共用时分值",field:"tmsWorkingHoursScore"},{title:"单据数",field:"tmsBillNumber"},{title:"单据数分值",field:"tmsBillNumberScore"},{title:"提成",field:"tmsTotalPartAmount"},{title:"总分值",field:"tmsTotalPartScore"}]},7263:function(t,e,a){"use strict";a.r(e);var i=a("79c2"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"73a9":function(t,e,a){"use strict";a.r(e);var i=a("46d2"),n=a("7263");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("bf5f");var o=a("828b"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"c3a8c044",null,!1,i["a"],void 0);e["default"]=r.exports},"73cf":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".list[data-v-10d62e53]{display:flex;flex-wrap:wrap;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#999;line-height:%?44?%}.list .item[data-v-10d62e53]{width:33.3%;text-align:center;overflow:hidden;margin-top:%?40?%}.list .item .text[data-v-10d62e53]{font-size:%?32?%;font-family:Arial-BoldMT,Arial;font-weight:400;color:#111;line-height:%?64?%;word-break:break-all}",""]),t.exports=e},"79c2":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("3adf")),s=i(a("50cf")),o=i(a("17d2")),r={components:{SaleItem:n.default,ScoringItem:s.default,OtherItem:o.default},data:function(){return{isNormalPerson:!1,content:-1,id:"",assessName:"",saleType:"",startDate:"",endDate:"",otherType:"",carryRange:""}},onLoad:function(t){var e=t.isNormalPerson,a=void 0===e?"":e,i=t.content,n=t.id,s=t.assessName,o=t.saleType,r=void 0===o?"":o,l=t.endDate,c=void 0===l?"":l,u=t.startDate,d=void 0===u?"":u,f=t.otherType,m=void 0===f?"":f,v=t.carryRange,g=void 0===v?"":v;this.isNormalPerson=!a,this.content=i+"",this.id=n+"",this.assessName=s,this.saleType=r,this.startDate=d,this.endDate=c,this.otherType=m,this.carryRange=g}};e.default=r},"7c08":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("b7c7")),s=i(a("2634")),o=i(a("2fdc")),r=i(a("9b1b"));a("e966"),a("c223"),a("aa77"),a("bf0f"),a("473f"),a("5c47"),a("dfcf");var l=i(a("00f0")),c=a("f55d"),u=i(a("f6a6")),d=i(a("f650")),f=i(a("da38")),m=a("8f59"),v=["商品品牌","商品类型","商品标签","客户类型","客户标签","销售开单业务员"],g=["","线上","线下"],p={components:{pickerHeader:l.default,prcoess:u.default,tlist:d.default,ctable:f.default},props:{isSummary:{type:Boolean,default:!0},content:{type:String,default:""},dataId:{type:String,default:""},assessName:{type:String,default:""},saleType:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""},carryRange:{type:String,default:""}},data:function(){return{tableHeader:[{title:"序号",field:"",width:10},{title:"姓名",field:"employeeName"},{title:"销售目标",field:"saleTarget"},{title:"完成目标",field:"totalFulfil"},{title:"提成合计",field:"totalCommission"}],isShowMore:!1,tableList:[],info:{},tlistData:[],saleTypeName:"",lineName:""}},created:function(){this.saleTypeName=this.saleType&&v[parseInt(this.saleType)-1]?v[parseInt(this.saleType)-1]:"",this.setLineName(),this.isSummary?this.getData():this.getNormalPerson()},methods:(0,r.default)((0,r.default)({},(0,m.mapMutations)(["setparams"])),{},{showMore:function(){this.isShowMore=!this.isShowMore},getData:function(){var t=this;return(0,o.default)((0,s.default)().mark((function e(){var a,i,n,o,r,l,u,d;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={content:t.content,assessId:t.dataId},uni.showLoading({title:"加载中"}),e.next=4,t.get("/sys/sysAssessConfig/detailPage",a,"pd",!0);case 4:return i=e.sent,e.next=7,(0,c.wait)(300);case 7:uni.hideLoading(),i.meta.success?(n=i.data,o=n.sum,r=n.list,l=o||{},u=l.totalTargetAll,d=l.totalFulfilAmountAll,t.info.totalAmountTarget=u||0,t.info.totalAmount=d||0,t.tableList=[].concat(r||[])):uni.showToast({title:i.meta.message,icon:"none",duration:2e3});case 9:case"end":return e.stop()}}),e)})))()},getNormalPerson:function(){var t=this;return(0,o.default)((0,s.default)().mark((function e(){var a,i,o,r,l,u,d;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=uni.getStorageSync("employeeId"),i={assessId:t.dataId,employeeIds:a},uni.showLoading({title:"加载中"}),e.next=5,t.get("/sys/sysAssessConfig/detailPage",i,"pd",!0);case 5:return o=e.sent,e.next=8,(0,c.wait)(300);case 8:uni.hideLoading(),o.meta.success?(r=o.data,l=r.disTable,u=r.list,d=Array.prototype.find.call(u||[],(function(t){var e=t.employeeId;return e==a})),d&&(t.tlistData=Array.prototype.reduce.call(l||[],(function(t,e){var a=e.headerName,i=e.field,s=e.isNotSaleType;return s?t:[].concat((0,n.default)(t),[{title:a,value:i&&d[i]?d[i]:""}])}),[]),t.info.totalAmountTarget=d.saleTarget,t.info.totalAmount=d.totalFulfil,t.info.totalCommission=d.totalCommission)):uni.showToast({title:o.meta.message,icon:"none",duration:2e3});case 10:case"end":return e.stop()}}),e)})))()},tbClick:function(t){var e=t.employeeId,a=t.employeeName,i=t.saleTarget,n=t.totalFulfil,s=t.totalCommission,o={assessId:this.dataId,employeeIds:e};this.setparams({params:o,assessName:this.assessName,employeeName:a,saleTarget:i,totalFulfil:n,totalCommission:s,saleType:this.saleType}),uni.navigateTo({url:"/pages/assessment/saleDetailPage"})},setLineName:function(){if(this.carryRange){var t=String.prototype.split.call(this.carryRange,",");this.lineName=Array.prototype.reduce.call(t,(function(t,e,a){return"".concat(t).concat(a?",":"").concat(g[e])}),"")}}})};e.default=p},8560:function(t,e,a){"use strict";var i=a("9abe"),n=a.n(i);n.a},"8cda":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"list"},[t._l(t.dataList,(function(e,i){var n=e.title,s=e.value;return[a("v-uni-view",{key:i+"_0",staticClass:"item"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(n))]),a("v-uni-view",{staticClass:"text"},[t._v(t._s(t._f("subAmoumt")(s)))])],1)]}))],2)},n=[]},"91b2":function(t,e,a){var i=a("a557");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("7c85dfd8",i,!0,{sourceMap:!1,shadowMode:!1})},"97a7":function(t,e,a){"use strict";var i=a("a936"),n=a.n(i);n.a},"9abe":function(t,e,a){var i=a("50e1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("0c141c27",i,!0,{sourceMap:!1,shadowMode:!1})},a557:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".sale[data-v-a6372c30]{font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:%?40?%;background:#fff;padding:%?30?% %?34?% %?15?% %?40?%}.sale .centerBox[data-v-a6372c30]{padding:%?30?% %?10?%}.sale .centerBox .centerBox_header[data-v-a6372c30]{font-size:%?32?%;line-height:%?48?%;margin-bottom:%?20?%;font-weight:500}.sale .centerBox .centerBox_text[data-v-a6372c30]{margin-top:%?10?%}.sale .centerBox .centerBox_text uni-text[data-v-a6372c30]{color:#999}.sale .centerBox .centerBox_pcroess[data-v-a6372c30]{margin-top:%?50?%}.sale .centerBox .moreBox[data-v-a6372c30]{font-size:%?32?%;line-height:%?48?%;margin-top:%?0?%;height:0;overflow:hidden;transition:all .3s;opacity:0}.sale .centerBox .moreBox.active[data-v-a6372c30]{height:auto;margin-top:%?60?%;opacity:1}.sale .extrand[data-v-a6372c30]{background:#fff;display:flex;justify-content:center;align-items:center;color:grey;font-size:%?24?%;font-family:PingFangSC-Regular,PingFang SC;line-height:%?33?%}.sale .extrand uni-image[data-v-a6372c30]{width:%?17?%;height:%?10?%;margin-left:%?10?%;-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:all .1s}.sale .extrand uni-image.active[data-v-a6372c30]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}",""]),t.exports=e},a739:function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223"),a("aa77"),a("bf0f"),a("473f");var n=i(a("b7c7")),s=i(a("2634")),o=i(a("2fdc")),r=i(a("9b1b")),l=i(a("00f0")),c=a("f55d"),u=i(a("f6a6")),d=i(a("f650")),f=i(a("da38")),m=a("8f59"),v=a("5838"),g={components:{pickerHeader:l.default,prcoess:u.default,tlist:d.default,ctable:f.default},props:{isSummary:{type:Boolean,default:!0},content:{type:String,default:""},dataId:{type:String,default:""},assessName:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""}},data:function(){return{tableHeader:[{title:"序号",field:"",width:10},{title:"姓名",field:"name"},{title:"目标提成",field:"totalCommission"},{title:"目前分值",field:"fulfilScore"},{title:"目标分值",field:"totalProfitTarget"}],isShowMore:!1,tableList:[],info:{},pickList:[],wmsList:[],tmsList:[]}},created:function(){this.isSummary?this.getData():this.getNormalPerson()},methods:(0,r.default)((0,r.default)({},(0,m.mapMutations)(["setparams"])),{},{showMore:function(){this.isShowMore=!this.isShowMore},getData:function(){var t=this;return(0,o.default)((0,s.default)().mark((function e(){var a,i,n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={content:t.content,assessIds:t.dataId},uni.showLoading({title:"加载中"}),e.next=4,t.get("/sys/assess/app/sales/summary",a,"pd",!0);case 4:return i=e.sent,e.next=7,(0,c.wait)(300);case 7:uni.hideLoading(),i.meta.success?(n=i.data.listSalesmanName,Object.assign(t.info,i.data),t.tableList=[].concat(n||[])):uni.showToast({title:i.meta.message,icon:"none",duration:2e3});case 9:case"end":return e.stop()}}),e)})))()},getNormalPerson:function(){var t=this;return(0,o.default)((0,s.default)().mark((function e(){var a,i,n,o,l;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=uni.getStorageSync("employeeId"),i={assessId:t.dataId,employeeIds:a},uni.showLoading({title:"加载中"}),e.next=5,t.get("/sys/sysAssessConfig/detailPage",i,"pd",!0);case 5:return n=e.sent,e.next=8,(0,c.wait)(300);case 8:uni.hideLoading(),n.meta.success?(o=n.data.list,l=Array.prototype.find.call(o||[],(function(t){var e=t.employeeId;return e==a})),l&&(t.pickList=t.getFilterData(v.pickData,(0,r.default)({},l)),t.wmsList=t.getFilterData(v.wmsData,(0,r.default)({},l)),t.tmsList=t.getFilterData(v.tmsData,(0,r.default)({},l)),t.info.totalTarget=l.saleTarget,t.info.totalFulfilScore=l.totalScoreAll,t.info.totalFulfilAmount=l.totalFulfilAmount)):uni.showToast({title:n.meta.message,icon:"none",duration:2e3});case 10:case"end":return e.stop()}}),e)})))()},tbClick:function(t){var e=t.employeeId,a=t.name,i=t.fulfilScore,n=t.totalProfitTarget,s={assessId:this.dataId,employeeIds:e};this.setparams({params:s,assessName:this.assessName,name:a,fulfilScore:i,totalProfitTarget:n}),uni.navigateTo({url:"/pages/assessment/scoreDetail"})},getFilterData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Array.prototype.reduce.call(t,(function(t,a){var i=a.title,s=a.field;return e[s]||0===e[s]?[].concat((0,n.default)(t),[{title:i,value:e[s]}]):t}),[])}})};e.default=g},a936:function(t,e,a){var i=a("bcb5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("2e8cc480",i,!0,{sourceMap:!1,shadowMode:!1})},afaa:function(t,e,a){"use strict";a.r(e);var i=a("7c08"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},bca1:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"sale"},[i("pickerHeader",{staticStyle:{padding:"30upx 0"},attrs:{isDateRange:!0,isOnlyShowTime:!0,parentStartDate:t.startDate,parentEndDate:t.endDate}}),i("v-uni-view",{staticClass:"centerBox"},[i("v-uni-view",{staticClass:"centerBox_header"},[t._v("计分考核")]),i("v-uni-view",{staticClass:"centerBox_text"},[i("v-uni-text",[t._v("考核项目：")]),t._v(t._s(t.assessName))],1),t.isSummary?t._e():i("v-uni-view",{staticClass:"centerBox_text"},[i("v-uni-text",[t._v("提成合计：")]),t._v(t._s(t.info.totalFulfilAmount||"0"))],1),i("v-uni-view",{staticClass:"centerBox_pcroess"},[i("prcoess",{attrs:{background:"#6798F8",color:"white",unit:"分",targetTitle:"目标分数",targetNumber:t.info.totalTarget||0,compeleteNumber:t.info.totalFulfilScore||0,allBg:"rgba(103, 152, 248, 0.2)"}})],1),t.isSummary?i("v-uni-view",{staticClass:"moreBox",class:{active:t.isShowMore}},[i("ctable",{attrs:{titleList:t.tableHeader,list:t.tableList},on:{tbClick:function(e){arguments[0]=e=t.$handleEvent(e),t.tbClick.apply(void 0,arguments)}}})],1):i("v-uni-view",{staticClass:"moreBox",class:{active:t.isShowMore}},[t.pickList.length>0?i("v-uni-view",[t._v("拣货")]):t._e(),i("tlist",{attrs:{list:t.pickList}}),t.tmsList.length>0?i("v-uni-view",[t._v("配送")]):t._e(),i("tlist",{attrs:{list:t.tmsList}}),t.wmsList.length>0?i("v-uni-view",[t._v("复核")]):t._e(),i("tlist",{attrs:{list:t.wmsList}})],1)],1),i("v-uni-view",{staticClass:"extrand",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.showMore.apply(void 0,arguments)}}},[t._v(t._s(t.isShowMore?"点击收起":"展开更多")),i("v-uni-image",{class:{active:t.isShowMore},attrs:{src:a("4fe6")}})],1)],1)},n=[]},bcb5:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".sale[data-v-2fbc1317]{font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333;line-height:%?40?%;background:#fff;padding:%?30?% %?34?% %?15?% %?40?%}.sale .centerBox[data-v-2fbc1317]{padding:%?30?% %?10?%}.sale .centerBox .centerBox_header[data-v-2fbc1317]{font-size:%?32?%;line-height:%?48?%;margin-bottom:%?20?%;font-weight:500}.sale .centerBox .centerBox_text[data-v-2fbc1317]{margin-top:%?10?%}.sale .centerBox .centerBox_text uni-text[data-v-2fbc1317]{color:#999}.sale .centerBox .centerBox_pcroess[data-v-2fbc1317]{margin-top:%?50?%}.sale .centerBox .moreBox[data-v-2fbc1317]{font-size:%?32?%;line-height:%?48?%;margin-top:%?0?%;height:0;overflow:hidden;transition:all .3s;opacity:0}.sale .centerBox .moreBox.active[data-v-2fbc1317]{height:auto;margin-top:%?60?%;opacity:1}.sale .extrand[data-v-2fbc1317]{background:#fff;display:flex;justify-content:center;align-items:center;color:grey;font-size:%?24?%;font-family:PingFangSC-Regular,PingFang SC;line-height:%?33?%}.sale .extrand uni-image[data-v-2fbc1317]{width:%?17?%;height:%?10?%;margin-left:%?10?%;-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:all .1s}.sale .extrand uni-image.active[data-v-2fbc1317]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.otherList[data-v-2fbc1317]{font-weight:400;color:#999}.otherList .otherList_item .item_text[data-v-2fbc1317]{font-size:%?30?%;font-weight:800;color:#333;display:flex;justify-content:space-between;align-items:center;padding:%?23?% 0}.otherList .otherList_item .item_text uni-image[data-v-2fbc1317]{width:%?28?%;height:%?16?%;-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:all .1s}.otherList .otherList_item .item_text uni-image.active[data-v-2fbc1317]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.otherList .otherList_item .otherList_content[data-v-2fbc1317]{height:0;overflow:hidden;transition:all .3s;opacity:0}.otherList .otherList_item .otherList_content.active[data-v-2fbc1317]{height:auto;opacity:1}.otherList .otherList_item .otherList_content .item_box .title[data-v-2fbc1317]{padding:%?29?% 0;color:#333}.otherList .otherList_item .otherList_content .item_box .detailBox[data-v-2fbc1317]{padding:%?9?% 0 %?29?% 0;border-bottom:%?1?% solid #eee;border-top:%?1?% solid #eee;display:flex;flex-wrap:wrap}.otherList .otherList_item .otherList_content .item_box .detailBox uni-view[data-v-2fbc1317]{width:50%;margin-top:%?20?%;box-sizing:border-box;padding-right:%?10?%;word-break:break-all}",""]),t.exports=e},bf5f:function(t,e,a){"use strict";var i=a("d0c9"),n=a.n(i);n.a},c465:function(t,e,a){var i=a("73cf");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("c336f9b6",i,!0,{sourceMap:!1,shadowMode:!1})},d0c9:function(t,e,a){var i=a("500e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("693e1356",i,!0,{sourceMap:!1,shadowMode:!1})},f650:function(t,e,a){"use strict";a.r(e);var i=a("8cda"),n=a("2c35a");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("3507");var o=a("828b"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"10d62e53",null,!1,i["a"],void 0);e["default"]=r.exports},f965:function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2634")),s=i(a("9b1b")),o=i(a("2fdc"));a("5c47"),a("a1c1"),a("fd3c");var r=i(a("00f0")),l=a("f55d"),c={filters:{subAmoumt:function(t){if(!t)return 0;var e=t+"";return e.replace(/\B(?=(?:\d{3})+\b)/g,",")}},components:{pickerHeader:r.default},props:{isSummary:{type:Boolean,default:!0},content:{type:String,default:""},dataId:{type:String,default:""},assessName:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""},otherType:{type:String,default:""}},data:function(){return{list:[]}},created:function(){this.getData()},methods:{showMore:function(t){t.isShowMore=!t.isShowMore},getData:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){var a,i;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={content:t.content,assessId:t.dataId},t.isSummary||(a.employeeIds=uni.getStorageSync("employeeId")),uni.showLoading({title:"加载中"}),e.next=5,t.get("/sys/sysAssessConfig/detailPage",a,"pd",!0);case 5:return i=e.sent,e.next=8,(0,l.wait)(300);case 8:uni.hideLoading(),i.meta.success?t.list=Array.prototype.map.call(i.data.list||[],(function(t){return(0,s.default)((0,s.default)({},t),{},{isShowMore:!1})})):uni.showToast({title:i.meta.message,icon:"none",duration:2e3});case 10:case"end":return e.stop()}}),e)})))()}}};e.default=c},fc49:function(t,e,a){"use strict";var i=a("91b2"),n=a.n(i);n.a}}]);