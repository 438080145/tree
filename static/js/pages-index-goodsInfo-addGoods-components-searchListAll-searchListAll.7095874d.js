(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-goodsInfo-addGoods-components-searchListAll-searchListAll"],{2861:function(t,e,a){"use strict";(function(t){a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223"),a("8f71"),a("bf0f");var s=i(a("9b1b")),n=a("8f59"),l={computed:(0,s.default)({},(0,n.mapState)(["params"])),data:function(){return{customerList:[],pageNum:1,hasNextPage:!1,inputValue:"",btnhidden:!0,checklist:{},returnArr:[],listdata:[],showMsg:"",tipsTitle:"",apiurl:"",interType:0,eventChannel:null}},components:{},created:function(){var t=this.getOpenerEventChannel();this.eventChannel=t},methods:{initData:function(){"customer"==this.params.searchtype?(this.tipsTitle="请输入客户名称/拼音/手机号",this.apiurl="api/basicData/customer/select/page",this.showMsg="只能选择一个客户",this.interType=1):"goodstype"==this.params.searchtype?(this.tipsTitle="请输入商品类型",this.apiurl="api/basicData/1/all/listByKhType2",this.showMsg="只能一种商品类型",this.interType=1):"storehouse"==this.params.searchtype?(this.tipsTitle="请输入仓库名称",this.apiurl="search/organ/pageList",this.showMsg="只能选择一个仓库",this.interType=3):"employees"==this.params.searchtype?(this.tipsTitle="请输入业务员",this.apiurl="org/sysEmployee/page/",this.showMsg="只能选择一个员工",this.interType=4):"supplier"==this.params.searchtype?(this.tipsTitle="请输入供应商",this.apiurl="api/basicData/supplier/page/",this.showMsg="只能选择一个供应商",this.interType=1):"brand"==this.params.searchtype?(this.tipsTitle="品牌",this.apiurl="api/basedata/dictionnary/page",this.showMsg="只能选择一个品牌",this.interType=1):"goodsType"==this.params.searchtype?(this.tipsTitle="标签",this.apiurl="api/basicData/label/page",this.showMsg="只能选择一个标签",this.interType=1):"cargo"==this.params.searchtype&&(this.tipsTitle="货位",this.apiurl="/api/basicData/container/page",this.showMsg="只能选择一个货位",this.interType=1)},goBack:function(){uni.navigateBack({delta:1})},getValue:function(t){this.customerList=[],this.pageNum=1,this.inputValue=t.detail.value,this.getListdata()},getListdata:function(){var e=this,a={pageNum:this.pageNum,pageSize:10,keyWord:this.inputValue,orderBy:"a.name"};"supplier"==this.params.searchtype&&(a.name=this.inputValue,a.keyWord=""),"brand"==this.params.searchtype&&(a.name=this.inputValue,a.keyWord="",a["status"]=-1,a["dictionaryTypeId"]=3),"goodsType"==this.params.searchtype&&(a.labelName=this.inputValue,a.labelType=1),"cargo"==this.params.searchtype&&(a.status=1),uni.showLoading({title:"加载中",mask:!0}),this.get(e.apiurl,a,e.interType).then((function(a){if(uni.hideLoading(),a.meta.success){var i=[];if(i=a.data.list,i.length>0){e.hasNextPage=a.data.hasNextPage;for(var s=0;s<i.length;s++)i[s].mobilePhone||(i[s].mobilePhone="暂无电话"),i[s].checked||(i[s].checked="false");1==e.pageNum?e.listdata=i:e.listdata=e.listdata.concat(i),t.log(e.listdata)}else e.listdata=[]}e.inputValue=""}))},checkChange:function(e,a){this.listdata[a]["checked"]?this.listdata[a]["checked"]=!1:this.listdata[a]["checked"]=!0,this.returnArr=this.listdata.filter((function(t){return 0==t.checked})),t.log(this.returnArr)},confirmbtn:function(){t.log(this.returnArr);var e=getCurrentPages();e[e.length-2];this.eventChannel.emit("ALLSelect",this.returnArr),uni.navigateBack({delta:1})}},onLoad:function(){this.initData(),this.getListdata()},onReachBottom:function(){this.hasNextPage?(t.log("11111"),uni.showLoading({title:"玩命加载中...",mask:!0}),this.pageNum++,this.getListdata(),t.log(this.pageNum+"----------"),uni.hideLoading()):uni.showToast({title:"暂无更多数据",duration:2e3,icon:"loading",mask:!0})}};e.default=l}).call(this,a("ba7c")["default"])},"61fb":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".head[data-v-55389bf4]{display:flex;justify-content:space-between}.head uni-image[data-v-55389bf4]{width:%?48?%;height:%?48?%}.head-left[data-v-55389bf4]{margin-left:%?20?%;padding-right:%?35?%}.header-right[data-v-55389bf4]{width:20%}.search-input[data-v-55389bf4]{width:%?679?%;margin:%?10?% auto}.sel_customerList[data-v-55389bf4]{margin-top:%?20?%;padding:0 %?30?%;background:#fff;box-sizing:border-box}.selbox[data-v-55389bf4]{display:flex;justify-content:flex-start;align-items:center;padding:%?35?% 0 %?25?% 0;height:%?120?%;border-bottom:1px solid #f0f0f0}.check[data-v-55389bf4]{width:%?44?%;height:%?44?%;margin-top:%?-80?%}.sel_customerTel[data-v-55389bf4]{display:flex;color:#333;justify-content:flex-start;flex-wrap:wrap;margin-top:%?10?%}.sel_customerDetail[data-v-55389bf4]{margin-left:%?20?%}.sel_customerName[data-v-55389bf4]{color:#333;font-size:%?32?%}.telsty[data-v-55389bf4]{margin-top:%?24?%;color:#666\r\n\t/* font-size: 28upx; */}.sel_customerTel uni-image[data-v-55389bf4]{width:%?45?%;height:%?45?%;vertical-align:middle}.sel_customerTel uni-view[data-v-55389bf4]{margin-right:%?30?%;font-size:%?28?%}",""]),t.exports=e},b5a1:function(t,e,a){"use strict";a.r(e);var i=a("2861"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},bad6:function(t,e,a){"use strict";a.r(e);var i=a("d5d7"),s=a("b5a1");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("f9cd");var l=a("828b"),r=Object(l["a"])(s["default"],i["b"],i["c"],!1,null,"55389bf4",null,!1,i["a"],void 0);e["default"]=r.exports},d5d7:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"contain"},[a("v-uni-view",{staticClass:"com-input"},[a("v-uni-image",{staticClass:"com-icon",attrs:{src:"/static/img/index/search.png"}}),a("v-uni-input",{attrs:{placeholder:t.tipsTitle},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.getValue.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1),t.listdata.length?a("v-uni-view",{staticClass:"sel_customerList"},t._l(t.listdata,(function(e,i){return a("v-uni-view",{key:i},[a("v-uni-view",{staticClass:"selbox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkChange(e,i)}}},[e.checked?a("v-uni-image",{staticClass:"check",attrs:{src:"/static/img/check.png"}}):a("v-uni-image",{staticClass:"check",attrs:{src:"/static/img/checked.png"}}),"customer"==t.params.searchtype?a("v-uni-view",{staticClass:"sel_customerDetail"},[a("v-uni-view",{staticClass:"sel_customerName"},[t._v(t._s(e.name))]),""!=e.mobilePhone?a("v-uni-view",{staticClass:"sel_customerTel"},[a("v-uni-view",{staticClass:"telsty"},[t._v("电话："+t._s(e.mobilePhone))]),a("v-uni-view",{staticClass:"telsty"},[t._v(t._s(e.telephone))])],1):a("v-uni-view",{staticClass:"sel_customerTel"})],1):t._e(),"storehouse"==t.params.searchtype?a("v-uni-view",{staticClass:"sel_customerDetail"},[a("v-uni-view",{staticClass:"sel_customerName"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"sel_customerTel"},[a("v-uni-view",{staticClass:"telsty"},[t._v("所属机构："+t._s(e.orgName))])],1)],1):t._e(),"goodsType"==t.params.searchtype?a("v-uni-view",{staticClass:"sel_customerDetail"},[a("v-uni-view",{staticClass:"sel_customerName"},[t._v(t._s(e.labelName))])],1):t._e(),"cargo"==t.params.searchtype?a("v-uni-view",{staticClass:"sel_customerDetail"},[a("v-uni-view",{staticClass:"sel_customerName"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"sel_customerTel"},[a("v-uni-view",{staticClass:"telsty"},[t._v("编号："+t._s(e.code))])],1)],1):t._e()],1)],1)})),1):a("v-uni-view",[a("v-uni-image",{staticClass:"nodata",attrs:{src:"/static/img/nodata.png",mode:""}}),a("v-uni-view",{staticClass:"nodata-des"},[t._v("暂无数据")])],1),a("v-uni-view",{staticClass:"blank"}),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.btnhidden,expression:"btnhidden"}]},[a("v-uni-view",{staticClass:"disrSub",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmbtn.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)},s=[]},f207:function(t,e,a){var i=a("61fb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("967d").default;s("33a04eb0",i,!0,{sourceMap:!1,shadowMode:!1})},f9cd:function(t,e,a){"use strict";var i=a("f207"),s=a.n(i);s.a}}]);