(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-publicPage-documentListPage-documentListPage"],{"079b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAA7UlEQVRoQ+1ZwQ3DIAw0gzRLmCU6SWfKJF0CL9EMQoXUSlElqiPUqhwdbwP23XEYkST4SMHzFxbwbwbJwGkZyDlfa61rKzCldCul3D2KdZOQqj5E5PJKejOzJVoBdZ+wmbmA5bJoS1xVWQAiOTLQQ4kSQvTTLBqMGw4jAyBkZICHGJRKL4wSooS8JLTr598t8eRWh6dv394T3TPw0c8f3v1HE7vvifMWEF5Cs9SzFwIR5EXGiwyUCnuhUaDoQiBidCG6ECgVutAoUHQhEDFPF4r9wRH+iwlUwHSYm4SmMwMXYAEgUG5hZMANWnDhJ74spjFkAgP8AAAAAElFTkSuQmCC"},"37b9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEX///8zMzP6+vpwcHCSkpJ9fX2IiIhISEjY2Njt7e2/v787OztbW1vTET4fAAAAk0lEQVQ4y82TuQ2EQBAEVwgkDq/FY584FwciIATIAEIgCgwCwMEhBEK4zEigy98xt1Wz8/SEEHsUCwh3BcCj0b0nh7yQP/KpdgI2NRY4JVvth4BLmizwV22BDoCkV/11wk8abKZZpQUyAlYAUgJQwFT8OZbLDeJIcIihpbHjoni1aAa2DxqOLRrI1HgGfDh8avHEC/ZBGXwrpcb3AAAAAElFTkSuQmCC"},"584c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"contain"},[a("v-uni-view",{staticClass:"head"},[a("v-uni-view",{staticClass:"header-left"},[a("v-uni-image",{attrs:{src:i("37b9"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"header-middle"},[a("v-uni-text",[t._v(t._s(t.title))])],1),a("v-uni-view",{staticClass:"header-right"},[a("v-uni-image",{attrs:{src:i("7953")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delNote.apply(void 0,arguments)}}}),a("v-uni-image",{attrs:{src:i("079b")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.newcountNote.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticStyle:{height:"160upx"}}),t.documentList.length?a("v-uni-view",{staticClass:"item-box"},t._l(t.documentList,(function(e,n){return a("v-uni-view",{key:n},[a("v-uni-view",{staticClass:"selboxa"},[a("v-uni-view",{staticClass:"secondLine",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.delCustomerCheck(e,n)}}},[a("v-uni-view",{staticClass:"right-box"},[e.checked?a("v-uni-image",{staticClass:"check",attrs:{src:i("f4f5")}}):a("v-uni-image",{staticClass:"check",attrs:{src:i("e1b4")}})],1),a("v-uni-view",{staticClass:"left-box"},[a("v-uni-view",{staticClass:"sel_customerDetail"},["销售报价单"==t.title?a("v-uni-view",{staticClass:"sel_customerName"},[t._v("单号："+t._s(e.saleNo))]):t._e(),"采购退货单"==t.title?a("v-uni-view",{staticClass:"sel_customerName"},[t._v("单号："+t._s(e.purchaseNo))]):t._e(),a("v-uni-view",{staticClass:"telsty"},[t._v("时间："),a("v-uni-text",[t._v(t._s(t.timeShift.timeTransfer(e.createTime)))])],1),"采购退货单"==t.title?a("v-uni-view",{staticClass:"telsty"},[t._v("仓库名称："),a("v-uni-text",[t._v(t._s(e.storehouseName))])],1):t._e(),"销售报价单"==t.title?a("v-uni-view",{staticClass:"telsty"},[t._v("客户名称："),a("v-uni-text",[t._v(t._s(e.customerName))])],1):t._e()],1)],1)],1),a("v-uni-view",{staticClass:"endLine",staticStyle:{"font-size":"24upx"}},[1==e.checkStatus?a("v-uni-view",{staticClass:"sr_editBtn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.editInventory(e,n)}}},[t._v("编辑")]):t._e(),1==e.checkStatus?a("v-uni-view",{staticClass:"sr_editBtn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.examine(e)}}},[t._v("审核")]):a("v-uni-view",[a("v-uni-view",{staticClass:"sr_editBtn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toView(e,n)}}},[t._v("查看")]),a("v-uni-view",{staticClass:"sr_editBtn"},[t._v("已审核")])],1)],1)],1)],1)})),1):a("v-uni-view",[a("v-uni-image",{staticClass:"nodata",attrs:{src:i("a478"),mode:""}}),a("v-uni-view",{staticClass:"nodata-des"},[t._v("暂无单据明细")])],1)],1)},n=[]},7953:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC50lEQVRoQ+1ZOWxTQRCdkWyIIwUj0QSFUKUyko12V+JwAyUoCCqaUJOGcPRQQc8RmlCThgoEghIac0i7q9gSrlJhEGmQMJESw4806It8a3N5D5sYo//bmTczb2ZndvcvwoB/OODxQ1cEGGMXEfE+AIwGJmKJiK5prZ8E4sMJTExM7M3n80sAsD/U+True7PZHF1cXPwZYie4AkKIU0T0OsTpZgwinpZSvgmxFUyAc34bAG6GON0Gc0cpdSvEVjABxlgFEU8mTonoktZ63iUIxtgUIj42sG+11mUX7JbqhYDK5fJIq9X6BgDZdTwBwJhS6quLPc75QQD4AtDuwWhoaOhApVJZdsGbOkEVYIxNIuJzI4N1rfURH+eMsY+IWDBsnNNav/CxEesGERBC3CWi64azWaXUVR/nnPMHADCTYBDxnpTyho+NYAKc8yoAFA3nF6SUz3ycCyHOE9FTA1NTSpV8bGwgIIQ4Q0RzADDua2SX9RuIOC2lfLWBAOf80wAEn+SqoZQ6/H8RGPgltNM65pzHM779KaWCJpdrn/j6swbja9A10F4lLCXQbcY3430r3rMKGEMAzDmdBGiTJ3p9I7BpH2nPaSMwc5/ZIv8XCHScVq6ZddVrH2Nsa9jVoE3PJk8r0O1ctmXYJk8rkFbAcmZKl9AOS6RnO7EtwzZ52sRpE6dN/GcNuPZKehbyvYi4ZtZVL63ANhXoeGGxXXj6vg/Yrow2ed8J2C5GrvK/0QM/AGAkCSCKovFarfbZNSAfvWKxeCibzTYMzLJSal8nGy5noXcAcNww8jKKoulek1gPPv47ftbw9V4pdaIrAkKIK0Q065PJXuki4oyU8mFXBAqFwp5cLvcBAI72KjBHOwurq6vH6vX6r64IxOBSqTSWyWTi96vdIrGwtrY2Wa1W44fAjp+1BxJ0XInh4eHLRDQFAPGDXruxbU4c5fELZfzwN7+ysvLIlnnnndjRed/UnCvQtwgtjn8DT1JDT4tWJFcAAAAASUVORK5CYII="},"89c5":function(t,e,i){"use strict";(function(t){i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c223"),i("8f71"),i("bf0f");var n=a(i("9b1b")),s=i("8f59"),o={computed:(0,n.default)({},(0,s.mapState)(["params"])),data:function(){return{pageNum:1,documentList:[],returnArr:[],title:"",url:null,zbid:""}},methods:(0,n.default)((0,n.default)({},(0,s.mapMutations)(["setparams"])),{},{goBack:function(){uni.navigateBack({delta:1})},judgmentType:function(){t.log("this.title",this.title),"销售报价单"==this.title&&(this.url="sale/page",this.getListdata()),"采购退货单"==this.title&&(this.url="api/purchase/main/103/statisticsPage",this.getPurchaseReturn())},getListdata:function(){var e=this,i=this;this.get("sale/page",{pageNum:i.pageNum,pageSize:10,type:201},3).then((function(a){t.log("销售报价单",a);var n=a.data.list;if(a.meta.success)if(n.length>0){for(var s=0;s<n.length;s++)n[s].newTime=e.timeShift.timeTransfer(n[s].fillDate),void 0==n[s].totalAmount&&(n[s].totalAmount=0);i.hasNextPage=a.data.hasNextPage,1==i.pageNum?i.documentList=a.data.list:i.documentList=i.documentList.concat(a.data.list)}else i.documentList=[]}))},getPurchaseReturn:function(){var e=this;this.get(e.url,{pageNum:e.pageNum,pageSize:10},1).then((function(i){if(i.meta.success){var a=i.data.pageInfo.list;a.length>0?(e.hasNextPage=i.data.pageInfo.hasNextPage,1==e.pageNum?(e.documentList=i.data.pageInfo.list,t.log("that.documentList",e.documentList)):e.documentList=e.documentList.concat(i.data.pageInfo.list)):e.documentList=[]}}))},newcountNote:function(){"销售报价单"==this.title&&(t.log("~~~~~~~","销售报价单"),uni.navigateTo({url:"../../salesQuotation/salesQuotation"})),"采购退货单"==this.title&&uni.navigateTo({url:"../../purchaseReturn/purchaseReturn"})},examine:function(e){var i=this,a=this;e.modifyAuthority&&1===e.modifyAuthority?uni.showToast({icon:"none",title:"您没有审核权限!",duration:2e3}):("销售报价单"==this.title&&this.get("sale/main/check?id="+e.id,null,3).then((function(t){t.meta.success?(uni.showToast({icon:"none",title:"审核成功",duration:2e3}),i.saleList=[],i.pageNum=1,i.getListdata()):uni.showToast({icon:"none",title:t.meta.message,duration:2e3})})),"采购退货单"==this.title&&this.get("api/purchase/detail/list?purchaseId="+e.id,null,1).then((function(n){t.log("res-",n),n.meta.success&&(0==n.data.list.length?uni.showToast({icon:"none",title:"该单据没有明细,无法审核!",duration:2e3}):(t.log("准备审核"),i.post("api/purchase/main/"+e.id+"/check",null,1).then((function(t){t.meta.success&&(uni.showToast({title:"审核成功",icon:"none",duration:1e3}),setTimeout((function(){a.documentList=[],a.judgmentType()}),1e3))}))))})))},delCustomerCheck:function(e,i){t.log("index:",e),this.documentList[i].checked=!this.documentList[i].checked,this.$forceUpdate(),this.returnArr=this.documentList.filter((function(t){return t.checked}))},delNote:function(){var e=this;if(e.returnArr.length>1)uni.showToast({icon:"none",title:"只能选择一个单据",duration:2e3});else if(0!=e.returnArr.length)if(1==e.returnArr[0].checkStatus){t.log("作废：：",e.returnArr);var i=e.returnArr[0].id;t.log("id::",i),e.del("api/check/disable/"+i,{},1).then((function(i){t.log(i),i.meta.success?(uni.showToast({title:"作废成功",icon:"none",duration:1e3}),e.returnArr=[],setTimeout((function(){e.getListdata()}),1e3)):uni.showToast({title:i.meta.message,icon:"none",duration:1e3})}))}else uni.showToast({icon:"none",title:"审核的单据不能作废",duration:2e3});else uni.showToast({icon:"none",title:"请选择要作废的单据",duration:2e3})},editInventory:function(e,i){if(t.log("this.title",this.title),t.log("item",e),"销售报价单"==this.title){var a=e.id;uni.setStorageSync("againQuotationId",a),uni.navigateTo({url:"../../salesQuotation/salesQuotation"})}if("采购退货单"==this.title){var n=e;uni.setStorageSync("againPurchaseReturn",n),uni.navigateTo({url:"../../purchaseReturn/purchaseReturn?purchaseType=1"})}},toView:function(t,e){"销售报价单"==this.title?this.setparams({id:t.id,title:"销售报价明细"}):"采购退货单"==this.title&&this.setparams({id:t.id,title:"采购退货明细"}),uni.navigateTo({url:"../../publicDetailPage/publicDetailPage"})}}),onLoad:function(t){t.type&&(this.title=t.type,this.judgmentType())},onShow:function(){},onReachBottom:function(){this.hasNextPage?(uni.showLoading({title:"玩命加载中...",mask:!0}),this.pageNum++,this.getListdata(),uni.hideLoading()):uni.showToast({title:"暂无更多数据",duration:1e3,icon:"loading",mask:!0})}};e.default=o}).call(this,i("ba7c")["default"])},a478:function(t,e,i){t.exports=i.p+"static/img/nodata.png"},b98c:function(t,e,i){"use strict";var a=i("f8ac"),n=i.n(a);n.a},c321:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,"/* .right{\r\n\tmargin-top: 60upx;\r\n} */.selboxa[data-v-5c0df7c5]{\r\n\t/* margin: 20upx; */background:#fff;padding:%?40?% %?20?%;\r\n\t/* border-radius: 8px; */display:flex;flex-direction:column;\r\n\t/* box-shadow: 0rem 0.2rem 0.1rem rgba(0, 0, 0, 0.1); */border-bottom:1px solid #eee}.endLine[data-v-5c0df7c5]{display:flex;justify-content:flex-end;font-size:10px}.cu-btn[data-v-5c0df7c5]{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;padding:0 %?30?%;font-size:%?28?%;height:%?56?%;line-height:1;text-align:center;text-decoration:none;overflow:visible;margin-left:0;-webkit-transform:translate(%?0?%,%?0?%);transform:translate(%?0?%,%?0?%);margin-right:0;border:.5px solid currentColor;margin-left:10px;border-radius:6px}.item-box[data-v-5c0df7c5]{background:#f6f6f6}.left-box[data-v-5c0df7c5]{display:flex}.header-middle[data-v-5c0df7c5]{width:25%!important}.sel_customerName[data-v-5c0df7c5]{font-size:%?32?%;font-weight:700!important;color:#333}.rightbox[data-v-5c0df7c5]{width:20%;font-size:%?24?%;font-weight:400;color:#f13a3a;text-align:right}.right-box[data-v-5c0df7c5]{width:10%!important}.check[data-v-5c0df7c5]{margin-top:0!important}uni-page-body[data-v-5c0df7c5]{background-color:#fff}body.?%PAGE?%[data-v-5c0df7c5]{background-color:#fff}.containhasHeight[data-v-5c0df7c5]{height:100%;overflow:hidden}.head[data-v-5c0df7c5]{display:flex;justify-content:space-between;font-weight:590}.header-left[data-v-5c0df7c5]{width:20%}.header-middle[data-v-5c0df7c5]{width:20%}.head uni-image[data-v-5c0df7c5]{width:%?48?%;height:%?48?%;margin:%?7?% %?15?%;display:block}.header-right[data-v-5c0df7c5]{display:flex;width:20%}.sel_customerList[data-v-5c0df7c5]{padding:0 %?40?%}.customerList-item[data-v-5c0df7c5]{display:flex;justify-content:space-between;border-bottom:1px solid #f0f0f0}.selbox[data-v-5c0df7c5]{display:flex;justify-content:space-between;border-bottom:%?1?% solid #eee;\r\n\t/* margin-top: 20upx;\r\n\tpadding-bottom: 20upx; */padding:%?40?% 0}.right-box[data-v-5c0df7c5]{width:15%}.right-box uni-image[data-v-5c0df7c5]{width:%?44?%;height:%?44?%}\r\n/* .check {\r\n\tmargin-top: -110upx !important;\r\n} */.left-box[data-v-5c0df7c5]{display:flex;justify-content:space-between;width:100%\n}.sel_customerDetail[data-v-5c0df7c5]{width:%?440?%}.sel_customerName[data-v-5c0df7c5]{font-size:%?32?%;font-weight:500;color:#333;margin-bottom:%?20?%}.telsty[data-v-5c0df7c5]{font-size:%?28?%;font-weight:400;color:grey\r\n\t/* margin-bottom: 10upx; */}.telsty uni-text[data-v-5c0df7c5]{font-size:%?28?%;color:#333}.right[data-v-5c0df7c5]{width:%?35?%;height:%?35?%\r\n\t/* margin-right: 15upx; */}.right_top[data-v-5c0df7c5]{display:flex;justify-content:flex-end}.sel_right[data-v-5c0df7c5]{display:flex;justify-content:space-between;flex-direction:column}.text-remind[data-v-5c0df7c5]{font-size:%?20?%;display:flex;justify-content:center;align-items:center}.tips-grey[data-v-5c0df7c5]{color:grey}.tips-red[data-v-5c0df7c5]{color:red}.searchBox[data-v-5c0df7c5]{display:flex;align-items:center;padding:0 %?30?%}.searchBox .leftImg[data-v-5c0df7c5]{width:%?44?%;height:%?44?%;margin-right:%?16?%}.com-input[data-v-5c0df7c5]{flex:1;width:auto;position:relative}.com-icon[data-v-5c0df7c5]{top:%?14?%;left:%?10?%}",""]),t.exports=e},cf8a:function(t,e,i){"use strict";i.r(e);var a=i("89c5"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},d3d3:function(t,e,i){"use strict";i.r(e);var a=i("584c"),n=i("cf8a");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("b98c");var o=i("828b"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"5c0df7c5",null,!1,a["a"],void 0);e["default"]=c.exports},e1b4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAM1BMVEVHcEzc3Nzc3Nzd3d3b29vc3Nzc3Nzh4eHd3d3d3d3d3d3d3d3d3d3d3d3c3Nzc3Nzc3NwLWio3AAAAEHRSTlMA29SmFcoqBvJmQVx2nN+o+gFOSQAAAO9JREFUOMvdVV0PgyAMtEBp+TDe//+1Y8lm0CGmyV42nlCPo72257L8wYrJswLKPsU5UgqjW1zkGpupUW4ph2UJOW3tApevaFeAUsclqR1eh+SBofX0RaqCwwDrQIOMIsF9oIUHL18kfI5kBYVxKoGwnnSAXqoaFQdNxKFeK1rh+kAKaCK/EEr3yEizwiZwFxVUpl2giN1JP+8Z393s51Ec2RxuujHC7XtFmIMDdN8DdyPRIfQOLAewIQxTgibpTEUxldvUSLYWvWv+I5VlrGwDa7MCk8nY7MtmjG/L9U/LlWa5vlku5e+Yue038RvrAdHMDE805LmwAAAAAElFTkSuQmCC"},f4f5:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsBAMAAADsqkcyAAAALVBMVEVHcEz/uhz/uhv/sxr/uRv+uRz+uhz/uhv/thX/thf/uhz/uBn/uB3/uRv+uRyR79hzAAAADnRSTlMAzKEJ2e9ebBUjwExBgCH3KQQAAAEASURBVCjPY2CgA5iuGPdUqBJdNPEdGCxDFd3yDgq8kUWN3sGBMkKUQw4h/LABLtzyDgl4wESZ5ZCFHxpAhZneoQAFqPA5VOE3UGE/VOEnEFG2d2ggASzMiCwUB8QCYOF5SKKvrIHES7BwHbIr2IHEc7CwHkL0LcM9IPkILAzyzFOIcAHYCw/BwiBbNq8D8aOZwTqfgoXByqxA3ANdEE1w4WfMQOWesJCEG/IuwerdkwlTIKJP4VaClK/giYOGIZIDE2wNtkKd+QjJO88Y2GGuf47s+YR7MOGXyEH1FO5XAXwBiyMacEUajijGkSBwJB9ciQ1H0sSVkHEle1yZhBYAAJs8uN9vYbqzAAAAAElFTkSuQmCC"},f8ac:function(t,e,i){var a=i("c321");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("55b319c1",a,!0,{sourceMap:!1,shadowMode:!1})}}]);