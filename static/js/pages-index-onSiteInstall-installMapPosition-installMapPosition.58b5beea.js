(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-onSiteInstall-installMapPosition-installMapPosition"],{"63aa":function(t,n,i){"use strict";var e=i("c81c"),a=i.n(e);a.a},"81ca":function(t,n,i){"use strict";i.d(n,"b",(function(){return e})),i.d(n,"c",(function(){return a})),i.d(n,"a",(function(){}));var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"contain"},[e("tx-map-position",{ref:"position"}),e("v-uni-web-view",{attrs:{src:t.positionUrl}}),e("v-uni-view",{staticClass:"foot-buttons"},[e("v-uni-view",{staticClass:"foot-item foot-right",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.signIn.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"foot-item-image",attrs:{src:i("9c08"),mode:""}}),e("v-uni-text",{staticClass:"foot-item-text"},[t._v("签到")])],1)],1)],1)},a=[]},"89fb":function(t,n,i){var e=i("c86c");n=e(!1),n.push([t.i,".contain[data-v-082ab602]{flex:1;display:flex;flex-direction:column;height:100%;background-color:#f6f6f6}.foot-two-buttons[data-v-082ab602]{height:%?78?%;z-index:999999999}.map[data-v-082ab602]{flex:1}.foot-buttons[data-v-082ab602]{position:absolute;bottom:0;width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.foot-item[data-v-082ab602]{flex:1;display:flex;flex-direction:row;justify-content:center;align-items:center;height:%?80?%;background-color:#ffc235}.foot-left[data-v-082ab602]{background-color:#f13a3a}.foot-item-image[data-v-082ab602]{width:%?50?%;height:%?50?%}.foot-item-text[data-v-082ab602]{font-size:%?32?%;line-height:%?80?%;text-align:center;color:#fff}",""]),t.exports=n},"9c08":function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAQAAAC0jZKKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfkCAUVMyidnOSWAAABZElEQVRIx+2WPy8EQRjGn70gBFfolCQkRK33BUShVSl9DK3qEhoRjdIH0IlKfAGNSk8kmruQy09xG2bmduZmd8Yp3NNsdt95f/vMvPNPmujPxAa9kW16rNYHA3SCLU4BfNFWkD4VjBahYBicIOuvvGsxCWbQDMfcpGEl+tWfAW6tt7Mg5sosHvt2KZ0xLnZqGPywMq/tYLh44Zn8GTtCVldY989RI2PFl6+IQCNjzhLw1LWB3LWVbcG44McE1qbne94x/rW94h+BaYVr0hDMkuJnfPysYIuB2lH5boA7jivbHZTYmUhjzibUBuBoqNX5gFqjx0OOuwBY64l7H7bW7lZ2+bvAvAHwosh8P3ja9EcPgAcpGWy4LsrnpZQLvMePDqVsYImLErutoBocTezyzLxGaExn3rh2N5ZzgY1rXNmRbkPSrArzWmgepmt6kjSXYPOk0rEk8dr4xtnXQpHtVjJRjL4A5rcxZR83a+QAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDgtMDVUMTM6NTE6NDArMDg6MDCAysqwAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA4LTA1VDEzOjUxOjQwKzA4OjAw8ZdyDAAAAABJRU5ErkJggg=="},a126:function(t,n,i){"use strict";i.r(n);var e=i("81ca"),a=i("f8ce");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(n,t,(function(){return a[t]}))}(o);i("63aa");var s=i("828b"),l=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,"082ab602",null,!1,e["a"],void 0);n["default"]=l.exports},b4f9:function(t,n,i){"use strict";i("6a54");var e=i("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i("d4b5"),i("c223");var a=e(i("fd6d")),o={name:"installMapPosition",data:function(){return{installId:0,latitude:23.113315017282275,longitude:113.34668387423119,customerName:"",positionUrl:"",mapMarkers:null,covers:[{latitude:22.52746004363895,longitude:113.35856565096798}]}},watch:{},onLoad:function(t){this.customerName=t.khName,this.installId=t.installId,this.latitude=t.latitude||"39.908519",this.longitude=t.longitude||"116.397527",this.positionUrl="/hybrid/html/map.html",this.mapMarkers=[{latitude:this.latitude,longitude:this.longitude,title:this.customerName,id:"customer-location"}],this.covers=[{id:"999999",iconPath:"../../../../static/img/location.png",latitude:this.latitude,longitude:this.longitude}]},mounted:function(){var t=this,n=this.$scope.$getAppWebview();setTimeout((function(){var i=n.children()[0];i&&(i.setStyle({bottom:40}),i.evalJS("init(".concat(JSON.stringify({markers:t.mapMarkers}),")")))}),1e3)},methods:{signIn:function(){uni.showLoading({title:"获取地址中...",mask:!0}),this.txPosition()},txPosition:function(){var t=this;this.$refs.position.startPositioning((function(n){var i=n.province+n.city+n.addr,e={id:t.installId,singnInCoordinate:"".concat(n.lng,",").concat(n.lat),singnInAddress:i};a.default.singnIn(e).then((function(t){t.meta.success?(uni.showToast({title:"签到成功",icon:"none",duration:1e3}),setTimeout((function(){uni.navigateBack({delta:2})}),1e3)):uni.showToast({title:t.meta.message,icon:"none",duration:1e3})})),uni.hideLoading()}))}}};n.default=o},c81c:function(t,n,i){var e=i("89fb");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=i("967d").default;a("8c7f5a38",e,!0,{sourceMap:!1,shadowMode:!1})},f8ce:function(t,n,i){"use strict";i.r(n);var e=i("b4f9"),a=i.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(o);n["default"]=a.a},fd6d:function(t,n,i){"use strict";var e=i("d4d7"),a={installedCurrently:function(t){return(0,e.get)("api/appInstall/installedCurrently",t,5)},installedCurrentlyDetail:function(t){return(0,e.get)("api/appInstall/installedCurrentlyDetail",t,5)},singnInCheck:function(t){return(0,e.get)("api/appInstall/singnInCheck",t,5)},singnIn:function(t){return(0,e.post)("api/appInstall/singnIn",t,5)},singnOut:function(t){return(0,e.post)("api/appInstall/singnOut",t,5)},getInstallById:function(t){return(0,e.get)("api/appInstall/getInstallById",t,5)},getInstallRecord:function(t){return(0,e.get)("api/appInstall/InstallRecord",t,5)},getInstalledDetail:function(t){return(0,e.get)("api/appInstall/installedDetail",t,5)}};t.exports=a}}]);