(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-salesCollection-salesCollection"],{1624:function(t,e,a){"use strict";a.r(e);var i=a("79b4"),n=a("d5bf");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("7be9");var o=a("828b"),d=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"5374f141",null,!1,i["a"],void 0);e["default"]=d.exports},"74cd0":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,"uni-page-body[data-v-5374f141]{background-color:#f5f5f5}body.?%PAGE?%[data-v-5374f141]{background-color:#f5f5f5}.contain[data-v-5374f141]{background-color:#f5f5f5}.contain .head[data-v-5374f141]{display:flex;justify-content:space-between;font-weight:500}.contain .head .header-left[data-v-5374f141]{width:20%}.contain .head .header-middle[data-v-5374f141]{width:25%}.contain .head uni-image[data-v-5374f141]{width:%?48?%;height:%?48?%;margin:%?7?% %?15?%;display:block}.contain .head .header-right[data-v-5374f141]{display:flex;justify-content:flex-end;width:20%}.contain .head .tianjia[data-v-5374f141]{width:%?42?%;height:%?42?%}.contain .contents[data-v-5374f141]{width:100%;height:100%;padding:%?20?% 0}.contain .contents .contents-item[data-v-5374f141]{margin:%?20?% %?12?%;padding:%?20?% %?24?%;border-radius:%?20?%;background:#fff}.contain .contents .contents-item .item[data-v-5374f141]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;font-size:%?26?%;color:#666;line-height:%?26?%}.contain .contents .contents-item .item > uni-view[data-v-5374f141]{padding:%?10?% 0 %?10?% 0}.contain .contents .contents-item .item .oddCode[data-v-5374f141]{font-size:%?30?%;color:#333;line-height:%?30?%;margin:%?10?% 0}.contain .contents .contents-item .item .checkStatus[data-v-5374f141]{font-size:%?24?%;color:#f1b323;border:%?1?% solid #f1b323;padding:%?6?% %?22?%}.contain .contents .contents-item .item .amount-value[data-v-5374f141]{color:red}.contain .contents .laytext[data-v-5374f141]{text-align:center;font-size:%?24?%;color:#666}.contain .contents .layimg[data-v-5374f141]{width:%?224?%;height:%?186?%;margin:%?220?% %?263?% %?40?% %?263?%}.contain .foot[data-v-5374f141]{position:fixed;left:0;bottom:0;display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;height:%?72?%;background-color:#ffb822}.contain .foot .foot-text[data-v-5374f141]{font-size:%?28?%;color:#fff}.contain .hide[data-v-5374f141]{position:inherit;visibility:hidden}",""]),t.exports=e},"79b4":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"contain"},[t._l(2,(function(e){return a("v-uni-view",{key:"head"+e,class:{head:!0,hide:2===e}},[a("v-uni-view",{staticClass:"header-left"},[a("v-uni-image",{attrs:{src:"/static/img/index/left.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"header-middle"},[a("v-uni-text",[t._v("销售收款单")])],1),a("v-uni-view",{staticClass:"header-right"},[a("v-uni-image",{staticClass:"tianjia",attrs:{src:"/static/img/outNote/add.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.salesCollectionAdd.apply(void 0,arguments)}}}),a("v-uni-image",{staticClass:"shaixuan",attrs:{src:"/static/img/outNote/shop-shaixuan.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.salesCollectionScreen.apply(void 0,arguments)}}})],1)],1)})),a("v-uni-view",{staticClass:"contents"},[t.salesCollectionList.length>0?t._l(t.salesCollectionList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"contents-item"},[a("v-uni-navigator",{attrs:{url:"./children/edit/edit?pattern=edit&id="+e.id+"&checkStatus="+e.checkStatus+"&zzId="+e.zzId+"&zzName="+e.zzName+"&fsId="+e.fsId+"&orgId="+e.orgId+"&customerId="+e.customerId+"&customerName="+e.customerName+"&oddNumbers="+e.oddCode+"&createDate="+e.createDate+"&jsId="+e.jsId+"&abstract="+(e.absTract?e.absTract:""),"hover-class":"none"}},[a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"oddCode"},[t._v(t._s(e.oddCode))]),a("v-uni-view",{staticClass:"checkStatus"},[t._v(t._s(1==e.checkStatus?"未审核":2==e.checkStatus?"已审核":""))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"customerName"},[t._v("客户："+t._s(e.customerName))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"createDate"},[t._v("日期："+t._s(t.timeShift.timeTransfer(e.createDate)))]),a("v-uni-view",{staticClass:"zzName"},[t._v("经手人："+t._s(e.zzName))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"amount"},[t._v("总金额："),a("v-uni-text",{staticClass:"amount-value"},[t._v("￥"+t._s(e.amount))])],1)],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"marks"},[t._v("备注："+t._s(e.absTract))])],1)],1)],1)})):[a("v-uni-image",{staticClass:"layimg",attrs:{src:"/static/img/salesReport/seachbig.png"}}),a("v-uni-view",{staticClass:"laytext"},[t._v("未搜索到结果")])]],2),t._l(2,(function(e){return a("v-uni-view",{key:"foot"+e,class:{foot:!0,hide:2===e}},[a("v-uni-text",{staticClass:"foot-text"},[t._v("合计：￥"+t._s(t.salesCollectionAmount))])],1)}))],2)},n=[]},"7be9":function(t,e,a){"use strict";var i=a("7f2b"),n=a.n(i);n.a},"7f2b":function(t,e,a){var i=a("74cd0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("095745f0",i,!0,{sourceMap:!1,shadowMode:!1})},c70d:function(t,e,a){"use strict";(function(t){a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("fcf3")),s=i(a("9b1b")),o=i(a("d253")),d=a("8f59"),c=(i(a("63d3")),[{name:"全部",type:null},{name:"已审核",type:2},{name:"未审核",type:1}]),l={components:{},data:function(){return{searchList:[{controlType:"date",dataSource:"",filedName:"dateStart",defaultValue:"7",title:"开始日期"},{controlType:"date",dataSource:"",filedName:"dateEnd",defaultValue:"",title:"结束日期"},{controlType:"text",dataSource:"",filedName:"oddCode",defaultValue:"",title:"单号"},{controlType:"list",dataSource:"111",defaultValue:"-1",filedName:"jsId",title:"经手人"},{controlType:"staticchoice",selectItemName:"type",dataSource:"",range:c,rangeKey:"name",filedName:"checkStatus",defaultValue:"-1",title:"状态"},{controlType:"list",dataSource:"107",defaultValue:"-1",filedName:"fsId",title:"收付方式"},{controlType:"list",dataSource:"12",defaultValue:"-1",filedName:"orgId",title:"机构"},{controlType:"list",dataSource:"10",defaultValue:"-1",filedName:"khId",title:"客户"},{controlType:"list",dataSource:"111",defaultValue:"-1",filedName:"zzId",title:"制证人"},{controlType:"list",dataSource:"105",defaultValue:"-1",filedName:"lineCode",title:"配送路线"},{controlType:"text",dataSource:"",defaultValue:"",filedName:"absTract",title:"摘要"}],searchModel:{dateStart:"",dateEnd:"",oddCode:"",jsId:"",checkStatus:0,fsId:"",orgId:"",khId:"",zzId:"",lineCode:"",absTract:""},resultModel:{dateStart:"",dateEnd:"",oddCode:"",jsId:"",checkStatus:"",fsId:"",orgId:"",khId:"",zzId:"",lineCode:"",absTract:""},pageNum:1,pageSize:100,dateEnd:"",dateStart:"",oddCode:"",jsId:"",checkStatus:"",fsId:"",orgId:"",khId:"",zzId:"",lineCode:"",absTract:"",hasNextPage:!1,salesCollectionList:[],salesCollectionAmount:0}},onLoad:function(t){uni.removeStorageSync("billList"),uni.removeStorageSync("collectionAccountList"),this.initParams()},onShow:function(){this.initData()},onHide:function(){uni.removeStorageSync("billList"),uni.removeStorageSync("collectionAccountList")},onReachBottom:function(){},created:function(){},mounted:function(){},computed:(0,s.default)({},(0,d.mapState)(["params"])),methods:(0,s.default)((0,s.default)({},(0,d.mapMutations)(["setparams"])),{},{goBack:function(){uni.navigateBack({delta:1})},initParams:function(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),this.dateEnd=t.getTime();var e=t;e.setDate(e.getDate()-7),e.setHours(0),e.setMinutes(0),e.setSeconds(0),this.dateStart=e.getTime(),this.searchModel=(0,s.default)((0,s.default)({},this.searchModel),{},{dateStart:this.timeShift.formatDate(this.dateStart),dateEnd:this.timeShift.formatDate(this.dateEnd)})},initData:function(){var e=this;e.salesCollectionAmount=0;var a={pageNum:e.pageNum,pageSize:e.pageSize,dateEnd:e.dateEnd,dateStart:e.dateStart};e.oddCode&&(a.oddCode=e.oddCode),e.jsId&&(a.jsId=e.jsId),e.checkStatus&&(a.checkStatus=e.checkStatus),e.fsId&&(a.fsId=e.fsId),e.orgId&&(a.orgId=e.orgId),e.khId&&(a.khId=e.khId),e.zzId&&(a.zzId=e.zzId),e.lineCode&&(a.lineCode=e.lineCode),e.absTract&&(a.absTract=e.absTract),o.default.salesReceiptsBill(a).then((function(a){if(a.meta.success){e.hasNextPage=a.data.hasNextPage,e.salesCollectionList=a.data.list;try{o.default.getAmount({dateEnd:e.dateEnd,dateStart:e.dateStart}).then((function(a){a.meta.success?e.salesCollectionAmount=a.data.allAmount:(e.salesCollectionAmount="合计获取失败",uni.showToast({title:"合计获取失败",icon:"none",duration:1e3}),t.error("".concat(ResizeObserver.meta.message," from(api/salesReceiptsBill/pageSum)")))}))}catch(i){t.error(i)}}else uni.showToast({title:a.meta.message,icon:"none",duration:1e3})}))},salesCollectionAdd:function(){uni.navigateTo({url:"/pages/index/salesCollection/children/edit/edit?pattern=create&checkStatus=1"})},salesCollectionScreen:function(){this.setparams({searchList:this.searchList,searchModel:this.searchModel,resultModel:this.resultModel}),uni.navigateTo({url:"/pages/index/reportStatistics/customizeStatistics/customizeStatistics"})},searchData:function(e){var a=(0,s.default)({},e.searchModel),i=new Date(a.dateStart);i.setHours(0),i.setMinutes(0),i.setSeconds(0),this.dateStart=i.getTime();var o=new Date(a.dateEnd);o.setHours(0),o.setMinutes(0),o.setSeconds(0),this.dateEnd=o.getTime(),this.oddCode=a.oddCode,this.jsId=a.jsId>=0?a.jsId:null,t.log("searchModel.checkStatus-------",a.checkStatus,(0,n.default)(a.checkStatus),c),this.checkStatus=a.checkStatus>=0?a.checkStatus:null,this.fsId=a.fsId>=0?a.fsId:null,this.orgId=a.orgId>=0?a.orgId:null,this.khId=a.khId>=0?a.khId:null,this.zzId=a.zzId>=0?a.zzId:null,this.lineCode=a.lineCode>=0?a.lineCode:null,this.absTract=a.absTract,this.initData()}})};e.default=l}).call(this,a("ba7c")["default"])},d253:function(t,e,a){"use strict";a("c223");var i=a("d4d7"),n={salesReceiptsBill:function(t){return(0,i.get)("api/salesReceiptsBill/page",t,1)},listWlDetailById:function(t){return(0,i.get)("api/salesReceiptsBill/listWlDetailById",t,1)},selectListWlDetail:function(t){return(0,i.get)("api/salesReceiptsBill/selectListWlDetail",t,1)},listAvDetailById:function(t){return(0,i.get)("api/salesReceiptsBill/listAvDetailById",t,1)},dictionnaryList:function(t){return(0,i.get)("api/basedata/dictionnary/list",t,1)},authorganizationList:function(t){return(0,i.get)("api/basicData/authorganization/list",t,1)},getKMListByAvType:function(t){return(0,i.get)("api/financial/getKMListByAvType",t,1)},allEmployeesInfo:function(t){return(0,i.get)("api/basicData/allEmployeesInfo",t,1)},isSave:function(t){return(0,i.post)("salesReceiptsBill/isSave",t,8)},saveAvAndCaDetail:function(t){return(0,i.post)("salesReceiptsBill/saveAvAndCaDetail",t,8)},checkBill:function(t){return(0,i.post)("api/salesReceiptsBill/checkBillApp"+"?id=".concat(t.id,"&autoAbsTract=").concat(t.autoAbsTract,"&absTract=").concat(t.absTract),null,1)},getAmount:function(t){return(0,i.get)("api/salesReceiptsBill/pageSum",t,1)}};t.exports=n},d5bf:function(t,e,a){"use strict";a.r(e);var i=a("c70d"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a}}]);