(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-components-toolssearchlist2-toolssearchlist"],{"49a6":function(e,t,s){var a=s("5043");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=s("967d").default;i("6f33f4a3",a,!0,{sourceMap:!1,shadowMode:!1})},5043:function(e,t,s){var a=s("c86c");t=a(!1),t.push([e.i,".contain[data-v-befbfbc6]{flex:1;\r\ndisplay:flex;\r\nflex-direction:column;\r\nheight:100%\n}.search-kuan[data-v-befbfbc6]{\r\ndisplay:flex;\r\nflex-direction:row;align-items:center;justify-content:space-between;background-color:#fff;height:%?110?%;z-index:100}.sort-btn[data-v-befbfbc6]{\r\ndisplay:flex;\r\njustify-content:center;align-items:center;width:%?110?%;height:%?64?%;margin-left:%?30?%;color:grey;font-size:%?30?%;line-height:%?64?%;text-align:center;background-color:#f7f6fb}.search-box[data-v-befbfbc6]{flex:1;\r\ndisplay:flex;\r\nflex-direction:row;align-items:center;position:relative;\r\n    /* padding-top: 20upx; */padding-right:%?40?%;\r\n    /* padding-bottom: 20upx; */padding-left:%?40?%}.search-icon[data-v-befbfbc6]{position:absolute;top:%?14?%;left:%?60?%;width:%?44?%;height:%?44?%;z-index:999}.search-input[data-v-befbfbc6]{flex:1;position:relative;height:%?70?%;padding-left:%?84?%;font-size:%?28?%;line-height:%?70?%;color:grey;text-align:left;border-radius:%?50?%;background-color:#f7f6fb}.list[data-v-befbfbc6]{flex:1;display:flex;flex-direction:column;overflow:hidden}.sel_customerList[data-v-befbfbc6]{align-items:center;background-color:#fff;\r\n\t/* box-sizing: border-box; */overflow:hidden}.blank[data-v-befbfbc6]{display:block;width:100%;height:%?110?%}.selbox[data-v-befbfbc6]{\r\ndisplay:flex;\r\nflex-direction:column;padding-right:%?30?%;padding-left:%?30?%}.selbox-box[data-v-befbfbc6]{\r\ndisplay:flex;\r\nflex-direction:row;justify-content:space-between;align-items:center;padding-top:%?35?%\r\n    /* padding-bottom: 25upx; */\r\n\t/* border-bottom-width: 1px;\r\n    border-bottom-style: solid;\r\n    border-bottom-color: #f0f0f0; */}.selbox-line[data-v-befbfbc6]{height:1px;margin-top:%?25?%;background-color:#f0f0f0}.check[data-v-befbfbc6]{width:%?44?%;height:%?44?%}.sel_customerTel[data-v-befbfbc6]{\r\ndisplay:flex;\r\nflex-direction:row;color:#333;justify-content:flex-start;flex-wrap:wrap}.sel_customerDetail[data-v-befbfbc6]{flex:1;\r\ndisplay:flex;\r\nflex-direction:column;margin-left:%?20?%}.sel_customerName[data-v-befbfbc6]{color:#333;font-size:%?32?%}.telsty[data-v-befbfbc6]{margin-top:%?12?%;color:#666;font-size:%?24?%}.sel_customerTel-image[data-v-befbfbc6]{width:%?45?%;height:%?45?%;vertical-align:middle}.sel_customerTel-text[data-v-befbfbc6]{margin-right:%?30?%;font-size:%?28?%}.prohibitSlide[data-v-befbfbc6]{height:100%;overflow:hidden}.submit-button[data-v-befbfbc6]{\r\ndisplay:flex;\r\nflex-direction:row;align-items:center;justify-content:center;height:%?80?%;background-color:#ffc235;border-radius:0}.submit-button-hidden[data-v-befbfbc6]{opacity:.5}.submit-button-text[data-v-befbfbc6]{line-height:%?80?%;color:#fff;letter-spacing:%?4?%;font-size:%?34?%}.nodata-box[data-v-befbfbc6]{flex:1;\r\ndisplay:flex;\r\nflex-direction:column;align-items:center;justify-content:center}.nodata-image[data-v-befbfbc6]{width:%?506?%;height:%?350?%}.nodata-text[data-v-befbfbc6]{font-size:%?30?%;font-weight:400;color:#333;text-align:center;margin-top:%?24?%}",""]),e.exports=t},"5b7a":function(e,t,s){"use strict";var a=s("49a6"),i=s.n(a);i.a},b38b:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"c",(function(){return i})),s.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-uni-view",{staticClass:"contain",class:{prohibitSlide:e.showTree}},[s("v-uni-view",{staticClass:"search-kuan"},[e.clientSort?s("v-uni-text",{staticClass:"sort-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getClassification.apply(void 0,arguments)}}},[e._v("筛选")]):e._e(),s("v-uni-view",{staticClass:"search-box"},[s("v-uni-input",{staticClass:"search-input",attrs:{"confirm-type":"search",placeholder:e.tipsTitle},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.getValue.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.hideKey.apply(void 0,arguments)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),s("v-uni-image",{staticClass:"search-icon",attrs:{src:"/static/img/index/search.png"}})],1)],1),s("v-uni-view",{staticClass:"list"},[e.listdata.length?[s("uni-list",{staticClass:"sel_customerList",attrs:{enableBackToTop:!0,"scroll-y":!0,"lower-threshold":"150"},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.loadMore()}}},e._l(e.listdata,(function(t,a){return s("uni-cell",{key:a,staticClass:"selbox",style:{width:e.windowWidth+"px"},attrs:{cellItem:t,cellIndex:a},on:{cellTap:function(t){arguments[0]=t=e.$handleEvent(t),e.checkChange(t,a)}}},[s("v-uni-view",{staticClass:"selbox-box"},[t.checked?s("v-uni-image",{staticClass:"check",attrs:{src:"/static/img/checked.png"}}):s("v-uni-image",{staticClass:"check",attrs:{src:"/static/img/check.png"}}),"customer"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-view",{staticClass:"sel_customerTel"},[s("v-uni-text",{staticClass:"telsty sel_customerTel-text"},[e._v("电话："+e._s(t.mobilePhone))]),s("v-uni-text",{staticClass:"telsty sel_customerTel-text"},[e._v(e._s(t.telephone))])],1),"custom"!=e.params.restype?[s("v-uni-text",{staticClass:"telsty"},[e._v("信用额：￥"+e._s(t.creditAmount?t.creditAmount:0))]),s("v-uni-text",{staticClass:"telsty"},[e._v("应收金额：￥"+e._s(t.shouldCollect?t.shouldCollect:0))]),s("v-uni-text",{staticClass:"telsty"},[e._v("应付金额：￥"+e._s(t.shouldPay?t.shouldPay:0))])]:e._e()],2):"storehouse"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("所属机构："+e._s(t.orgName))])],1):"organization"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("拼音："+e._s(t.phoneticize))])],1):"employees"==e.params.searchtype||"supplier"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))])],1):"goodsType"==e.params.searchtype||"supplierType"==e.params.searchtype||"customerType"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))]),s("v-uni-text",{staticClass:"telsty"},[e._v("拼音："+e._s(t.phoneticize))])],1):"customerLabel"==e.params.searchtype||"goodsLabel"==e.params.searchtype||"supplierLabel"==e.params.searchtype||"employeesLabel"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.labelName))]),s("v-uni-text",{staticClass:"telsty"},[e._v("备注："+e._s(t.remark))])],1):"line"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))])],1):"customerProfile"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))])],1):"collectionAccount"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("期末余额：￥"+e._s(t.balance)+"元")])],1):"allEmployeesInfo"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))])],1):"paymentMethod"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.id))])],1):"getCustomerKMPage"==e.params.searchtype||"getSupplierKMPage"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("期末余额：￥"+e._s(t.balance)+"元")])],1):"employeeLabel"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.labelName))]),s("v-uni-text",{staticClass:"telsty"},[e._v("备注："+e._s(t.remark))])],1):"getKmByYBFYD"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))]),s("v-uni-text",{staticClass:"telsty"},[e._v("期末余额：￥"+e._s(t.balance)+"元")])],1):"newCustomer"==e.params.searchtype||"cashBank"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))])],1):"getKmByFYZCD"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))]),s("v-uni-text",{staticClass:"telsty"},[e._v("拼音："+e._s(t.pinyin))])],1):"commonPubTable"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))])],1):"brand"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("状态："+e._s(t.status?"启用":"停用"))])],1):"listOrganizationByorganizationId"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))])],1):"fxVisitCustomerCustomerList"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.customerName))]),s("v-uni-text",{staticClass:"telsty"},[e._v("电话："+e._s(t.phone))])],1):"organizationInfo"==e.params.searchtype||"containerCp"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))])],1):"region"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))])],1):"logisticsMode"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("状态："+e._s(t.status?"启用":"停用"))])],1):"goodsTypeNew"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))]),s("v-uni-text",{staticClass:"telsty"},[e._v("拼音："+e._s(t.phoneticize))])],1):"commodityLabel"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.labelName))]),s("v-uni-text",{staticClass:"telsty"},[e._v("备注："+e._s(t.remark))])],1):"pubDictionaryList"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))])],1):"financialList"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("拼音："+e._s(t.pinyin))])],1):"goodsBillList"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))]),s("v-uni-text",{staticClass:"telsty"},[e._v("规格："+e._s(t.packingSpecification))]),s("v-uni-text",{staticClass:"telsty"},[e._v("条码："+e._s(t.barCode))]),s("v-uni-text",{staticClass:"telsty"},[e._v("库存："+e._s(t.quantity))])],1):"goodsPage"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))]),s("v-uni-text",{staticClass:"telsty"},[e._v("编号："+e._s(t.code))])],1):"memberGroupList"==e.params.searchtype||"basicDictList"==e.params.searchtype||"priceMode"==e.params.searchtype?s("v-uni-view",{staticClass:"sel_customerDetail"},[s("v-uni-text",{staticClass:"sel_customerName"},[e._v(e._s(t.name))])],1):e._e()],1),s("v-uni-view",{staticClass:"selbox-line"})],1)})),1)]:s("v-uni-view",{staticClass:"nodata-box"},[s("v-uni-image",{staticClass:"nodata-image",attrs:{src:"/static/img/nodata.png",mode:""}}),s("v-uni-text",{staticClass:"nodata-text"},[e._v("暂无数据")])],1)],2),s("v-uni-view",{class:["submit-button",e.btnhidden?"":"submit-button-hidden"],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmbtn.apply(void 0,arguments)}}},[s("v-uni-text",{staticClass:"submit-button-text"},[e._v("确定")])],1),s("tools-screen",{attrs:{visible:e.showTree,data:e.typeList,maskTop:110,maskBottom:80,rangeKey:e.toolsscreenCode},on:{cancel:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmTree.apply(void 0,arguments)}}})],1)},i=[]},bdc7:function(e,t,s){"use strict";s.r(t);var a=s("b38b"),i=s("e105");for(var r in i)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return i[e]}))}(r);s("5b7a");var l=s("828b"),o=Object(l["a"])(i["default"],a["b"],a["c"],!1,null,"befbfbc6",null,!1,a["a"],void 0);t["default"]=o.exports},e105:function(e,t,s){"use strict";s.r(t);var a=s("f2d4"),i=s.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a},f2d4:function(e,t,s){"use strict";(function(e){s("6a54");var a=s("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s("c223"),s("8f71"),s("bf0f"),s("2797"),s("5ef2"),s("20f3");var i=a(s("9b1b")),r=s("8f59"),l=a(s("d968")),o=a(s("906f")),n=a(s("2705")),p=s("d4d7"),c={computed:(0,i.default)({},(0,r.mapState)(["params"])),data:function(){return{windowWidth:0,windowHeight:0,customerList:[],pageNum:1,hasNextPage:!1,inputValue:"",btnhidden:!1,checklist:{},returnArr:[],listdata:[],showMsg:"",tipsTitle:"",apiurl:"",interType:0,clientSort:0,typeList:[],showTree:!1,rangeKey:"name",customerFiles:{},isPage:!0,toolsscreenCode:"0"}},components:{toolsScreen:l.default,uniList:o.default,uniCell:n.default},methods:(0,i.default)((0,i.default)({},(0,r.mapMutations)(["setparams"])),{},{initData:function(){if("customer"==this.params.searchtype)this.tipsTitle="请输入客户名称/拼音/手机号",this.apiurl="search/customer/pageList",this.showMsg="只能选择一个客户",this.interType=3,this.clientSort=1;else if("storehouse"==this.params.searchtype)this.tipsTitle="请输入仓库名称",this.apiurl="search/organ/pageList",this.showMsg="只能选择一个仓库",this.interType=3,this.clientSort=0;else if("organization"==this.params.searchtype)this.tipsTitle="请输入机构名称",this.apiurl="api/basicData/authorganization/list",this.showMsg="只能选择一个机构",this.interType=1,this.clientSort=0,this.isPage=!1;else if("employees"==this.params.searchtype)this.tipsTitle="请输入业务员",this.apiurl="org/sysEmployee/page/",this.showMsg="只能选择一个员工",this.interType=4,this.clientSort=0;else if("supplier"==this.params.searchtype)this.tipsTitle="请输入供应商",this.apiurl="api/basicData/supplier/page/",this.showMsg="只能选择一个供应商",this.interType=1,this.clientSort=0;else if("goodsType"==this.params.searchtype)this.tipsTitle="请选择商品类型",this.apiurl="api/type/1/all/listByKhType2",this.showMsg="只能选择一个商品类型",this.interType=1;else if("supplierType"==this.params.searchtype)this.tipsTitle="请选择供应商类型",this.apiurl="api/type/2/all/listByKhType2",this.showMsg="只能选择一个供应商类型",this.interType=1;else if("customerType"==this.params.searchtype)this.tipsTitle="请选择客户类型",this.apiurl="api/type/4/all/listByKhType2",this.showMsg="只能选择一个客户类型",this.interType=1;else if("customerLabel"==this.params.searchtype)this.tipsTitle="请选择客户标签",this.apiurl="api/basicData/label/page?labelType=4",this.showMsg="只能选择一个客户标签",this.interType=1;else if("goodsLabel"==this.params.searchtype)this.tipsTitle="请选择商品标签",this.apiurl="api/basicData/label/page?labelType=1",this.showMsg="只能选择一个商品标签",this.interType=1;else if("supplierLabel"==this.params.searchtype)this.tipsTitle="请选择供应商标签",this.apiurl="api/basicData/label/page?labelType=2",this.showMsg="只能选择一个供应商标签",this.interType=1;else if("employeesLabel"==this.params.searchtype)this.tipsTitle="请选择员工标签",this.apiurl="api/basicData/label/page?labelType=3",this.showMsg="只能选择一个员工标签",this.interType=1;else if("line"==this.params.searchtype)this.tipsTitle="请选择路线",this.apiurl="api/basedata/dictionnary?dictionaryTypeId=4&status=1",this.showMsg="只能选择一个路线",this.interType=1;else if("customerProfile"==this.params.searchtype)this.tipsTitle="请选择客户档案分类",this.apiurl="other/type/list?type=4",this.showMsg="只能选择一个客户档案分类",this.interType=6;else if("collectionAccount"==this.params.searchtype)this.tipsTitle="请选择客户档案分类",this.apiurl="api/financial/getKMListByAvType",this.showMsg="只能选择一个收款账户",this.interType=1;else if("allEmployeesInfo"==this.params.searchtype)this.tipsTitle="请输入"+this.params.tips,this.apiurl="api/basicData/allEmployeesInfo",this.showMsg="只能选择一个"+this.params.tips,this.interType=1;else if("paymentMethod"==this.params.searchtype)this.tipsTitle="请输入收付方式",this.apiurl="api/basedata/dictionnary/list?dictionaryTypeId=2",this.showMsg="只能选择一个收付方式",this.interType=1;else if("getCustomerKMPage"==this.params.searchtype)this.tipsTitle="请输入客户名称",this.apiurl="api/financial/getCustomerKMPage",this.showMsg="只能选择一个客户",this.interType=1;else if("getSupplierKMPage"==this.params.searchtype)this.tipsTitle="请输入供应商名称",this.apiurl="api/financial/getSupplierKMPage",this.showMsg="只能选择一个供应商",this.interType=1;else if("employeeLabel"==this.params.searchtype){var e="员工标签";this.params.tips&&(e=this.params.tips),this.tipsTitle="请选择".concat(e),this.apiurl="api/basicData/label/list?labelType=3",this.showMsg="只能选择一个".concat(e),this.interType=1}else"getKmByYBFYD"==this.params.searchtype?(this.tipsTitle="请选择会计科目",this.apiurl="api/financial/getKmByYBFYD",this.showMsg="只能选择一个会计科目",this.interType=1):"newCustomer"==this.params.searchtype?(this.tipsTitle="请选择客户",this.apiurl="api/basicData/customer/pagenew",this.showMsg="只能选择一个客户",this.interType=1):"cashBank"==this.params.searchtype?(this.tipsTitle="请选择账户",this.apiurl="api/AccountingSubjects/cashBank",this.showMsg="只能选择一个账户",this.interType=1):"getKmByFYZCD"==this.params.searchtype?(this.tipsTitle="请选择会计科目",this.apiurl="api/financial/getKmByFYZCD",this.showMsg="只能选择一个会计科目",this.interType=1):"commonPubTable"==this.params.searchtype?(this.tipsTitle="请选择状态",this.apiurl="common/pubTable/list",this.showMsg="只能选择一个状态",this.interType=6):"brand"==this.params.searchtype?(this.tipsTitle="请选择品牌",this.apiurl="api/basedata/dictionnary/page",this.showMsg="只能选择一个品牌",this.interType=1):"listOrganizationByorganizationId"==this.params.searchtype?(this.tipsTitle="请选择仓库",this.apiurl="api/basicData/listOrganizationByorganizationId",this.showMsg="只能选择一个仓库",this.interType=1):"fxVisitCustomerCustomerList"==this.params.searchtype?(this.tipsTitle="请选择拜访客户",this.apiurl="fx/fxVisitCustomer/customerList",this.interType=3):"organizationInfo"==this.params.searchtype?(this.tipsTitle="请选择仓库",this.apiurl="api/basicData/organizationInfo",this.showMsg="只能选择一个仓库",this.interType=1):"containerCp"==this.params.searchtype?(this.tipsTitle="请选择商品",this.apiurl="api/basicData/containerCp/page",this.showMsg="只能选择一个商品",this.interType=1):"region"==this.params.searchtype?(this.tipsTitle="请选择区域",this.apiurl="api/basedata/dictionnary/list",this.showMsg="只能选择一个区域",this.interType=1):"logisticsMode"==this.params.searchtype?(this.tipsTitle="请选择物流方式",this.apiurl="api/basedata/dictionnary/page?dictionaryTypeId=7&status=-1",this.showMsg="只能选择一个物流方式",this.interType=1):"goodsTypeNew"==this.params.searchtype?(this.tipsTitle="请选择商品类型",this.apiurl="api/type/1/all/listByKhType",this.showMsg="只能选择一个商品类型",this.interType=1):"commodityLabel"==this.params.searchtype?(this.tipsTitle="请选择商品标签",this.apiurl="api/basicData/label/list?labelType=1",this.showMsg="只能选择一个商品标签",this.interType=1):"pubDictionaryList"==this.params.searchtype?(this.tipsTitle="请选择售价方式",this.apiurl="api/pub/pubDictionary/list?dictionaryTypeId=18",this.showMsg="只能选择一个售价方式",this.interType=1):"financialList"==this.params.searchtype?(this.tipsTitle="请选择禁止查看单据",this.apiurl="api/financial/list",this.showMsg="只能选择一个禁止查看单据",this.interType=1):"goodsBillList"==this.params.searchtype?(this.tipsTitle="请选择商品",this.apiurl="api/basicData/goods/bill/list",this.showMsg="只能选择一个商品",this.interType=1):"goodsPage"==this.params.searchtype?(this.tipsTitle="请选择商品",this.apiurl="api/basicData/goods/page",this.showMsg="只能选择一个商品",this.interType=1):"memberGroupList"==this.params.searchtype?(this.tipsTitle="请选择分组",this.apiurl="member/group/list",this.showMsg="只能选择一个分组",this.interType=6):"basicDictList"==this.params.searchtype?(this.tipsTitle="请选择状态",this.apiurl="basic/dict/list",this.showMsg="只能选择一个状态",this.interType=6):"priceMode"==this.params.searchtype&&(this.tipsTitle="请选择售价方式",this.apiurl="common/dic/list",this.showMsg="只能选择一个售价方式",this.interType=6)},goBack:function(){uni.navigateBack({delta:1})},getValue:function(e){uni.hideKeyboard(),this.customerList=[],this.pageNum=1,this.inputValue=e.detail.value,this.customerFiles={},this.getListdata()},hideKey:function(e){uni.hideKeyboard()},getListdata:function(){var t=this,s=this,a={pageNum:this.pageNum,pageSize:10,keyword:this.inputValue,orderBy:"a.name"};if("supplier"==this.params.searchtype)a.name=this.inputValue,a.keyword="";else if("customer"==this.params.searchtype)this.customerFiles.code&&(e.log("that.customerFiles.code",s.customerFiles.code),a.typeCode=this.customerFiles.code);else if("employees"==this.params.searchtype)this.params.condition&&(a[this.params.condition]=this.params.conditionValue);else if("goodsType"==this.params.searchtype)a.type=1,a.keyWord=this.inputValue,delete a.orderBy,delete a.keyword;else if("supplierType"==this.params.searchtype)a.type=2,a.keyWord=this.inputValue,delete a.orderBy,delete a.keyword;else if("customerType"==this.params.searchtype)a.type=4,a.keyWord=this.inputValue,delete a.orderBy,delete a.keyword;else if("customerLabel"==this.params.searchtype)a.labelType=4,a.labelName=this.inputValue,delete a.orderBy,delete a.keyword;else if("goodsLabel"==this.params.searchtype)a.labelType=1,a.labelName=this.inputValue,delete a.orderBy,delete a.keyword;else if("supplierLabel"==this.params.searchtype)a.labelType=2,a.labelName=this.inputValue,delete a.orderBy,delete a.keyword;else if("employeesLabel"==this.params.searchtype)a.labelType=3,a.labelName=this.inputValue,delete a.orderBy,delete a.keyword;else if("line"==this.params.searchtype)a.labelType=3,a.labelName=this.inputValue,delete a.orderBy,delete a.keyword;else if("customerProfile"==this.params.searchtype)a.labelType=3,a.labelName=this.inputValue,delete a.orderBy,delete a.keyword;else if("collectionAccount"==this.params.searchtype){if(delete a.pageNum,delete a.pageSize,delete a.labelType,delete a.labelName,delete a.orderBy,a.keyWord=a.keyword,this.params.direction&&(a.direction=this.params.direction),a.typeName=this.params.typeName,a.orgId=this.params.orgId,this.params.zbId&&(a.zbId=this.params.zbId),this.isPage=!1,!a.typeName)return}else"allEmployeesInfo"==this.params.searchtype?(delete a.pageNum,delete a.pageSize,delete a.labelType,delete a.labelName,delete a.orderBy,delete a.keyword):"paymentMethod"==this.params.searchtype?(delete a.pageNum,delete a.pageSize,delete a.labelType,delete a.labelName,delete a.orderBy,delete a.keyword,this.isPage=!1):"getCustomerKMPage"==this.params.searchtype||"getSupplierKMPage"==this.params.searchtype?(delete a.labelType,delete a.labelName,delete a.orderBy,a.keyWord=a.keyword,delete a.keyword,a.typeName=this.params.typeName,a.orgId=this.params.orgId):"employeeLabel"==this.params.searchtype?(a.labelType=3,delete a.pageNum,delete a.pageSize,delete a.orderBy,delete a.keyword,this.isPage=!1):"getKmByYBFYD"==this.params.searchtype?(a.labelType=3,delete a.orderBy,a.orgId=this.params.orgId,a.pageNum=1,a.pageSize=1,a.typeName=this.params.typeName,this.isPage=!1):"newCustomer"==this.params.searchtype?(a.keyWord=this.inputValue,a.pageSize=20,a._=(new Date).getTime(),delete a.orderBy):"cashBank"==this.params.searchtype?(delete a.pageNum,delete a.pageSize,delete a.orderBy,delete a.keyword,this.isPage=!1):"getKmByFYZCD"==this.params.searchtype?(delete a.pageNum,delete a.pageSize,delete a.orderBy,delete a.keyword,a.orgId=this.params.orgId,this.isPage=!1):"commonPubTable"==this.params.searchtype?(delete a.pageNum,delete a.pageSize,delete a.orderBy,delete a.keyword,a.tableName="pub_mall_orderstatus",this.isPage=!1):"brand"==this.params.searchtype?(delete a.orderBy,a.dictionaryTypeId=3,a.status=-1):"listOrganizationByorganizationId"==this.params.searchtype?(this.params.organizationIds&&(a.organizationIds=this.params.organizationIds),delete a.pageNum,delete a.pageSize,delete a.orderBy,delete a.keyword,this.isPage=!1):"fxVisitCustomerCustomerList"==this.params.searchtype?delete a.orderBy:"organizationInfo"==this.params.searchtype?(delete a.pageNum,delete a.pageSize,delete a.keyword,delete a.orderBy,this.isPage=!1):"containerCp"==this.params.searchtype?(a.allocation=0,a.keyWord=a.keyword,delete a.keyword,delete a.orderBy):"region"==this.params.searchtype?(a.dictionaryTypeId=10,delete a.pageNum,delete a.pageSize,delete a.keyword,delete a.orderBy,this.isPage=!1):"logisticsMode"==this.params.searchtype?delete a.orderBy:"goodsTypeNew"==this.params.searchtype?(delete a.pageNum,delete a.pageSize,delete a.keyword,delete a.orderBy,this.isPage=!1):"commodityLabel"==this.params.searchtype||"pubDictionaryList"==this.params.searchtype||"financialList"==this.params.searchtype?(a.labelType=1,delete a.pageNum,delete a.pageSize,delete a.orderBy,delete a.keyword,this.isPage=!1):"goodsBillList"==this.params.searchtype?(a.billType=1,a.codeType=0,a.storehouseId=this.params.storehouseId,a.code=a.keyword,delete a.orderBy):"goodsPage"==this.params.searchtype?delete a.orderBy:"memberGroupList"==this.params.searchtype?(delete a.orderBy,this.isPage=!1):"basicDictList"==this.params.searchtype?(this.params.keyword&&(a.keyword=this.params.keyword),delete a.pageNum,delete a.pageSize,delete a.orderBy,this.isPage=!1):"priceMode"==this.params.searchtype&&(this.params.dictionaryTypeId&&(a.dictionaryTypeId=this.params.dictionaryTypeId),delete a.pageNum,delete a.pageSize,delete a.orderBy,this.isPage=!1);this.isPage?(0,p.get)(s.apiurl,a,s.interType).then((function(e){if(e.meta.success){var a=[];if(a="customerProfile"==t.params.searchtype||"line"==t.params.searchtype?e.data:e.data.list,a.length>0){s.hasNextPage=e.data.hasNextPage;for(var i=0;i<a.length;i++)a[i].mobilePhone||(a[i].mobilePhone="暂无电话");1==s.pageNum?s.listdata=a:s.listdata=s.listdata.concat(a)}else s.listdata=[]}})):(0,p.get)(s.apiurl,a,s.interType).then((function(e){if(e.meta.success){var a=[];a=e.data,t.params.callBack&&(a=t.params.callBack(a)),s.listdata=a}}))},checkChange:function(e){var t=this,s=e.index;this.listdata[s].checked=!this.listdata[s].checked,this.returnArr=this.listdata.filter((function(e){return e.checked})),this.returnArr.length>0?this.btnhidden=!0:this.btnhidden=!1;var a=this;this.listdata[s].checked&&this.params.checkChange&&this.params.checkChange({data:e,success:function(){},fail:function(){a.listdata[s].checked=!1,t.$forceUpdate()}}),this.$forceUpdate()},confirmbtn:function(){var t=this;if(e.log(22222),!this.params.limit&&this.returnArr.length>1)uni.showToast({icon:"none",title:this.showMsg,duration:2e3});else{var s=getCurrentPages(),a=s[s.length-2];if("custom"==this.params.restype){if(null!=this.returnArr&&this.returnArr.length>0){var i="",r="";this.returnArr.forEach((function(e){i=t.params.searchtype.indexOf("Label")>-1?i+e.labelName+",":i+e.name+",",r="goodsType"==t.params.searchtype?r+e.code+",":r+e.id+","})),i=i.substring(0,i.lastIndexOf(",")),r=r.substring(0,r.lastIndexOf(",")),e.log("displayName:",i,r),this.params.resultModel[this.params.filed]=i,this.params.searchModel[this.params.filed]=r,this.params.searchModel[this.params.filed+"_primary"]=this.returnArr.concat()}}else a.$vm[this.params.filed]=this.returnArr;this.goBack()}},getClassification:function(){uni.hideKeyboard(),this.showTree=!this.showTree},getTpye:function(){var t=this;(0,p.get)("api/type/4/tree/list",{},1).then((function(s){e.log("res",s);var a=s.data;s.meta.success&&(a.length>0?t.typeList=a:t.typeList=[])}))},confirmTree:function(t){e.log("rt",t),t.length&&t[0].code?(e.log("111111111"),this.customerFiles.code=t[0].code,this.toolsscreenCode=t[0].code):(e.log("222222222"),this.customerFiles.code=""),this.pageNum=1,this.inputValue="",this.showTree=!1,this.getListdata()},cancel:function(){uni.hideKeyboard(),this.showTree=!1},loadMore:function(){this.hasNextPage?(e.log("11111"),uni.showLoading({title:"玩命加载中...",mask:!0}),this.pageNum++,this.getListdata(),e.log(this.pageNum+"----------"),uni.hideLoading()):uni.showToast({title:"暂无更多数据",duration:1e3,icon:"loading",mask:!0})}}),onLoad:function(){var e=this;uni.getSystemInfo({success:function(t){e.windowWidth=t.windowWidth,e.windowHeight=t.windowHeight}}),this.initData(),this.getListdata(),this.getTpye()},onReachBottom:function(){}};t.default=c}).call(this,s("ba7c")["default"])}}]);