(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-goodsInfoDetail-goodsInfoDetail"],{"007e":function(t,e,i){"use strict";var a=i("691c"),n=i.n(a);n.a},"0763":function(t,e,i){"use strict";var a=i("c769"),n=i.n(a);n.a},"08ae":function(t,e,i){"use strict";var a=i("5064"),n=i.n(a);n.a},1823:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'.my-input-class[data-v-4beea4ce]{height:calc(100% - %?0.74?%);float:left;width:100%;font:inherit}.my-input-width[data-v-4beea4ce]{width:calc(100% - %?11.72?%)}.clear-icon-view[data-v-4beea4ce]{float:left;width:%?11.72?%}.clear-icon-view > uni-icon[data-v-4beea4ce]{vertical-align:middle}[data-v-4beea4ce] .uni-icon-clear::before{content:"\\EA0F"}',""]),t.exports=e},"22df":function(t,e,i){"use strict";i.r(e);var a=i("864c"),n=i("2c4f");for(var l in n)["default"].indexOf(l)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(l);i("0763");var s=i("828b"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"19d9cb48",null,!1,a["a"],void 0);e["default"]=o.exports},"2c4f":function(t,e,i){"use strict";i.r(e);var a=i("bc56"),n=i.n(a);for(var l in a)["default"].indexOf(l)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(l);e["default"]=n.a},"2f4a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAABAElEQVRYR+3YwQnDMAwFUKfk2g3sATpDN+gQ3aMbdIsuUcgM3cIXz6ESaKDkFNv/Swjsswwv3zl8NAVnZ3LmDQPMfrGRsNuEReRUSrnFGN/Ij6D8Ej/sS0TuIYRHSumJQsPBO+zmhKHh4JzzZZ7nj4icd6lC0HDwiiylXEVkYaApYCaaBmahqWAGmg5Go1XASLQaGIVWBSPQ6uBetAm4B20GbkWbglvQA1zTe1tKklnCLdg1DBNwK9YE3INVB/diVcEIrBoYhVUBI7F0MBpLBTOwNDALSwG7W6S4W1Wtz+ZqGbi1NVfr1pqKWTtr0tZqkf/zA9yT3pG7I+EjKfXMfAET5VI8nay5cwAAAABJRU5ErkJggg=="},"3cb8":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,".detail-head[data-v-19d9cb48]{display:flex}.search[data-v-19d9cb48]{margin-left:%?20?%;width:92%;position:relative}.search uni-input[data-v-19d9cb48]{height:%?70?%;background-color:#f7f6fb;font-size:%?28?%;border-radius:%?50?%;padding-left:%?95?%;color:grey;text-align:left}.screenimage[data-v-19d9cb48]{width:%?48?%;height:%?48?%}.search-icon[data-v-19d9cb48]{width:%?44?%;height:%?44?%;position:absolute;left:%?40?%;top:50%;margin-top:%?-22?%;z-index:1000}.sec-socde[data-v-19d9cb48]{width:%?52?%;height:%?52?%;margin:%?10?% 0 0 %?30?%;top:%?3?%;left:%?15?%;z-index:99}.detailcon[data-v-19d9cb48]{font-size:%?32?%;color:#333}.row-flex[data-v-19d9cb48]{display:flex;padding:%?14?% %?30?%;margin-bottom:%?10?%;border-bottom:%?1?% solid #f7f7f7}.title[data-v-19d9cb48]{display:flex;\r\n\t/* width: 200upx; */flex:1}.title2[data-v-19d9cb48]{text-align:center}.con-head[data-v-19d9cb48]{background:#f7f7f7;padding:%?20?% %?30?%;color:#ffb822}.switch-sty[data-v-19d9cb48]{display:flex;justify-content:center;align-items:center;color:#444;width:70%;margin:%?30?% auto}.switch-sty uni-button[data-v-19d9cb48]{background:#ffb822;color:#fff;width:%?120?%;height:%?50?%;line-height:%?50?%;border:0;outline:none;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif}.switch-sty uni-button uni-image[data-v-19d9cb48]{width:%?19?%;height:%?32?%;margin-top:%?10?%}.left[data-v-19d9cb48]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.switch-sty uni-button[data-v-19d9cb48]::after{border:0}.nodata[data-v-19d9cb48]{text-align:center;margin-top:30%}.item-image[data-v-19d9cb48]{width:%?44?%;height:%?44?%}.multUnit-table[data-v-19d9cb48]{display:flex}.table-th[data-v-19d9cb48], .table-tr[data-v-19d9cb48]{width:%?180?%;height:%?50?%;line-height:%?50?%;border-right:%?1?% solid #d9d9d9;border-bottom:%?1?% solid #d9d9d9}.table-th[data-v-19d9cb48]{width:%?140?%}.table-th .table-td[data-v-19d9cb48]{text-align:center}.table-tr .table-td[data-v-19d9cb48]{text-align:center}.table-scroll[data-v-19d9cb48]{overflow-x:scroll;overflow-y:hidden;display:flex}.m-table-detail[data-v-19d9cb48]{border-collapse:collapse}.m-table-detail>tbody  th[data-v-19d9cb48], td[data-v-19d9cb48]{border:.5px solid #d9d9d9;padding:4px;text-align:center}.m-table-detail>tbody>tr>td[data-v-19d9cb48]:first-child{width:%?130?%}.item-newInput-pack[data-v-19d9cb48]{width:%?100?%;margin-right:6px;border-bottom:1px solid #d9d9d9}.font-pack[data-v-19d9cb48]{width:%?20?%;margin-right:6px}.row-flex .unit-text[data-v-19d9cb48]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.row-flex>uni-image[data-v-19d9cb48]{width:20px;height:20px}.remark .title[data-v-19d9cb48]{flex:inherit}.remark .item-newInput[data-v-19d9cb48]{width:82%}",""]),t.exports=e},5064:function(t,e,i){var a=i("e707");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("60dc6cd6",a,!0,{sourceMap:!1,shadowMode:!1})},5771:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-input",{staticClass:"my-input-class",class:{"my-input-width":t.clearable},attrs:{type:t.currentType,value:t.currentValue,placeholder:t.placeholderShow?t.placeholder:"",password:t.password,maxlength:t.maxlength,disabled:t.finalDisabled,focus:t.finalFocus,"placeholder-style":t.placeholderStyle,"placeholder-class":t.placeholderClass,"cursor-spacing":t.cursorSpacing,"confirm-type":t.confirmType,"confirm-hold":t.confirmHold,cursor:t.cursor,"selection-start":t.selectionStart,"selection-end":t.selectionEnd,"auto-blur":t.autoBlur},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.input.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.inputClick(e)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.inputFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.inputBlur.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.inputConfirm.apply(void 0,arguments)}}}),t.clearable?i("v-uni-view",{staticClass:"clear-icon-view"},[i("v-uni-icon",{directives:[{name:"show",rawName:"v-show",value:t.showClear,expression:"showClear"}],attrs:{type:"clear",size:t.iconSize,color:"#999999"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("input","")}}})],1):t._e()],1)},n=[]},"62a2":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"customHeader",class:{sticky:t.isSticky,fixed:t.isFixed},style:{background:t.bgcolor?t.bgcolor:"white",color:t.fontColor?t.fontColor:"#030303"}},[t.isNotShowBack?i("v-uni-view"):i("v-uni-view",{staticClass:"back",style:{borderColor:t.fontColor?t.fontColor:"#030303"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))]),i("v-uni-view",[t._t("default")],2)],1)},n=[]},"691c":function(t,e,i){var a=i("1823");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("c8e08efe",a,!0,{sourceMap:!1,shadowMode:!1})},7413:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa"),i("5c47"),i("0506"),i("a1c1");var a={name:"FhInput",props:{type:{type:String,default:"text"},value:{type:[Number,String],default:""},placeholder:{type:String,default:""},maxlength:{type:Number,default:140},password:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},focus:{type:Boolean,default:!1},placeholderStyle:{type:String,default:""},placeholderClass:{type:String,default:"input-placeholder"},cursorSpacing:{type:Number,default:0},confirmType:{type:String,default:"done"},confirmHold:{type:Boolean,default:!1},cursor:{type:Number,default:void 0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},autoBlur:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},inputModel:{type:Number,default:0}},computed:{finalDisabled:function(){return this.disabled||this.innerDisabled},finalFocus:function(){return this.focus||this.innerFocus},showClear:function(){return this.clearable&&!!this.value},currentType:function(){return"number"==this.type?"text":this.type}},watch:{value:{handler:function(t,e){this.currentValue=t},immediate:!0}},data:function(){return{innerDisabled:!1,innerFocus:!1,currentValue:"",placeholderShow:!0,iconSize:uni.upx2px(11.72)}},methods:{input:function(t){var e=this,i=t.detail.value;if("number"==this.type&&i&&!/^\d*$/.test(i)){this.currentValue=i;var a=i.replace(/\D/g,"");this.$nextTick((function(){e.currentValue=a,e.$emit("input",a)}))}else this.$emit("input",i)},inputClick:function(t){var e=this;1==this.innerDisabled&&(this.innerDisabled=!1,this.innerFocus=!1,this.$nextTick((function(){e.innerFocus=!0}))),this.inputModel&&(this.placeholderShow=!1),this.$emit("click")},inputFocus:function(t){var e=t.detail,i=e.value,a=e.height;this.$emit("focus",{value:i,height:a})},inputBlur:function(t){var e=t.detail.value;this.value,this.$nextTick((function(){uni.getStorageSync("keyboardHeight")})),this.placeholderShow=!0,this.$emit("blur",e)},inputConfirm:function(t){var e=t.detail.value;this.$emit("confirm",e)}}};e.default=a},"864c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"contain"},[a("customHeader",{attrs:{title:"商品资料详情"}},[a("v-uni-view",{staticClass:"screen",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clickRight.apply(void 0,arguments)}}},[a("v-uni-text",{staticStyle:{color:"#FFB822"}},[t._v(t._s(t.tatalsele))])],1)],1),a("v-uni-view",{staticClass:"detail-head"},[a("v-uni-view",{staticClass:"search"},[a("v-uni-image",{staticClass:"search-icon",attrs:{src:"/static/img/index/search.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchCode()}}}),a("v-uni-input",{attrs:{placeholder:"商品编号","confirm-type":"search"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.searchCode.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.showDetailFlag,expression:"!showDetailFlag"}],staticClass:"detailcon nodata"},[t._v("暂无数据")]),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showDetailFlag,expression:"showDetailFlag"}],staticClass:"detailcon"},[a("v-uni-view",{staticClass:"con-head",staticStyle:{"margin-top":"40upx"}},[t._v("商品基础信息")]),a("v-uni-view",{staticClass:"row-flex"},[a("v-uni-view",{staticClass:"title"},[t._v("编号："),a("fh-input",{staticClass:"item-newInput",attrs:{disabled:t.disable,clearable:!t.disable},model:{value:t.getInventoryDetail.code,callback:function(e){t.$set(t.getInventoryDetail,"code",e)},expression:"getInventoryDetail.code"}})],1),a("v-uni-view")],1),a("v-uni-view",{staticClass:"row-flex"},[a("v-uni-view",{staticClass:"title"},[t._v("条码： "),a("fh-input",{staticClass:"item-newInput",attrs:{disabled:t.disable,clearable:!t.disable},model:{value:t.getInventoryDetail.barCode,callback:function(e){t.$set(t.getInventoryDetail,"barCode",e)},expression:"getInventoryDetail.barCode"}})],1),a("v-uni-view")],1),a("v-uni-view",{staticClass:"row-flex"},[a("v-uni-view",{staticClass:"title"},[t._v("商品名称： "),a("fh-input",{staticClass:"item-newInput",staticStyle:{width:"70%"},attrs:{disabled:t.disable,clearable:!t.disable},model:{value:t.getInventoryDetail.name,callback:function(e){t.$set(t.getInventoryDetail,"name",e)},expression:"getInventoryDetail.name"}})],1),a("v-uni-view")],1),a("v-uni-view",{staticClass:"row-flex"},[a("v-uni-view",{staticClass:"title"},[t._v("型号： "),a("fh-input",{staticClass:"item-newInput",staticStyle:{width:"70%"},attrs:{disabled:t.disable,clearable:!t.disable},model:{value:t.getInventoryDetail.typeSpecification,callback:function(e){t.$set(t.getInventoryDetail,"typeSpecification",e)},expression:"getInventoryDetail.typeSpecification"}})],1),a("v-uni-view")],1),t.useMultUnit?t._e():a("v-uni-view",{staticClass:"row-flex"},[a("v-uni-view",{staticStyle:{width:"60px"}},[t._v("规格：")]),a("v-uni-view",{staticClass:"font-pack"},[t._v("1")]),a("v-uni-picker",{staticClass:"item-newInput-pack",staticStyle:{flex:"1"},attrs:{id:"NO0 ",disabled:t.disable,"range-key":"name",value:t.index,range:t.Unitarray},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticStyle:{"text-align":"center",color:"#666666"}},[t._v(" "+t._s(-1==t.index?"":t.Unitarray[t.index].name)+" ")])],1),a("v-uni-view",{staticClass:"font-pack"},[t._v("x")]),a("fh-input",{staticClass:"item-newInput-pack",attrs:{disabled:t.disable,clearable:!t.disable},model:{value:t.getInventoryDetail.packingSpecification,callback:function(e){t.$set(t.getInventoryDetail,"packingSpecification",e)},expression:"getInventoryDetail.packingSpecification"}}),a("v-uni-picker",{staticClass:"item-newInput-pack",staticStyle:{flex:"1"},attrs:{id:"NO0 ",disabled:t.disable,"range-key":"name",value:t.index,range:t.Unitarray},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange0.apply(void 0,arguments)}}},[a("v-uni-view",{staticStyle:{"text-align":"center",color:"#666666"}},[t._v(" "+t._s(-1==t.smallindex?"":t.Unitarray[t.smallindex].name)+" ")])],1)],1),a("v-uni-view",{staticClass:"row-flex"},[a("v-uni-view",{staticClass:"title",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getSupplier.apply(void 0,arguments)}}},[t._v("主供应商： "),a("v-uni-input",{staticStyle:{color:"#999999"},attrs:{type:"text",disabled:!0,"placeholder-class":"placeholder",placeholder:"请选择"},model:{value:t.getInventoryDetail.supplierName,callback:function(e){t.$set(t.getInventoryDetail,"supplierName",e)},expression:"getInventoryDetail.supplierName"}})],1),t.disable?t._e():a("v-uni-image",{staticClass:"item-image",attrs:{src:i("2f4a")}})],1),a("v-uni-view",{staticClass:"row-flex"},[a("v-uni-view",[t._v("是否发布：")]),a("v-uni-picker",{staticStyle:{flex:"1 1 0%"},attrs:{value:t.releaseMallIndex,range:t.releaseMallList,"range-key":"name",disabled:t.disable},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.handleReleaseMall.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"bind-select"},[t._v(t._s(t.releaseMall))])],1)],1),a("v-uni-view",{staticClass:"row-flex remark"},[a("v-uni-view",{staticClass:"title"},[t._v("备注：")]),a("fh-input",{staticClass:"item-newInput",attrs:{disabled:t.disable,clearable:!t.disable},model:{value:t.getInventoryDetail.remark,callback:function(e){t.$set(t.getInventoryDetail,"remark",e)},expression:"getInventoryDetail.remark"}}),a("v-uni-view")],1),a("v-uni-view",{staticClass:"row-flex remark"},[a("v-uni-view",{staticClass:"title"},[t._v("备注1：")]),a("fh-input",{staticClass:"item-newInput",attrs:{disabled:t.disable,clearable:!t.disable},model:{value:t.getInventoryDetail.remark1,callback:function(e){t.$set(t.getInventoryDetail,"remark1",e)},expression:"getInventoryDetail.remark1"}}),a("v-uni-view")],1),a("v-uni-view",{staticClass:"row-flex remark"},[a("v-uni-view",{staticClass:"title"},[t._v("备注2：")]),a("fh-input",{staticClass:"item-newInput",attrs:{disabled:t.disable,clearable:!t.disable},model:{value:t.getInventoryDetail.remark2,callback:function(e){t.$set(t.getInventoryDetail,"remark2",e)},expression:"getInventoryDetail.remark2"}}),a("v-uni-view")],1),t.useMultUnit?a("v-uni-view",{staticClass:"row-flex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectUnit.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"title"},[t._v("单位规格：")]),a("v-uni-view",{staticClass:"unit-text"},[t._v(t._s(t.unitName))]),a("v-uni-image",{attrs:{src:"/static/img/customerfiles/right.png"}})],1):t._e(),t.salePriceList.length&&t.getInventoryDetail?a("v-uni-view",[a("v-uni-view",{staticClass:"con-head"},[t._v("单价信息")]),t.useMultUnit?a("v-uni-view",{staticClass:"multUnit-table"},[a("v-uni-view",[t._l(t.salePriceList,(function(e,i){var n=e.isShow,l=e.label;return[n?a("v-uni-view",{key:i,staticClass:"table-th"},[a("v-uni-view",{staticClass:"table-td"},[t._v(t._s(l))])],1):t._e()]}))],2),a("v-uni-view",{staticClass:"table-scroll"},t._l(t.Unitarray,(function(e,i){return a("v-uni-view",{key:e.id},[t._l(t.salePriceList,(function(n){var l=n.isShow,s=n.largeUnit;return[l?a("v-uni-view",{key:s,staticClass:"table-tr"},["largeUnit"==s?a("v-uni-view",{staticClass:"table-td"},[t._v(t._s(e.largeUnit)+"（"+t._s(e.packingSpecification)+"）")]):a("v-uni-view",{staticClass:"table-td"},"retailPrice"==s||"vipPrice"==s?[e.basicUnit?t._e():a("v-uni-view",[t._v("--")]),a("v-uni-input",{staticClass:"proInput",attrs:{type:"text",disabled:t.disable},on:{blur:function(a){arguments[0]=a=t.$handleEvent(a),t.changeMultPrice(e,s,i)}},model:{value:e[s],callback:function(i){t.$set(e,s,i)},expression:"dataItem[largeUnit]"}})]:"auxiliaryBarcode"==s?[e.basicUnit?a("v-uni-view",[t._v("--")]):t._e(),a("v-uni-input",{staticClass:"proInput",attrs:{type:"text",disabled:t.disable},on:{blur:function(a){arguments[0]=a=t.$handleEvent(a),t.changeMultPrice(e,s,i)}},model:{value:e[s],callback:function(i){t.$set(e,s,i)},expression:"dataItem[largeUnit]"}})]:[a("v-uni-input",{staticClass:"proInput",attrs:{type:"text",disabled:t.disable},on:{blur:function(a){arguments[0]=a=t.$handleEvent(a),t.changeMultPrice(e,s,i)}},model:{value:e[s],callback:function(i){t.$set(e,s,i)},expression:"dataItem[largeUnit]"}})],1)],1):t._e()]}))],2)})),1)],1):a("table",{staticClass:"m-table-detail"},[a("tbody",[a("tr",[a("td"),a("td",[t._v("件("+t._s(t.getInventoryDetail.largeUnit)+")")]),a("td",[t._v("散("+t._s(t.getInventoryDetail.smallUnit)+")")])]),t._l(t.salePriceList,(function(e,i){return a("tr",{key:i},[e.isShow?[a("td",[t._v(t._s(e.label))]),1==e.basicUnit?a("td",[t._v(" -- ")]):a("td",[a("v-uni-input",{staticClass:"proInput",attrs:{type:"text",disabled:t.disable},on:{blur:function(i){arguments[0]=i=t.$handleEvent(i),t.changePrice(e,"ip")}},model:{value:t.getInventoryDetail[e.largeUnit],callback:function(i){t.$set(t.getInventoryDetail,e.largeUnit,i)},expression:"getInventoryDetail[item.largeUnit]"}})],1),2==e.basicUnit?a("td",[t._v(" -- ")]):a("td",[a("v-uni-input",{staticClass:"proInput",attrs:{type:"text",disabled:t.disable},on:{blur:function(i){arguments[0]=i=t.$handleEvent(i),t.changePrice(e,"sp")}},model:{value:t.getInventoryDetail[e.smallUnit],callback:function(i){t.$set(t.getInventoryDetail,e.smallUnit,i)},expression:"getInventoryDetail[item.smallUnit]"}})],1)]:t._e()],2)}))],2)])],1):t._e(),a("v-uni-view",{staticClass:"con-head"},[t._v("库存成本和数量信息")]),a("v-uni-view",{staticClass:"row-flex"},[a("v-uni-view",{staticClass:"title title2"},[t._v("仓库")]),a("v-uni-view",{staticClass:"title title2"},[t._v("数量")]),a("v-uni-view",{staticClass:"title title2"},[t._v("件成本")]),a("v-uni-view",{staticClass:"title title2"},[t._v("散成本")])],1),t._l(t.inventoryList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"row-flex"},[a("v-uni-view",{staticClass:"title title2"},[t._v(t._s(e.storehouseName))]),a("v-uni-view",{staticClass:"title title2"},[t._v(t._s(e.quantity))]),a("v-uni-view",{staticClass:"title title2"},[isNaN(e.costPriceIP)?t._e():a("v-uni-text",[t._v(t._s(e.costPriceIP||0))])],1),a("v-uni-view",{staticClass:"title title2"},[isNaN(e.costPrice)?t._e():a("v-uni-text",[t._v(t._s(e.costPrice||0))])],1)],1)}))],2)],1)],1)},n=[]},"94aa":function(t,e,i){"use strict";i.r(e);var a=i("7413"),n=i.n(a);for(var l in a)["default"].indexOf(l)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(l);e["default"]=n.a},"9a9b":function(t,e,i){"use strict";i.r(e);var a=i("5771"),n=i("94aa");for(var l in n)["default"].indexOf(l)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(l);i("007e");var s=i("828b"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"4beea4ce",null,!1,a["a"],void 0);e["default"]=o.exports},"9e95":function(t,e,i){"use strict";i.r(e);var a=i("fa94"),n=i.n(a);for(var l in a)["default"].indexOf(l)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(l);e["default"]=n.a},bc56:function(t,e,i){"use strict";(function(t){i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("8f71"),i("bf0f"),i("2797"),i("aa9c"),i("d4b5"),i("bd06"),i("fd3c"),i("473f"),i("c223"),i("4626"),i("5ac7"),i("e838"),i("64aa");var n=a(i("9b1b")),l=i("8f59"),s=a(i("f92a")),o=a(i("9a9b")),r=(i("d4d7"),{components:{customHeader:s.default,fhInput:o.default},computed:(0,n.default)({},(0,l.mapState)(["params"])),watch:{"getInventoryDetail.packingSpecification":{deep:!0,handler:function(){this.disable&&!this.useMultUnit||this.changePackingSpecification()}}},data:function(){return{index:-1,smallindex:-1,inputValue:"",getInventoryDetail:"",inventoryList:"",getIndex:"",getIndexOld:"",getTotal:"",btnFlag:!1,getInventoryList:"",incomingObj:"",showDetailFlag:!0,disable:!0,tatalsele:"编辑",getDetail:"",Unitarray:[],imageList:[],useMultUnit:!1,salePriceList:[{label:"单位",largeUnit:"largeUnit",smallUnit:"largeUnit",isShow:!0},{label:"面价",largeUnit:"factoryIP",smallUnit:"factorySP",isShow:!0},{label:"最新进价",largeUnit:"newestIP",smallUnit:"newestSP",isShow:!0},{label:"售价1",largeUnit:"saleIP1",smallUnit:"saleSP1",isShow:!0},{label:"售价2",largeUnit:"saleIP2",smallUnit:"saleSP2",isShow:!0},{label:"售价3",largeUnit:"saleIP3",smallUnit:"saleSP3",isShow:!0},{label:"售价4",largeUnit:"saleIP4",smallUnit:"saleSP4",isShow:!0},{label:"售价5",largeUnit:"saleIP5",smallUnit:"saleSP5",isShow:!0},{label:"配送价",largeUnit:"distributionIP",smallUnit:"distributionSP",isShow:!0},{label:"零售价",largeUnit:"retailPrice",smallUnit:"retailPrice",basicUnit:1,isShow:!0},{label:"会员价",largeUnit:"vipPrice",smallUnit:"vipPrice",basicUnit:1,isShow:!0},{label:"条码",largeUnit:"auxiliaryBarcode",smallUnit:"auxiliaryBarcode",basicUnit:2,isShow:!0}],jspiceflag:!1,oldInventoryDetail:"",oldUnitArr:[],unitName:"",auxiliaryUnit:[],releaseMallList:[{name:"否",id:0},{name:"是",id:1}],releaseMallIndex:0,releaseMall:"否"}},onShow:function(){},onLoad:function(t){this.useMultUnit=uni.getStorageSync("useMultUnit");var e=this.$store.state.sysConfig[5].filter((function(t){return"getIPAndGetSP.outOfTouch"==t.key}));this.jspiceflag=!!e.length&&Boolean(e[0].check),this.getIndexOld=t.getIndex,this.getTotal=t.getTotal,this.getIndex=t.getIndex,this.incomingObj=JSON.parse(t.incomingObj),this.inputValue=t.inputValue?t.inputValue:"",this.getDetail=JSON.parse(t.goodsDetali),this.init(),this.getUnit(),this.getTaskAuthority()},methods:(0,n.default)((0,n.default)({},(0,l.mapMutations)(["setparams"])),{},{clickLeft:function(){uni.navigateBack({delta:1}),t.log(1111111)},clickRight:function(){var e=!!this.$store.getters.getMenubtnsByUrl({parentUrl:"main/datum/productDatum/1",authority:"edit"})&&this.$store.getters.getMenubtnsByUrl({parentUrl:"main/datum/productDatum/1",authority:"edit"});if(t.log(e),e)if(this.disable)this.tatalsele="保存",this.disable=!1;else{if(this.useMultUnit){var i,a=[],l=this;return this.Unitarray.forEach((function(t){t.largeUnit==l.getInventoryDetail.largeUnit?(l.getInventoryDetail.auxiliaryBarcode=t.auxiliaryBarcode,l.getInventoryDetail.packingSpecification=t.packingSpecification,l.getInventoryDetail.newestIP=t.newestIP,l.getInventoryDetail.saleIP1=t.saleIP1,l.getInventoryDetail.saleIP2=t.saleIP2,l.getInventoryDetail.saleIP3=t.saleIP3,l.getInventoryDetail.saleIP4=t.saleIP4,l.getInventoryDetail.saleIP5=t.saleIP5,l.getInventoryDetail.factoryIP=t.factoryIP,l.getInventoryDetail.distributionIP=t.distributionIP):t.largeUnit==l.getInventoryDetail.smallUnit?(l.getInventoryDetail.newestSP=t.newestIP,l.getInventoryDetail.saleSP1=t.saleIP1,l.getInventoryDetail.saleSP2=t.saleIP2,l.getInventoryDetail.saleSP3=t.saleIP3,l.getInventoryDetail.saleSP4=t.saleIP4,l.getInventoryDetail.saleSP5=t.saleIP5,l.getInventoryDetail.factorySP=t.factoryIP,l.getInventoryDetail.distributionSP=t.distributionIP,l.getInventoryDetail.retailPrice=t.retailPrice,l.getInventoryDetail.vipPrice=t.vipPrice):a.push(t)})),i=(0,n.default)({isMultiunit:l.useMultUnit?1:0,goodsMultiunits:a},l.getInventoryDetail),void this.saveGoods(i)}if(!this.getInventoryDetail.packingSpecification)return void uni.showToast({title:"请先添加规格",icon:"none",duration:1e3});this.saveGoods(this.getInventoryDetail)}else uni.showToast({title:"您没有修改商品的权限",icon:"none",duration:1e3})},bindPickerChange:function(t){this.index=t.target.value,this.getInventoryDetail["largeUnit"]=this.Unitarray[t.target.value].name},bindPickerChange0:function(t){this.smallindex=t.target.value,this.getInventoryDetail["smallUnit"]=this.Unitarray[t.target.value].name},getUnit:function(t){var e=this;if(this.useMultUnit)this.get("api/dat/datGoodsMultiunit/findGoodsMultiunitList",{goodsId:t||this.getDetail.id},1).then((function(t){if(e.Unitarray=t.data||[],e.Unitarray.length&&e.useMultUnit){e.oldUnitArr=JSON.parse(JSON.stringify(e.Unitarray));var i=t.data[0].smallUnit;e.unitName=i,e.Unitarray.forEach((function(t){t.basicUnit||(e.unitName+="/("+t.largeUnit+"="+t.packingSpecification+i+")")}))}}));else{var i=this;this.get("api/basedata/dictionnaryReturn",{dictionaryTypeId:1,status:1},1).then((function(t){var e=t.data;i.Unitarray=e}))}},setUnit:function(t){this.useMultUnit||(t.largeUnit&&(this.index=this.queryTypeCode(t.largeUnit)),t.smallUnit&&(this.smallindex=this.queryTypeCode(t.smallUnit)))},queryTypeCode:function(t){return this.Unitarray.findIndex((function(e){return e.name==t}))},saveGoods:function(t){var e=this,i=this.imageList.map((function(t){return t.id})).join(",");uni.showLoading({title:"保存中..."}),this.post("api/basicData/update",(0,n.default)((0,n.default)({},t),{},{pictureList:i}),1).then((function(t){uni.hideLoading(),t.meta.success?(uni.showToast({title:"保存成功",icon:"none",duration:1e3}),e.tatalsele="编辑",e.disable=!0,e.getSearchList()):uni.showToast({title:t.data,icon:"none",duration:1e3})}))},init:function(){this.inputValue="",this.incomingObj.pageNum=this.getIndex,this.incomingObj.pageSize=1,this.getSearchList(this.incomingObj),t.log(this.getInventoryDetail)},getGoodsPictureList:function(){var t=this;t.imageList=[],t.get("api/basicData/uploadfile/list",{relationId:this.getInventoryDetail.id,businessType:1},1).then((function(e){e.meta.success&&(t.imageList=e.data)}))},getInventoryFun:function(t){var e=this,i=this;uni.showLoading({title:"加载库存信息中..."}),this.btnFlag=!0,this.get("api/basicData/goodsInventoryMsg",{goodsId:t},1).then((function(t){uni.hideLoading(),e.btnFlag=!1;var a=t.data;t.meta.success&&(a.length>0?i.inventoryList=a.reduce((function(t,i){return i.costPriceIP&&(i.costPriceIP=e.RegExp.floatRound4(i.costPriceIP)),i.costPrice&&(i.costPrice=e.RegExp.floatRound4(i.costPrice)),t.push(i),t}),[]):i.typeList=[])}))},scanning:function(){var e=this;uni.scanCode({success:function(i){t.log("编号内容："+i.result),e.inputValue=i.result,e.searchCode(),e.inputValue=""}})},prev:function(){t.log("上一页：",this.getIndex),1!=this.getIndex?this.getIndex<=0?this.btnFlag=!0:(this.getIndex--,this.getSwitchData(this.getIndex)):uni.showToast({title:"这是第一页了",icon:"none",duration:1e3})},next:function(){if(this.getIndex++,t.log("下一页：",this.getIndex,this.getTotal),this.getIndex>this.getTotal)return uni.showToast({title:"已经是最后一页了",icon:"none",duration:1e3}),void this.getIndex--;this.getSwitchData(this.getIndex)},getSwitchData:function(t){this.getInventoryList&&this.getInventoryList.length>1?(this.getInventoryDetail=this.getInventoryList[t-1],this.oldInventoryDetail=JSON.parse(JSON.stringify(this.getInventoryDetail)),this.getInventoryFun(this.getInventoryList[t-1].id)):(this.incomingObj.pageNum=t,this.incomingObj.pageSize=1,this.getSearchList(this.incomingObj))},searchCode:function(){var t=this;if(this.disable){var e={negativeInventory:!1,goodsCode:this.inputValue,keyword:"",pageNum:1,pageSize:100,status:1},i=this;this.btnFlag=!0,this.get("api/basicData/goods/page",e,1).then((function(e){t.btnFlag=!1,e.meta.success?(e.data.list.length>0?(i.getInventoryList=e.data.list,i.getInventoryDetail=e.data.list[0],t.oldInventoryDetail=JSON.parse(JSON.stringify(t.getInventoryDetail)),i.getIndex=1,i.showDetailFlag=!0,t.getUnit(i.getInventoryDetail.id),i.getInventoryDetail&&i.getInventoryDetail.releaseMall?(i.releaseMall="是",i.releaseMallIndex=1):(i.releaseMall="否",i.releaseMallIndex=0)):(uni.showToast({title:"查询不到数据",icon:"none",duration:1e3}),i.showDetailFlag=!1),i.getTotal=e.data.total,i.inputValue=""):uni.showToast({title:e.meta.message,icon:"none",duration:1e3})}))}else uni.showToast({title:"请先保存商品",icon:"none",duration:1e3})},getSearchList:function(e){var i=this,a=this;uni.showLoading({title:"加载中"});var n={};n["goodsId"]=this.getDetail.id,this.btnFlag=!0,this.get("api/basicData/goods/page",n,1).then((function(e){uni.hideLoading(),i.btnFlag=!1,e.meta.success?(i.getInventoryDetail=e.data.list[0],i.oldInventoryDetail=JSON.parse(JSON.stringify(i.getInventoryDetail)),t.log(i.getInventoryDetail),i.getInventoryFun(i.getInventoryDetail.id),i.setUnit(i.getInventoryDetail),i.getGoodsPictureList(),a.getInventoryDetail&&a.getInventoryDetail.releaseMall?(a.releaseMall="是",a.releaseMallIndex=1):(a.releaseMall="否",a.releaseMallIndex=0)):uni.showToast({title:e.meta.message,icon:"none",duration:1e3})}))},getSupplier:function(){if(!this.disable){var e=this;e.setparams({searchtype:"supplier",filed:"supplier"}),uni.navigateTo({url:"../components/toolssearchlist/toolssearchlist",events:{customerSelect:function(i){i.length>0&&(t.log(e.getInventoryDetail),e.$set(e.getInventoryDetail,"supplierName",i[0].name),e.$set(e.getInventoryDetail,"supplierId",i[0].id))}}})}},getTaskAuthority:function(){var t=this;if(!this.$store.state.taskAuthority.length)return this.salePriceList=[],void uni.showToast({title:"没有查看售价权限",icon:"none",duration:1e3});if(this.useMultUnit){var e=this.$store.state.taskAuthority.concat(["largeUnit","packingSpecification","auxiliaryBarcode"]);this.salePriceList.forEach((function(t){e.includes(t.smallUnit)||(t.isShow=!1)}))}else this.salePriceList.forEach((function(e){t.$store.state.taskAuthority.includes(e.smallUnit)||(e.isShow=!1)}))},changePrice:function(t,e){if(!this.jspiceflag)if("ip"==e){if(this.isNumber(t.largeUnit))return;this.getInventoryDetail[t.smallUnit]=(this.getInventoryDetail[t.largeUnit]/parseFloat(this.getInventoryDetail.packingSpecification)).toFixed(4)}else if("sp"==e){if("vipPrice"==t.smallUnit||"retailPrice"==t.smallUnit)return;if(this.isNumber(t.smallUnit))return;this.getInventoryDetail[t.largeUnit]=(parseFloat(this.getInventoryDetail[t.smallUnit])*parseFloat(this.getInventoryDetail.packingSpecification)).toFixed(4)}},changePackingSpecification:function(){var t=this;if(!this.disable)if(this.useMultUnit){var e=this.auxiliaryUnit.filter((function(t){return t.basicUnit}))[0];this.auxiliaryUnit.forEach((function(i,a){var n=t.Unitarray.filter((function(t){return t.id==i.id}))[0];n["largeUnit"]=i["largeUnit"],n["smallUnit"]=e["largeUnit"],n.packingSpecification!=i.packingSpecification&&(n["packingSpecification"]=parseFloat(i["packingSpecification"]),n["newestIP"]=(parseFloat(e["newestIP"])*parseFloat(i.packingSpecification)).toFixed(4),n["saleIP1"]=(parseFloat(e["saleIP1"])*parseFloat(i.packingSpecification)).toFixed(4),n["saleIP2"]=(parseFloat(e["saleIP2"])*parseFloat(i.packingSpecification)).toFixed(4),n["saleIP3"]=(parseFloat(e["saleIP3"])*parseFloat(i.packingSpecification)).toFixed(4),n["saleIP4"]=(parseFloat(e["saleIP4"])*parseFloat(i.packingSpecification)).toFixed(4),n["saleIP5"]=(parseFloat(e["saleIP5"])*parseFloat(i.packingSpecification)).toFixed(4),n["factoryIP"]=(parseFloat(e["factoryIP"])*parseFloat(i.packingSpecification)).toFixed(4),n["distributionIP"]=(parseFloat(e["distributionIP"])*parseFloat(i.packingSpecification)).toFixed(4))})),this.getInventoryDetail.basicUnit=this.getInventoryDetail.smallUnit=e.largeUnit,this.getInventoryDetail.largeUnit=this.auxiliaryUnit.filter((function(t){return t.defaultUnit}))[0].largeUnit}else{if(!Number(this.getInventoryDetail.packingSpecification))return;this.salePriceList.forEach((function(e){"vipPrice"!=e.smallUnit&&"retailPrice"!=e.smallUnit&&e.isShow&&(t.getInventoryDetail[e.largeUnit]=(parseFloat(t.getInventoryDetail[e.smallUnit])*parseFloat(t.getInventoryDetail.packingSpecification)).toFixed(4))}))}},changeMultPrice:function(t,e,i){if(!this.isNumber(e,i)&&!this.jspiceflag&&"retailPrice"!=e&&"vipPrice"!=e&&"auxiliaryBarcode"!=e){var a=1==t.packingSpecification?parseFloat(t[e]).toFixed(4):parseFloat(t[e]/t.packingSpecification).toFixed(4);this.Unitarray.forEach((function(t){return t[e]=(parseFloat(a)*parseFloat(t.packingSpecification)).toFixed(4)}))}},isNumber:function(t,e){var i=this.useMultUnit?this.Unitarray[e][t]:this.getInventoryDetail[t];if(!Number(i))return uni.showToast({title:"请输入数字",icon:"none",duration:1e3}),this.useMultUnit?this.$set(this.Unitarray[e],t,this.oldUnitArr[e][t]):this.$set(this.getInventoryDetail,t,this.oldInventoryDetail[t]),!0},selectUnit:function(){this.disable||uni.navigateTo({url:"../goodsInfo/addGoods/components/addUnit?AuxiliaryData="+encodeURIComponent(JSON.stringify(this.Unitarray))+"&isEdit=1"})},handleReleaseMall:function(t){this.releaseMallIndex=t.target.value,this.releaseMall=this.releaseMallList[this.releaseMallIndex].name,this.getInventoryDetail["releaseMall"]=this.releaseMallList[this.releaseMallIndex].id}})});e.default=r}).call(this,i("ba7c")["default"])},c769:function(t,e,i){var a=i("3cb8");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("e94916b8",a,!0,{sourceMap:!1,shadowMode:!1})},e707:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,".customHeader[data-v-2c6c0aae]{display:flex;justify-content:space-between;padding:%?30?% %?40?%;background:#fff;font-size:%?34?%;font-family:Helvetica;color:#030303;line-height:%?41?%;align-items:center}.customHeader.sticky[data-v-2c6c0aae]{position:-webkit-sticky;position:sticky;top:0;z-index:99}.customHeader.fixed[data-v-2c6c0aae]{position:fixed;top:0;z-index:99;left:0;right:0}.customHeader .back[data-v-2c6c0aae]{margin-right:%?10?%;width:%?20?%;height:%?20?%;border-left:%?5?% solid;border-bottom:%?5?% solid;border-color:#030303;-webkit-transform:rotate(45deg);transform:rotate(45deg)}",""]),t.exports=e},f92a:function(t,e,i){"use strict";i.r(e);var a=i("62a2"),n=i("9e95");for(var l in n)["default"].indexOf(l)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(l);i("08ae");var s=i("828b"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"2c6c0aae",null,!1,a["a"],void 0);e["default"]=o.exports},fa94:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{bgcolor:{type:String,default:""},title:{type:String,default:""},fontColor:{type:String,default:""},isSticky:{type:Boolean,default:!1},isNotShowBack:{type:Boolean,default:!1},isBackMethodForParent:{type:Boolean,default:!1},isFixed:{type:Boolean,default:!1}},methods:{goBack:function(){this.isBackMethodForParent&&this.$emit("back"),uni.navigateBack()}}};e.default=a}}]);