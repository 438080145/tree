(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-creditAmount-add"],{5682:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"contain"},[i("v-uni-view",{staticClass:"middle"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"middle-des"},[t._v("客户：")]),i("v-uni-view",{staticClass:"middle-select",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.customerList.apply(void 0,arguments)}}},[i("v-uni-input",{attrs:{type:"text",placeholder:"点击选择客户",disabled:!0},model:{value:t.customerName,callback:function(e){t.customerName=e},expression:"customerName"}}),i("v-uni-image",{attrs:{src:"/static/img/outNote/right.png"}})],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"middle-des"},[t._v("信用额：")]),i("v-uni-view",{staticClass:"middle-select"},[i("v-uni-input",{attrs:{type:"text",placeholder:"",disabled:!0},model:{value:t.creditAmount,callback:function(e){t.creditAmount=e},expression:"creditAmount"}})],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"middle-des"},[t._v("欠款天数：")]),i("v-uni-view",{staticClass:"middle-select"},[i("v-uni-input",{attrs:{type:"text",placeholder:"",disabled:!0},model:{value:t.daysArrears,callback:function(e){t.daysArrears=e},expression:"daysArrears"}})],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"middle-des"},[t._v("申请金额：")]),i("v-uni-view",{staticClass:"middle-select",class:t.onlyInputOne>0?"disabledInp":""},[i("v-uni-input",{attrs:{type:"text",placeholder:"",disabled:t.onlyInputOne>0},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),0==t.amount.length?t.onlyInputOne=0:t.onlyInputOne=-1}},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"middle-des"},[t._v("申请天数：")]),i("v-uni-view",{staticClass:"middle-select",class:t.onlyInputOne<0?"disabledInp":""},[i("v-uni-input",{attrs:{type:"text",placeholder:"",disabled:t.onlyInputOne<0},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),0==t.applyDays.length?t.onlyInputOne=0:t.onlyInputOne=1}},model:{value:t.applyDays,callback:function(e){t.applyDays=e},expression:"applyDays"}})],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"middle-des"},[t._v("申请原因：")]),i("v-uni-view",{staticClass:"middle-select"},[i("v-uni-input",{attrs:{type:"text",placeholder:""},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1)],1),i("v-uni-view",{staticClass:"footfixed"},[i("v-uni-view",{staticClass:"foot-bg"},[i("v-uni-view",{staticClass:"foot-bg-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.creatNewDocm.apply(void 0,arguments)}}},[t._v("确认申请")])],1)],1)],1)},n=[]},"6d72":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,"uni-page-body[data-v-60e7bd02]{background-color:#f6f6f6}body.?%PAGE?%[data-v-60e7bd02]{background-color:#f6f6f6}.contain[data-v-60e7bd02]{background-color:#f6f6f6}.contain .middle[data-v-60e7bd02]{padding:%?40?%;background:#fff}.contain .middle .item[data-v-60e7bd02]{display:flex;height:%?80?%;line-height:%?80?%;padding-bottom:%?20?%}.contain .middle .item[data-v-60e7bd02]:last-child{padding-bottom:0}.contain .middle .item .middle-des[data-v-60e7bd02]{font-size:%?32?%;width:%?160?%;text-align:right}.contain .middle .item .middle-select[data-v-60e7bd02]{display:flex;justify-content:space-between;background:#f7f6fb;width:%?496?%;font-size:%?30?%;border-radius:5px}.contain .middle .item .middle-select uni-input[data-v-60e7bd02]{height:%?80?%;line-height:%?80?%;font-size:%?30?%;padding-left:%?20?%}.contain .middle .item .middle-select uni-text[data-v-60e7bd02]{color:#ffb822;font-size:%?26?%;padding:0 %?20?%}.contain .middle .item .middle-select uni-image[data-v-60e7bd02]{width:%?40?%;height:%?40?%;padding-right:%?20?%;padding-top:%?20?%}.contain .middle .item .disabledInp[data-v-60e7bd02]{background:#e2e2ef}.contain .middle .item uni-picker[data-v-60e7bd02]{padding-left:%?20?%;width:%?496?%}.contain .sweepCode[data-v-60e7bd02]{display:flex;justify-content:space-between;padding:0 %?40?%;border-bottom:%?2?% #eee solid;background:#fff}.contain .sweepCode uni-image[data-v-60e7bd02]{width:%?48?%;height:%?48?%;padding:%?26?% 0}.contain .shopList[data-v-60e7bd02]{margin-bottom:%?40?%;background:#fff}.contain .shopList .order-item[data-v-60e7bd02]{position:relative;padding:%?40?%;border-bottom:%?1?% solid #eee}.contain .shopList .order-item .order-item-row[data-v-60e7bd02]{display:flex;flex-direction:row;align-items:center;width:100%;color:grey}.contain .shopList .order-item .order-item-row-left[data-v-60e7bd02]{width:%?150?%;font-size:%?28?%;line-height:%?60?%}.contain .shopList .order-item .order-item-row-input[data-v-60e7bd02]{flex:1;font-size:%?28?%;border-bottom:1px solid #ddd}.contain .shopList .order-item .delete[data-v-60e7bd02]{position:absolute;top:0;right:0;padding:%?10?% %?20?%;color:red}.contain .paymentMethod[data-v-60e7bd02]{background-color:#fff;margin-bottom:%?40?%;padding:%?40?% %?40?% %?20?%}.contain .paymentMethod .paymentMethod-item[data-v-60e7bd02]{display:flex;align-items:center;height:%?80?%;padding-bottom:%?20?%;font-size:%?32?%;line-height:%?80?%}.contain .paymentMethod .paymentMethod-item .paymentMethod-item-name[data-v-60e7bd02]{width:%?160?%}.contain .paymentMethod .paymentMethod-item .paymentMethod-item-vlue[data-v-60e7bd02]{flex:1;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd}.contain .paymentMethod .paymentMethod-item .paymentMethod-item-vlue uni-picker[data-v-60e7bd02], .contain .paymentMethod .paymentMethod-item .paymentMethod-item-vlue uni-input[data-v-60e7bd02]{flex:1;height:%?80?%;padding-left:%?20?%;line-height:%?80?%}.contain .paymentMethod .paymentMethod-item .paymentMethod-item-vlue .right[data-v-60e7bd02]{width:%?48?%;height:%?48?%}.contain .footfixed[data-v-60e7bd02]{display:block;position:fixed;bottom:%?0?%!important;bottom:%?100?%;width:100%;height:%?100?%;background:#fff;z-index:10}.contain .footfixed .foot-bg[data-v-60e7bd02]{display:flex}.contain .footfixed .foot-bg .foot-bg-left[data-v-60e7bd02]{display:flex;width:70%;font-size:%?32?%;font-weight:500;text-align:center;line-height:%?100?%}.contain .footfixed .foot-bg .foot-bg-left uni-image[data-v-60e7bd02]{width:%?48?%;height:%?48?%;margin:%?25?% %?20?% 0 %?90?%}.contain .footfixed .foot-bg .foot-bg-left uni-text[data-v-60e7bd02]{color:red}.contain .footfixed .foot-bg .foot-bg-right[data-v-60e7bd02]{width:100%;height:%?90?%;line-height:%?90?%;text-align:center;background:#ffb822;font-size:%?32?%;color:#fff}.contain .hide[data-v-60e7bd02]{position:inherit;visibility:hidden}",""]),t.exports=e},7160:function(t,e,i){"use strict";var a=i("afc5"),n=i.n(a);n.a},"8b6c":function(t,e,i){"use strict";i.r(e);var a=i("5682"),n=i("9f66");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("7160");var d=i("828b"),s=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"60e7bd02",null,!1,a["a"],void 0);e["default"]=s.exports},"9f66":function(t,e,i){"use strict";i.r(e);var a=i("b376"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},afc5:function(t,e,i){var a=i("6d72");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("63d5e9b2",a,!0,{sourceMap:!1,shadowMode:!1})},b376:function(t,e,i){"use strict";(function(t){i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("bf0f"),i("2797");var n=a(i("9b1b")),o=i("8f59"),d=(a(i("63d3")),{components:{},data:function(){return{item:{id:0},strogeobj:{},customerName:"",customerId:0,customer:{},amount:null,remark:"",temp:{},creditAmount:"",daysArrears:"",applyDays:"",onlyInputOne:""}},created:function(){},onLoad:function(t){if(t.item){var e=t.item;this.item=t.item,this.customerId=e.customerId,this.customerName=e.customerName,this.amount=e.amount}this.initData()},onShow:function(){},onReady:function(){},onReachBottom:function(){},mounted:function(){},computed:(0,n.default)((0,n.default)({},(0,o.mapState)(["params"])),{},{disabled:function(){}}),watch:{customer:function(t){null!=t&&t.length>0&&(this.customerId=t[0].id,this.customerName=t[0].name,this.creditAmount=t[0].creditAmount,this.daysArrears=t[0].daysArrears,this.strogeobj.customerId=this.customerId,this.strogeobj.customerName=this.customerName,this.customer=t[0],uni.setStorageSync("creditNoteTemp",this.strogeobj))}},methods:(0,n.default)((0,n.default)({},(0,o.mapMutations)(["setparams"])),{},{initData:function(){var e=this;e.get("wx/work/getTemplate",{code:"change.credit.amount"},4).then((function(i){t.log("====="),i.meta.success?e.temp=i.data:uni.showToast({title:i.meta.message,icon:"none",duration:1e3})}))},customerList:function(){this.setparams({searchtype:"customer",filed:"customer"}),uni.navigateTo({url:"../components/toolssearchlist/toolssearchlist"})},creatNewDocm:function(){var e=this;e.customerId?e.amount?e.post("dat/weworkCreditApply",(0,n.default)({amount:e.amount,customerid:e.customerId,customer:e.customerName,applyReason:e.remark},e.applyDays>0?{daysArrears:e.applyDays}:{daysArrears:e.daysArrears}),4).then((function(i){if(i.meta.success){var a=i.data.id;uni.showModal({title:"提示",content:"是否发送企业微信审批？",success:function(i){i.confirm?e.temp.contentList&&(e.temp.contentList.forEach((function(t){"客户"==t.title?t.value={text:e.customerId}:"信用额"==t.title?t.value={new_money:e.amount}:"申请原因"==t.title&&(t.value={text:e.remark}),t.require&&delete t.require,t.title&&delete t.title})),e.temp.approveType="credit",e.temp.customer=e.customerName,e.temp.customerId=e.customerId,e.temp.creditAmount=e.amount,e.temp.remark=e.remark,e.temp.orderId=a,delete e.temp.require,e.post("wx/work/applyEvent",e.temp,4).then((function(e){t.log("=====》",e),e.meta.success?(uni.showToast({title:"已发送"}),setTimeout((function(){uni.navigateBack({delta:1})}),1e3)):uni.showToast({title:e.meta.message,icon:"none",duration:1e3})}))):i.cancel&&(uni.showToast({title:"新建成功"}),setTimeout((function(){uni.navigateBack({delta:1})}),1e3))}})}else uni.showToast({title:i.meta.message,icon:"none"})})):uni.showToast({title:"请填写申请金额",icon:"none",duration:1e3}):uni.showToast({title:"请选择客户",icon:"none",duration:1e3})}})});e.default=d}).call(this,i("ba7c")["default"])}}]);