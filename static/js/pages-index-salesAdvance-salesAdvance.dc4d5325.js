(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-salesAdvance-salesAdvance"],{"0b6a":function(t,e,a){"use strict";a.r(e);var i=a("19dc"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"19dc":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("aa9c");var n=i(a("b7c7")),s=i(a("9b1b")),o=i(a("a262")),d=a("8f59"),c=(i(a("63d3")),[{name:"全部",type:null},{name:"已审核",type:2},{name:"未审核",type:1}]),l={components:{},data:function(){return{searchList:[{controlType:"date",dataSource:"",filedName:"dateStart",defaultValue:"7",title:"开始日期"},{controlType:"date",dataSource:"",filedName:"dateEnd",defaultValue:"",title:"结束日期"},{controlType:"text",dataSource:"",filedName:"oddCode",defaultValue:"",title:"单号"},{controlType:"list",dataSource:"111",defaultValue:"-1",filedName:"jsId",title:"经手人"},{controlType:"staticchoice",selectItemName:"type",dataSource:"",range:c,rangeKey:"name",filedName:"checkStatus",defaultValue:"0",title:"状态"},{controlType:"list",dataSource:"12",defaultValue:"-1",filedName:"orgId",title:"机构"},{controlType:"list",dataSource:"108",defaultValue:"-1",filedName:"kmId",title:"客户"},{controlType:"text",dataSource:"",defaultValue:"",filedName:"abstractStr",title:"摘要"}],searchModel:{dateStart:"",dateEnd:"",oddCode:"",jsId:"",checkStatus:0,kmId:"",abstractStr:"",orgId:""},resultModel:{dateStart:"",dateEnd:"",oddCode:"",jsId:"",checkStatus:"",kmId:"",abstractStr:"",orgId:""},condition:{},pageNum:1,pageSize:30,hasNextPage:!1,salesCollectionList:[],salesCollectionAmount:0}},onLoad:function(t){this.initParams()},onShow:function(){this.initData()},onHide:function(){},onReachBottom:function(){this.hasNextPage&&(this.pageNum++,this.initData())},created:function(){},mounted:function(){},computed:(0,s.default)({},(0,d.mapState)(["params"])),methods:(0,s.default)((0,s.default)({},(0,d.mapMutations)(["setparams"])),{},{goBack:function(){uni.navigateBack({delta:1})},initParams:function(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),this.dateEnd=t.getTime();var e=t;e.setDate(e.getDate()-7),e.setHours(0),e.setMinutes(0),e.setSeconds(0),this.dateStart=e.getTime(),this.searchModel=(0,s.default)((0,s.default)({},this.searchModel),{},{dateStart:this.timeShift.formatDate(this.dateStart),dateEnd:this.timeShift.formatDate(this.dateEnd)}),this.resultModel=(0,s.default)({},this.searchModel),this.condition=(0,s.default)((0,s.default)({},this.searchModel),{},{dateStart:this.dateStart,dateEnd:this.dateEnd})},initData:function(){var t=this;t.salesCollectionAmount=0;var e=(0,s.default)((0,s.default)({pageNum:t.pageNum,pageSize:t.pageSize},t.condition),{},{typeId:2});""!==e.oddCode&&null!==e.oddCode&&void 0!==e.oddCode||delete e.oddCode,""!==e.jsId&&null!==e.jsId&&void 0!==e.jsId||delete e.jsId,e.orgId||delete e.orgId,0!==e.checkStatus&&null!==e.checkStatus&&void 0!==e.checkStatus||delete e.checkStatus,""!==e.kmId&&null!==e.kmId&&void 0!==e.kmId||delete e.kmId,""!==e.abstractStr&&null!==e.abstractStr&&void 0!==e.abstractStr||delete e.abstractStr,o.default.listBillPage(e).then((function(e){if(e.meta.success){var a;t.hasNextPage=e.data.hasNextPage,1===t.pageNum?t.salesCollectionList=e.data.list:(a=t.salesCollectionList).push.apply(a,(0,n.default)(e.data.list));for(var i=0;i<t.salesCollectionList.length;i++){var s=t.salesCollectionList[i],o=Math.floor(s.amount);o="NaN"===String(o)?0:o,t.salesCollectionAmount+=o}t.salesCollectionAmount=Math.round(100*t.salesCollectionAmount)/100}else uni.showToast({title:e.meta.message,icon:"none",duration:1e3})}))},goEdit:function(t){this.setparams({item:this.salesCollectionList[t]}),uni.navigateTo({url:"./children/edit/edit"})},salesCollectionAdd:function(){this.setparams({item:null}),uni.navigateTo({url:"./children/edit/edit"})},salesCollectionScreen:function(){this.setparams({searchList:this.searchList,searchModel:this.searchModel,resultModel:this.resultModel}),uni.navigateTo({url:"/pages/index/reportStatistics/customizeStatistics/customizeStatistics"})},searchData:function(t){var e=(0,s.default)({},t.searchModel),a=new Date(e.dateStart);a.setHours(0),a.setMinutes(0),a.setSeconds(0);var i=new Date(e.dateEnd);i.setHours(0),i.setMinutes(0),i.setSeconds(0);var n={};n.dateStart=a.getTime(),n.dateEnd=i.getTime(),n.oddCode=e.oddCode,n.jsId=e.jsId>=0?e.jsId:null,n.orgId=e.orgId?e.orgId:null,n.checkStatus=e.checkStatus>=0?e.checkStatus:null,n.kmId=e.kmId>=0?e.kmId:null,n.abstractStr=e.abstractStr,this.condition=(0,s.default)({},n)}})};e.default=l},2724:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"contain"},[a("v-uni-view",{staticClass:"hd"},[a("v-uni-view",{staticClass:"header-left"},[a("v-uni-image",{attrs:{src:"/static/img/index/left.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"header-middle"},[a("v-uni-text",[t._v("销售预收单")])],1),a("v-uni-view",{staticClass:"header-right"},[a("v-uni-image",{staticClass:"tianjia",attrs:{src:"/static/img/outNote/add.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.salesCollectionAdd.apply(void 0,arguments)}}}),a("v-uni-image",{staticClass:"shaixuan",attrs:{src:"/static/img/outNote/shop-shaixuan.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.salesCollectionScreen.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"contents"},[t.salesCollectionList.length>0?t._l(t.salesCollectionList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"contents-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goEdit(i)}}},[a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"oddCode"},[t._v(t._s(e.oddCode))]),a("v-uni-view",{staticClass:"checkStatus"},[t._v(t._s(1===e.checkStatus?"未审核":2===e.checkStatus?"已审核":""))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"customerName"},[t._v("客户："+t._s(e.zkmName))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"createDate"},[t._v("日期："+t._s(t.timeShift.timeTransfer(e.createDate)))]),a("v-uni-view",{staticClass:"zzName"},[t._v("经手人："+t._s(e.jsName))])],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"amount"},[t._v("总金额："),a("v-uni-text",{staticClass:"amount-value"},[t._v("￥"+t._s(e.amount))])],1)],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"marks"},[t._v("备注："+t._s(e.abstract))])],1)],1)})):[a("v-uni-image",{staticClass:"layimg",attrs:{src:"/static/img/salesReport/seachbig.png"}}),a("v-uni-view",{staticClass:"laytext"},[t._v("未搜索到结果")])]],2),a("v-uni-view",{staticClass:"foot"},[a("v-uni-text",{staticClass:"foot-text"},[t._v("合计：￥"+t._s(t.salesCollectionAmount))])],1)],1)},n=[]},"41c9":function(t,e,a){"use strict";a.r(e);var i=a("2724"),n=a("0b6a");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("92f9");var o=a("828b"),d=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"dfb4a81e",null,!1,i["a"],void 0);e["default"]=d.exports},"92f9":function(t,e,a){"use strict";var i=a("ccb4"),n=a.n(i);n.a},a262:function(t,e,a){"use strict";a("c223");var i=a("d4d7"),n={listBillPage:function(t){return(0,i.get)("api/accountVoucher/listBillPage",t,1)},authorganizationList:function(t){return(0,i.get)("api/basicData/authorganization/list",t,1)},dictionnaryList:function(t){return(0,i.get)("api/basedata/dictionnary/list",t,1)},billDetail:function(t){return(0,i.get)("api/accountVoucher/billDetail",t,1)},getKMListByAvType:function(t){return(0,i.get)("api/financial/getKMListByAvType",t,1)},savePreOrCollectBill:function(t){return(0,i.post)("finance/accountingVoucher/savePreOrCollectBill",t,8)},checkNegative:function(t){return(0,i.patch)("api/accountVoucher/checkNegative?id="+t.id,null,1)},checkBill:function(t){return(0,i.patch)("api/accountVoucher/checkBill"+"?absTract=".concat(t.absTract,"&autoAbsTract=").concat(t.autoAbsTract,"&id=").concat(t.id),null,1)}};t.exports=n},ccb4:function(t,e,a){var i=a("db99");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("284ad3f0",i,!0,{sourceMap:!1,shadowMode:!1})},db99:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,"uni-page-body[data-v-dfb4a81e]{background-color:#f5f5f5}body.?%PAGE?%[data-v-dfb4a81e]{background-color:#f5f5f5}.contain[data-v-dfb4a81e]{background-color:#f5f5f5}.contain .hd[data-v-dfb4a81e]{display:flex;justify-content:space-between;position:fixed;width:100%;height:%?60?%;padding-top:%?80?%;line-height:%?60?%;color:#000;font-size:%?34?%;text-align:center;z-index:100;font-weight:500;background-color:#fff}.contain .hd .header-left[data-v-dfb4a81e]{width:20%}.contain .hd .header-middle[data-v-dfb4a81e]{width:25%}.contain .hd uni-image[data-v-dfb4a81e]{width:%?48?%;height:%?48?%;margin:%?7?% %?15?%;display:block}.contain .hd .header-right[data-v-dfb4a81e]{display:flex;justify-content:flex-end;width:20%}.contain .hd .tianjia[data-v-dfb4a81e]{width:%?42?%;height:%?42?%}.contain .contents[data-v-dfb4a81e]{width:100%;height:100%;padding-top:%?140?%;padding-bottom:%?72?%}.contain .contents .contents-item[data-v-dfb4a81e]{margin:%?20?% %?12?%;padding:%?20?% %?24?%;border-radius:%?20?%;background:#fff}.contain .contents .contents-item .item[data-v-dfb4a81e]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;font-size:%?26?%;color:#666;line-height:%?26?%}.contain .contents .contents-item .item > uni-view[data-v-dfb4a81e]{padding:%?10?% 0 %?10?% 0}.contain .contents .contents-item .item .oddCode[data-v-dfb4a81e]{font-size:%?30?%;color:#333;line-height:%?30?%;margin:%?10?% 0}.contain .contents .contents-item .item .checkStatus[data-v-dfb4a81e]{font-size:%?24?%;color:#f1b323;border:%?1?% solid #f1b323;padding:%?6?% %?22?%}.contain .contents .contents-item .item .amount-value[data-v-dfb4a81e]{color:red}.contain .contents .laytext[data-v-dfb4a81e]{text-align:center;font-size:%?24?%;color:#666}.contain .contents .layimg[data-v-dfb4a81e]{width:%?224?%;height:%?186?%;margin:%?220?% %?263?% %?40?% %?263?%}.contain .foot[data-v-dfb4a81e]{position:fixed;left:0;bottom:0;display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;height:%?72?%;background-color:#ffb822}.contain .foot .foot-text[data-v-dfb4a81e]{font-size:%?28?%;color:#fff}.contain .hide[data-v-dfb4a81e]{position:inherit;visibility:hidden}",""]),t.exports=e}}]);