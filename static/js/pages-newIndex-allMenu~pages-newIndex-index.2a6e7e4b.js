(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-newIndex-allMenu~pages-newIndex-index"],{1851:function(e,t,n){"use strict";var r=n("8bdb"),i=n("84d6"),a=n("1cb5");r({target:"Array",proto:!0},{fill:i}),a("fill")},2080:function(e,t,n){"use strict";(function(e){n("6a54");var r=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getHierarchyMenus=t.getDifferentArray=void 0;var i=r(n("9b1b"));n("bf0f"),n("2797"),n("5c47"),n("a1c1"),n("aa9c"),n("c223"),n("fd3c"),n("8f71"),n("473f");var a=r(n("f7b7")),s=[{name:"é”€å”®",key:"sale"},{name:"é‡‡è´­",key:"purchase"},{name:"åº“å­˜",key:"stock"},{name:"è´¢åŠ¡",key:"finance"},{name:"èµ„æ–™",key:"data"},{name:"è¥é”€",key:"marketing"},{name:"æŠ¥è¡¨",key:"reportForm"},{name:"è®¿é”€",key:"marketingVisit"},{name:"å®‰è£…",key:"onSiteInstall"},{name:"ç»©æ•ˆ",key:"achievements"}],o=[{name:"é”€å”®å‡ºä»“å•",key:"saleOutNote",parentKey:"sale",url:"/pages/index/sale/outNote/outNote",icon:"/static/img/index/xsccd.png",jurisdictionKey:"outNote",jurisdictionBtn:"add",jurisdictionUrl:"main/sale/outNote/1",isMenupermissions:!0,isHistoryNote:!0},{name:"é”€å”®é€€è´§å•",key:"saleReturnNote",parentKey:"sale",url:"/pages/index/salesReturn/salesReturn",icon:"/static/img/comIcon/xsthd.png",jurisdictionKey:"refundsNote",jurisdictionBtn:"add",jurisdictionUrl:"main/sale/rebundsNote/1",isMenupermissions:!0,isHistoryNote:!0},{name:"é”€å”®æŠ¥ä»·å•",key:"saleQuoteNote",parentKey:"sale",url:"/pages/index/salesQuotation/salesQuotation",icon:"/static/img/comIcon/spzl.png",jurisdictionKey:"quoteNote",jurisdictionBtn:"add",jurisdictionUrl:"main/sale/quoteNote/1",isMenupermissions:!0,isHistoryNote:!0},{name:"é”€å”®è®¢å•",key:"saleOrder",parentKey:"sale",url:"/pages/index/salesOrder/salesOrder",icon:"/static/img/comIcon/spsl.png",jurisdictionKey:"saleOrder",jurisdictionBtn:"add",jurisdictionUrl:"main/sale/saleOrder/1",isMenupermissions:!0,isHistoryNote:!0},{name:"é‡‡è´­è®¢è´§å•",key:"purchaseOrderNote",parentKey:"purchase",url:"/pages/index/purchaseNoteNew/purchaseNoteNew",icon:"/static/img/comIcon/cgdhd.png",jurisdictionKey:"orderNote",jurisdictionBtn:"add",jurisdictionUrl:"main/purchase/orderNote/1",isMenupermissions:!0,isHistoryNote:!0},{name:"é‡‡è´­è¿›ä»“å•",key:"purchaseInNote",parentKey:"purchase",url:"/pages/index/purchaseIntoNew/purchaseIntoNew",icon:"/static/img/comIcon/cgjcd.png",jurisdictionKey:"inNote",jurisdictionBtn:"add",jurisdictionUrl:"main/purchase/inNote/1",isMenupermissions:!0,isHistoryNote:!0},{name:"é‡‡è´­é€€è´§å•",key:"purchaseReturnNote",parentKey:"purchase",url:"/pages/index/purchaseReturn/purchaseReturn",icon:"/static/img/comIcon/cgthd.png",jurisdictionKey:"returnNote",jurisdictionBtn:"add",jurisdictionUrl:"main/purchase/returnNote/1",isMenupermissions:!0,isHistoryNote:!0},{name:"å•†å“èµ„æ–™",key:"productDatum",parentKey:"data",url:"/pages/index/goodsInfo/goodsInfo",icon:"/static/img/comIcon/spkc.png",jurisdictionKey:"productDatum",isMenupermissions:!0},{name:"å®¢æˆ·èµ„æ–™",key:"customerDatum",parentKey:"data",url:"/pages/index/customerFiles/customerFiles",icon:"/static/img/comIcon/khzl.png",jurisdictionKey:"customerDatum",isMenupermissions:!0,isHistoryNote:!0},{name:"è´§ä½æ¡£æ¡ˆ",key:"cargoPositionDatum",parentKey:"data",url:"/pages/index/cargoPosition/cargoPosition",icon:"/static/img/comIcon/cargoPosition.png",jurisdictionKey:"cargoPositionDatum",isMenupermissions:!0,isHistoryNote:!0},{name:"å•†å“å›¾ç‰‡ä¸Šä¼ ",key:"productImageUpload",parentKey:"data",url:"/pages/index/goodsImgUpLoad/index",icon:"/static/img/comIcon/spsc.png",jurisdictionId:106,isOrderpermissions:!0},{name:"ç”µè„‘è®¤è¯",key:"authentication",parentKey:"data",url:"/pages/index/authentication/index",icon:"/static/img/comIcon/computerCertification.png",jurisdictionKey:"authentication",isMenupermissions:!0},{name:"å®¢æˆ·åŠ¨é”€ç»Ÿè®¡",key:"customerSalesStatistics",parentKey:"reportForm",url:"/pages/index/clientSellStatistics/clientSellStatistics",icon:"/static/img/comIcon/gysda.png",jurisdictionId:110,isOrderpermissions:!0},{name:"ä¾›åº”å•†èµ„æ–™",key:"supplierFiles",parentKey:"data",url:"/pages/index/supplierFiles/supplierFiles",icon:"/static/img/comIcon/gysda.png",jurisdictionKey:"supplierDatum",isMenupermissions:!0},{name:"å…å¹´è´¹æœºä¼š",key:"supplierFiles",parentKey:"data",url:"/pages/index/freemoney/freemoney",icon:"/static/img/comIcon/topay.png",systemType:"qgd",isFromSystem:!0},{name:"åº“å­˜ç›˜ç‚¹å•",key:"stockCountNote",parentKey:"stock",url:"/pages/index/countNoteNew/countNoteNew",icon:"/static/img/comIcon/pdd.png",jurisdictionKey:"countNote",jurisdictionBtn:"add",jurisdictionUrl:"main/stock/countNote/1",isMenupermissions:!0,isHistoryNote:!0},{name:"è½¬ä»“å•",key:"stockTransferNote",parentKey:"stock",url:"/pages/index/transferNote/transferNote",icon:"/static/img/index/transfer.png",jurisdictionKey:"transferNote",jurisdictionBtn:"add",jurisdictionUrl:"main/stock/transferNote/1",isMenupermissions:!0,isHistoryNote:!0},{name:"å•†å“åº“å­˜æŸ¥è¯¢",key:"stockProductCount",parentKey:"stock",url:"/pages/index/inventoryQuery/inventoryQuery",icon:"/static/img/comIcon/spkc.png",jurisdictionKey:"productCount",isMenupermissions:!0},{name:"è¿›é”€å­˜æ˜ç»†",key:"stockPssDetail",parentKey:"stock",url:"/pages/index/pssDetail/pssDetail",icon:"/static/img/comIcon/spzl.png",jurisdictionKey:"pssDetail",isMenupermissions:!0},{name:"åº“å­˜æŠ¥è­¦",key:"stockAlarmStock",parentKey:"stock",url:"/pages/index/alarmStock/alarmStock",icon:"/static/img/comIcon/xsthd.png",jurisdictionKey:"alarmStock",isMenupermissions:!0},{name:"åº“å­˜ä¸Šä¸‹é™è®¾ç½®",key:"stockUpperLower",parentKey:"stock",url:"/pages/index/stockUpperLower/stockUpperLower",icon:"/static/img/comIcon/stockUpperLower.png",jurisdictionKey:"stockUpperLower",isMenupermissions:!0},{name:"å†å²è¿›å”®ä»·",key:"historicalPrice",parentKey:"stock",url:"/pages/index/historicalPrice/historicalPrice",icon:"/static/img/comIcon/voucherEnter.png",jurisdictionKey:"historicalPrice",isMenupermissions:!0},{name:"ä¼šå‘˜å®¡æ ¸",key:"marketingMemberAudit",parentKey:"marketing",url:"/pages/index/audit/audit",icon:"/static/img/comIcon/khzl.png",jurisdictionKey:"member",isMenupermissions:!0},{name:"ä¼šå‘˜ç®¡ç†",key:"marketingMemberManager",parentKey:"marketing",url:"/pages/memberManagement/index",icon:"/static/img/comIcon/memberManager.png",jurisdictionKey:"member",isMenupermissions:!0},{name:"è®¢å•å¤„ç†",key:"marketingOrderProcessing",parentKey:"marketing",url:"/pages/index/orderProcessing/orderProcessing",icon:"/static/img/comIcon/xsthd.png",jurisdictionKey:"orderProcessing",isMenupermissions:!0},{name:"å•†åŸåˆ†æ",key:"marketingShoppingMallAnalysis",parentKey:"reportForm",url:"/pages/shoppingMallAnalysis/index",icon:"/static/img/comIcon/shoppingMall.png",jurisdictionId:126,isOrderpermissions:!0},{name:"æœªå¤„ç†è®¢å•",key:"reportFormUntreated",parentKey:"reportForm",url:"/pages/index/salesReport/children/untreated/untreated",icon:"/static/img/salesReport/weichuli.png",jurisdictionId:96,isOrderpermissions:!0},{name:"ä»Šæ—¥å¤§å•",key:"reportFormBigorder",parentKey:"reportForm",url:"/pages/index/salesReport/children/bigorder/bigorder",icon:"/static/img/salesReport/jinri.png",jurisdictionId:95,isOrderpermissions:!0},{name:"å¹´æœˆé”€å”®æŠ¥è¡¨",key:"reportFormReportYear",parentKey:"reportForm",url:"/pages/index/salesReport/children/reportyear/reportyear",icon:"/static/img/salesReport/xiaoshousale.png",jurisdictionId:91,isOrderpermissions:!0},{name:"å®¢æˆ·é”€å”®æ’è¡Œ",key:"reportFormCustomerSales",parentKey:"reportForm",url:"/pages/index/salesReport/children/customersales/customersales",icon:"/static/img/salesReport/kehu.png",jurisdictionId:94,isOrderpermissions:!0},{name:"ä¸šç»©æ’è¡Œ",key:"reportFormRank",parentKey:"reportForm",url:"/pages/index/salesReport/children/rank/rank",icon:"/static/img/salesReport/yeji.png",jurisdictionId:93,isOrderpermissions:!0},{name:"å“ç‰Œé”€é‡",key:"reportFormBrandsales",parentKey:"reportForm",url:"/pages/index/salesReport/children/brandsales/brandsales",icon:"/static/img/salesReport/pinpai.png",jurisdictionId:92,isOrderpermissions:!0},{name:"æœºæ„åº“å­˜",key:"reportFormOrgan",parentKey:"reportForm",url:"/pages/index/salesReport/children/organ/organ",icon:"/static/img/salesReport/pinpai.png",jurisdictionId:103,isOrderpermissions:!0},{name:"è‡ªå®šä¹‰æŠ¥è¡¨",key:"reportFormCustomReport",parentKey:"reportForm",url:"/pages/customReport/index",icon:"/static/img/salesReport/customReport.png",isFromReportMain:!0},{name:"é”€å”®æ”¶æ¬¾å•",key:"financeSalesCollection",parentKey:"finance",url:"/pages/index/salesCollection/salesCollection",icon:"/static/img/comIcon/gatheringBill.png",jurisdictionKey:"gatheringBill",isMenupermissions:!0},{name:"é‡‡è´­ä»˜æ¬¾å•",key:"financePayBill",parentKey:"finance",url:"/pages/index/payBill/payBill",icon:"/static/img/comIcon/payBill.png",jurisdictionKey:"payBill",isMenupermissions:!0},{name:"é”€å”®é¢„æ”¶å•",key:"financeSalesAdvance",parentKey:"finance",url:"/pages/index/salesAdvance/salesAdvance",icon:"/static/img/comIcon/salesAdvance.png",jurisdictionKey:"salesAdvance",isMenupermissions:!0},{name:"é‡‡è´­é¢„ä»˜å•",key:"financePurchasePrepay",parentKey:"finance",url:"/pages/index/purchasePrepay/purchasePrepay",icon:"/static/img/comIcon/purchasePrepay.png",jurisdictionKey:"purchasePrepay",isMenupermissions:!0},{name:"è´¹ç”¨æ”¯å‡ºå•",key:"financeExpenditureNote",parentKey:"finance",url:"/pages/index/expenditureNote/expenditureNote",icon:"/static/img/comIcon/expenditureNote.png",jurisdictionKey:"expenditureNote",isMenupermissions:!0},{name:"åˆ©æ¶¦è¡¨",key:"financeProfitStatement",parentKey:"finance",url:"/pages/index/profitStatement/profitStatement",icon:"/static/img/comIcon/financeProfitStatement.png",jurisdictionKey:"profitStatement",isMenupermissions:!0},{name:"æˆ‘çš„è€ƒæ ¸",key:"achievementsNormalPerson",parentKey:"achievements",url:"/pages/assessment/index?isNormalPerson=1",icon:"/static/img/comIcon/khzl.png",jurisdictionId:127,isOrderpermissions:!0},{name:"ç»©æ•ˆæ±‡æ€»",key:"achievementsManager",parentKey:"achievements",url:"/pages/assessment/index",icon:"/static/img/comIcon/xsthd.png",jurisdictionKey:"Assessment",isMenupermissions:!0},{name:"è®¿é”€",url:"/pages/index/visitorRecord/visitorRecord",icon:"/static/img/comIcon/fx.png",key:"marketingVisitMange",parentKey:"marketingVisit",isMenupermissions:!0,jurisdictionKey:"marketingVisitMange"},{name:"å½“å‰è®¿é”€",url:"/pages/index/visitorRecord/businessProcessing/businessProcessing?id=",icon:"/static/img/comIcon/dqfx.png",key:"marketingVisitCur",parentKey:"marketingVisit",isMenupermissions:!0,jurisdictionKey:"marketingVisitCur"},{name:"ä¸šåŠ¡æƒ…å†µ",url:"/pages/index/visitRecord/visitRecord",icon:"/static/img/comIcon/bfjl.png",key:"businessInfo",parentKey:"marketingVisit",isMenupermissions:!0,jurisdictionKey:"businessInfo"},{name:"å®¢æˆ·ç®¡ç†",url:"/pages/index/customerManagement/customerManagement",icon:"/static/img/comIcon/khgl.png",key:"customerMange",parentKey:"marketingVisit",isMenupermissions:!0,jurisdictionKey:"customerMange"},{name:"å®¢æˆ·ç‰ˆå›¾",url:"/pages/index/customerTerritory/customerTerritory",icon:"/static/img/comIcon/khbt.png",key:"customerTerritory",parentKey:"marketingVisit",isMenupermissions:!0,jurisdictionKey:"customerTerritory"},{name:"ä¸šåŠ¡æ‹œè®¿è½¨è¿¹",url:"/pages/index/salesmanTrajectory/salesmanTrajectory",icon:"/static/img/comIcon/bfgj.png",key:"VisitTrajectory",parentKey:"marketingVisit",isMenupermissions:!0,jurisdictionKey:"VisitTrajectory"},{name:"æ‹œè®¿è®¡åˆ’",url:"/pages/index/visitorRecord/visitPlan/visitPlan",icon:"/static/img/salesReport/jinri.png",key:"visitingPlan",parentKey:"marketingVisit",isMenupermissions:!0,jurisdictionKey:"visitingPlan"},{key:"creditAmount",url:"/pages/index/creditAmount/creditAmount",icon:"/static/img/salesReport/jinri.png",isMenupermissions:!0,jurisdictionKey:"creditAmount",parentKey:"sale",name:"ä¿¡ç”¨é¢è°ƒæ•´å•"},{name:"æ‹£è´§ç™»è®°",key:"pickRegister",url:"/pages/index/pickRegister/pickRegister",icon:"/static/img/salesReport/jinri.png",parentKey:"stock",isOrderpermissions:!0,jurisdictionId:170},{name:"ç‚¹è´§ç™»è®°",key:"checkRegister",url:"/pages/index/checkRegister/checkRegister",icon:"/static/img/salesReport/jinri.png",parentKey:"stock",isOrderpermissions:!0,jurisdictionId:171},{name:"é…é€ç™»è®°",key:"deliveryRegister",url:"/pages/index/deliveryRegister/deliveryRegister",icon:"/static/img/salesReport/jinri.png",parentKey:"stock",isOrderpermissions:!0,jurisdictionId:172},{name:"ç™»è®°æŸ¥è¯¢",key:"registrationInquiry",url:"/pages/index/registrationInquiry/registrationInquiry",icon:"/static/img/salesReport/jinri.png",parentKey:"stock",isOrderpermissions:!0,jurisdictionId:173},{name:"å®‰è£…ä»»åŠ¡",url:"/pages/index/onSiteInstall/installTask",icon:"/static/img/comIcon/azrw.png",key:"installTask",parentKey:"onSiteInstall",isOnSiteInstall:!0,jurisdictionKey:176},{name:"å®‰è£…è®°å½•",url:"/pages/index/onSiteInstall/installRecord",icon:"/static/img/comIcon/azjl.png",key:"installRecord",parentKey:"onSiteInstall",isOnSiteInstall:!0,jurisdictionKey:177}];t.getHierarchyMenus=function(){var t=a.default.state.hasPermissionMenus||[],n=a.default.state.custom.customExportList||[],r=[];return n.forEach((function(e){var t={name:e.menuName.replace("APP-",""),url:"../reportStatistics/reportStatistics?menuCode="+e.menuCode,icon:"../../static/img/comIcon/report.png",key:e.menuCode,parentKey:"reportForm",isMenupermissions:!0,jurisdictionKey:e.menuCode};r.push(t)})),t=t.concat(r),e.log(123,t,n),t.length>0?Array.prototype.map.call(s,(function(e){return(0,i.default)((0,i.default)({},e),{},{children:Array.prototype.filter.call(t,(function(t){var n=t.parentKey;return n==e.key}))})})):[]};t.getDifferentArray=function(){return o.reduce((function(e,t){var n=t.isMenupermissions,r=t.isOrderpermissions,i=t.isFromSystem,a=t.isFromReportMain,s=t.isOnSiteInstall,o=e.menupermissionsArray,c=e.orderpermissionsArray,u=e.fromSystemArray,p=e.fromReportMainArray,d=e.installMainArray;return n&&o.push(t),r&&c.push(t),i&&u.push(t),a&&p.push(t),s&&d.push(t),{menupermissionsArray:o,orderpermissionsArray:c,fromSystemArray:u,fromReportMainArray:p,installMainArray:d}}),{menupermissionsArray:[],orderpermissionsArray:[],fromSystemArray:[],fromReportMainArray:[],installMainArray:[]})}}).call(this,n("ba7c")["default"])},"463c":function(e,t,n){"use strict";(function(e){n("6a54");var r=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.setHasPermissionMenus=t.judgeWhetherEnabledApp=t.getuserMenu=t.getUserTasks=t.getUserData=t.getSystemType=t.getRoleTaskList=t.getMyApplicationByPermission=t.getExportList=t.getCusReportRole=void 0,n("8f71"),n("bf0f"),n("5c47"),n("0506"),n("18f7"),n("de6c"),n("c223"),n("dc8a"),n("473f"),n("4626"),n("5ac7"),n("aa77");var i=r(n("9b1b")),a=r(n("b7c7")),s=r(n("5de6")),o=r(n("2634")),c=r(n("2fdc")),u=n("d4d7"),p=r(n("f7b7")),d=n("f55d"),l=n("2080"),m=function(){var e=(0,c.default)((0,o.default)().mark((function e(){var t;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.get)("api/auxiliary/task/userMenu",null,1);case 2:if(t=e.sent,!t.meta.success){e.next=5;break}return e.abrupt("return",t.data||{});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getuserMenu=m;var g=function(){var e=(0,c.default)((0,o.default)().mark((function e(){var t;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.get)("api/auxiliary/task/userTasks",null,1);case 2:if(t=e.sent,!t.meta.success){e.next=5;break}return e.abrupt("return",t.data||[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getUserTasks=g;var y=function(){var e=(0,c.default)((0,o.default)().mark((function e(){var t;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.get)("sys/user/getSystemType",null,4);case 2:if(t=e.sent,!t.meta.success){e.next=5;break}return e.abrupt("return",t.data||{});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getSystemType=y;var f=function(){var e=(0,c.default)((0,o.default)().mark((function e(){var t;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.get)("api/auxiliary/task/getRoleTaskList",null,1);case 2:if(t=e.sent,!t.meta.success){e.next=5;break}return e.abrupt("return",t.data||[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getRoleTaskList=f;var k=function(){var e=(0,c.default)((0,o.default)().mark((function e(){var t,n;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.get)("tenement/roleTask/reportMainList",{},4);case 2:if(t=e.sent,!t.meta.success){e.next=6;break}return n=Array.prototype.filter.call(t.data||[],(function(e){var t=e.fnHandler;return/^cusReport_\w+/.test(t)})),e.abrupt("return",n.length>0?n:null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getCusReportRole=k;var h=function(){var e=(0,c.default)((0,o.default)().mark((function e(){var t;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.get)("pub/tableConfig/list",{permissions:1,tableType:3},4);case 2:if(t=e.sent,!t.meta.success){e.next=5;break}return e.abrupt("return",t.data||[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getExportList=h;var v=function(){var e=(0,c.default)((0,o.default)().mark((function e(){var t,n;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=uni.getStorageSync("id"),e.next=3,(0,u.get)("/api/auxiliary/user/".concat(t),null,1);case 3:if(n=e.sent,!n.meta.success){e.next=6;break}return e.abrupt("return",n.data.user);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getUserData=v;var x=function(){var e=(0,c.default)((0,o.default)().mark((function e(){var t;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.get)("/sysAppopen/judgeWhetherEnabledApp",{appName:"å•†åŸå®‰è£…æœåŠ¡"},4);case 2:if(t=e.sent,!t.meta.success){e.next=5;break}return e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.judgeWhetherEnabledApp=x;var M=function(){var t=(0,c.default)((0,o.default)().mark((function t(){var n,r,i,c,u,M,w,A,R,b,P,D,N,S,T,U,F,C,O,B,L,E,H,V;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.log("ğŸš€ [Permission Debug] å¼€å§‹è·å–æƒé™æ•°æ®..."),uni.showLoading({title:"æ­£åœ¨æŸ¥æ‰¾æƒé™",mask:!0}),e.log("ğŸ”„ [Permission Debug] å¼€å§‹å¹¶è¡Œè°ƒç”¨API..."),n=Date.now(),t.next=7,Promise.all([m().then((function(t){return e.log("âœ… [API] getuserMenu å®Œæˆ:",t),t})).catch((function(t){throw e.error("âŒ [API] getuserMenu å¤±è´¥:",t),t})),g().then((function(t){return e.log("âœ… [API] getUserTasks å®Œæˆ:",t),t})).catch((function(t){throw e.error("âŒ [API] getUserTasks å¤±è´¥:",t),t})),y().then((function(t){return e.log("âœ… [API] getSystemType å®Œæˆ:",t),t})).catch((function(t){throw e.error("âŒ [API] getSystemType å¤±è´¥:",t),t})),f().then((function(t){return e.log("âœ… [API] getRoleTaskList å®Œæˆ:",t),t})).catch((function(t){throw e.error("âŒ [API] getRoleTaskList å¤±è´¥:",t),t})),k().then((function(t){return e.log("âœ… [API] getCusReportRole å®Œæˆ:",t),t})).catch((function(t){throw e.error("âŒ [API] getCusReportRole å¤±è´¥:",t),t})),h().then((function(t){return e.log("âœ… [API] getExportList å®Œæˆ:",t),t})).catch((function(t){throw e.error("âŒ [API] getExportList å¤±è´¥:",t),t})),v().then((function(t){return e.log("âœ… [API] getUserData å®Œæˆ:",t),t})).catch((function(t){throw e.error("âŒ [API] getUserData å¤±è´¥:",t),t})),x().then((function(t){return e.log("âœ… [API] judgeWhetherEnabledApp å®Œæˆ:",t),t})).catch((function(t){throw e.error("âŒ [API] judgeWhetherEnabledApp å¤±è´¥:",t),t}))]);case 7:return r=t.sent,i=(0,s.default)(r,8),c=i[0],u=i[1],M=i[2],w=i[3],A=i[4],R=i[5],b=i[6],P=i[7],D=Date.now(),e.log("ğŸ‰ [Permission Debug] æ‰€æœ‰APIè°ƒç”¨å®Œæˆï¼Œè€—æ—¶: ".concat(D-n,"ms")),t.next=21,(0,d.wait)(300);case 21:return e.log("ğŸ”„ [Permission Debug] å‡†å¤‡éšè—loading..."),uni.hideLoading(),e.log("âœ… [Permission Debug] loadingå·²éšè—"),p.default.dispatch("menuBtns",u||[]),p.default.dispatch("setCustomRoleList",A||[]),p.default.dispatch("setCustomExportList",R||[]),p.default.dispatch("setAllMenus",c||[]),p.default.dispatch("setUserData",b||[]),N=(0,l.getDifferentArray)(),S=N.menupermissionsArray,T=N.orderpermissionsArray,U=N.fromSystemArray,F=N.fromReportMainArray,C=N.installMainArray,O=I(c,S),e.log(4455,O),B=j(w,T),L=K(M,U),E=A?F:[],H=P?C:[],V=[].concat((0,a.default)(O),(0,a.default)(B),(0,a.default)(L),(0,a.default)(E),(0,a.default)(H)),p.default.dispatch("setHasPermissionMenus",V),p.default.dispatch("setMenus",V.filter((function(e){var t=e.isHistoryNote;return t}))),p.default.dispatch("setShowSwiper",w.some((function(e){var t=e.id;return 90==t}))),t.abrupt("return",V);case 43:t.prev=43,t.t0=t["catch"](0),uni.hideLoading(),e.error(t.t0);case 47:case"end":return t.stop()}}),t,null,[[0,43]])})));return function(){return t.apply(this,arguments)}}();function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.keys(e||{});return n.length<=0?[]:Array.prototype.reduce.call(t||[],(function(e,t){var r=t.jurisdictionKey,s=t.jurisdictionUrl,o=t.jurisdictionBtn,c=n.includes(r),u=!!c&&(s&&o),d=!!u&&p.default.getters.getMenubtnsByUrl({parentUrl:s,authority:o});return c?u?d?[].concat((0,a.default)(e),[(0,i.default)({},t)]):e:[].concat((0,a.default)(e),[(0,i.default)({},t)]):e}),[])}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length<=0?[]:Array.prototype.reduce.call(t||[],(function(t,n){var r=n.jurisdictionId,i=r&&e.some((function(e){var t=e.id;return t==r}));return i?[].concat((0,a.default)(t),[n]):t}),[])}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.data;return n&&n.systemType?Array.prototype.reduce.call(t||[],(function(e,t){var r=t.systemType;return r==n.systemType?[].concat((0,a.default)(e),[t]):e}),[]):[]}t.setHasPermissionMenus=M;var w=function(){var e=(0,c.default)((0,o.default)().mark((function e(){var t,n,r,s;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showLoading({title:"åŠ è½½ä¸­",mask:!0}),e.next=3,(0,u.get)("api/sys/userHome/listApp",{isApp:1},1);case 3:return t=e.sent,e.next=6,(0,d.wait)(300);case 6:if(uni.hideLoading(),!t.meta.success){e.next=15;break}return n=t.data||[],r=p.default.state.hasPermissionMenus||[],s=n.reduce((function(e,t){var n=t.id,s=t.appKey,o=r.find((function(e){return e.key==s}));return o?[].concat((0,a.default)(e),[(0,i.default)((0,i.default)({},o),{},{id:n})]):e}),[]),p.default.dispatch("setMyApplication",s),e.abrupt("return",s);case 15:p.default.dispatch("setMyApplication",[]);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getMyApplicationByPermission=w}).call(this,n("ba7c")["default"])},f55d:function(e,t,n){"use strict";(function(e){n("6a54");var r=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.yearTranforDate=t.weeks=t.weekTranforDate=t.wait=t.txMapMarkerUrlByList=t.txMapMarkerUrl=t.showModal=t.seasons=t.seasonTranforDate=t.monthTranforDate=t.getSystemYears=t.getDateRangeFordiffDays=t.getCurrentWeekForYear=t.getCurrentSeason=t.default=void 0,n("bf0f"),n("fd3c"),n("1851"),n("e966"),n("c223"),n("d4b5");var i=r(n("63d3")),a=function(e){return new Promise((function(t){setTimeout(t,e)}))};t.wait=a;t.showModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,n=void 0===t?"æç¤º":t,r=e.content,i=void 0===r?"":r;return new Promise((function(e,t){uni.showModal({title:n,content:i,success:function(t){t.confirm?e(!0):t.cancel&&e(!1)},fail:t})}))};t.getSystemYears=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startYear,n=void 0===t?1876:t,r=e.timeRang,i=void 0===r?300:r;return Array(i).fill(n).map((function(e,t){return e+t}))};var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.month,n=void 0===t?1:t;return~~(parseInt(n)/4)};t.getCurrentSeason=s;var o=["ç¬¬ä¸€å­£åº¦","ç¬¬äºŒå­£åº¦","ç¬¬ä¸‰å­£åº¦","ç¬¬å››å­£åº¦"];t.seasons=o;var c=function(){return Array(52).fill(1).map((function(e,t){return"".concat(e+t,"å‘¨")}))}();t.weeks=c;t.getCurrentWeekForYear=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e?new Date(e):new Date,n=e?new Date(e):new Date;n.setMonth(0),n.setDate(1);var r=Math.ceil((t-n)/864e5);return Math.ceil(r/7)+1};var u=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&t){var r=864e5,i=new Date(e,0,1),a=new Date(i.getTime()+7*t*r),s=new Date(weekEndDate.getTime()-6*r);return n?{dateStart:a.getTime(),dateEnd:s.getTime()}:{dateStart:a,dateEnd:s}}};t.weekTranforDate=u;var p=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&t){var r=[0,3,6,9],i=[31,30,30,31],a=new Date(e,r[t-1],1),s=new Date(e,r[t-1]+2,i[t-1]);return n?{dateStart:a.getTime(),dateEnd:s.getTime()}:{dateStart:a,dateEnd:s}}};t.seasonTranforDate=p;var d=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var n=new Date(e,0,1),r=new Date(e,11,31);return t?{dateStart:n.getTime(),dateEnd:r.getTime()}:{dateStart:n,dateEnd:r}}};t.yearTranforDate=d;t.monthTranforDate=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&t){var r=864e5,i=new Date(e,t-1,1),a=new Date(e,t,1),s=new Date(a.getTime()-r);return n?{dateStart:i.getTime(),dateEnd:s.getTime()}:{dateStart:i,dateEnd:s}}};var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.date,n=void 0===t?"":t,r=e.diffDays,a=void 0===r?0:r,s=e.isBefore,o=void 0===s||s,c=e.isFormatDate,u=void 0===c||c,p=n?new Date(n):new Date,d=864e5,l=a*d,m=new Date(o?p.getTime()-l:p.getTime()+l),g=o?m:p,y=o?p:m;return u?[i.default.formatDate(g),i.default.formatDate(y)]:[g,y]};t.getDateRangeFordiffDays=l;var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(e.key,e.latitude),r=e.longitude,i=e.title,a="baidumap://map/marker?location=".concat(n,",").concat(r,"&title=").concat(encodeURIComponent(i||"ä½ç½®"),"&content=").concat(encodeURIComponent(i||""),"&src=").concat(encodeURIComponent("æ‚¦å•†äº‘APP"));if(!t)return a;uni.navigateTo({url:"/pages/navigator/navigator?params="+JSON.stringify({marker:e})})};t.txMapMarkerUrl=m;var g=function(t,n){t.key;var r=t.referer;if(!n||0===n.length)return"";var i=n[0],a=i.latitude,s=i.longitude,o=i.title,c="baidumap://map/marker?location=".concat(a,",").concat(s,"&title=").concat(encodeURIComponent(o||"ä½ç½®"),"&content=").concat(encodeURIComponent("å…±".concat(n.length,"ä¸ªä½ç½®")),"&src=").concat(encodeURIComponent(r||"æ‚¦å•†äº‘APP"));return e.log("ç™¾åº¦åœ°å›¾æ ‡è®°:",c),c};t.txMapMarkerUrlByList=g;var y={wait:a,getCurrentSeason:s,seasons:o,weekTranforDate:u,seasonTranforDate:p,yearTranforDate:d,getDateRangeFordiffDays:l,txMapMarkerUrl:m,txMapMarkerUrlByList:g};t.default=y}).call(this,n("ba7c")["default"])}}]);