(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-historicalPrice-historicalPrice"],{"08ae":function(t,e,a){"use strict";var i=a("5064"),n=a.n(i);n.a},"13e6":function(t,e,a){"use strict";(function(t){a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"popup-layer",model:{prop:"showPop",event:"change"},props:{showPop:{type:Boolean,default:!1},direction:{type:String,default:"top"},autoClose:{type:Boolean,default:!0}},data:function(){return{ifshow:!1,translateValue:-100,timer:null,iftoggle:!1}},computed:{_translate:function(){var t={top:"transform:translateY(".concat(-this.translateValue,"%)"),bottom:"transform:translateY(".concat(this.translateValue,"%)"),left:"transform:translateX(".concat(-this.translateValue,"%)"),right:"transform:translateX(".concat(this.translateValue,"%); ")};return t[this.direction]},_location:function(){return{top:"bottom:0px;width:100%;",bottom:"top:0px;width:100%;",left:"right:0px;height:100%;",right:"left:0px;height:100%;"}[this.direction]+this._translate}},mounted:function(){this.showPop&&this.show()},watch:{showPop:function(e){t.log(e),e?this.show():this.close()}},methods:{stopMove:function(e){t.log(11),t.log(e)},show:function(t){var e=this;this.ifshow=!0;setTimeout((function(){e.translateValue=0,null}),100),setTimeout((function(){e.iftoggle=!0,null}),300)},close:function(){var t=this;null===this.timer&&this.iftoggle&&(this.translateValue=-100,this.timer=setTimeout((function(){t.ifshow=!1,t.timer=null,t.iftoggle=!1,t.$emit("closeCallBack",null),t.$emit("change",!1)}),300))},ableClose:function(){this.autoClose&&this.close()},stopEvent:function(t){},doSome:function(){t.log(0x6527ea6c87c7)}}};e.default=i}).call(this,a("ba7c")["default"])},"1fcf":function(t,e,a){"use strict";a.r(e);var i=a("9bba"),n=a("b5c8");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("5800");var s=a("828b"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"569b5421",null,!1,i["a"],void 0);e["default"]=l.exports},"24cf":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.ifshow,expression:"ifshow"}],staticClass:"popup-layer",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.ableClose.apply(void 0,arguments)}}}),a("v-uni-view",{ref:"popRef",staticClass:"popup-content",style:t._location,on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.stopEvent.apply(void 0,arguments)}}},[t._t("default")],2)],1)},n=[]},"387a":function(t,e,a){"use strict";var i=a("f323"),n=a.n(i);n.a},5064:function(t,e,a){var i=a("e707");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("60dc6cd6",i,!0,{sourceMap:!1,shadowMode:!1})},5800:function(t,e,a){"use strict";var i=a("b4ab"),n=a.n(i);n.a},"62a2":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"customHeader",class:{sticky:t.isSticky,fixed:t.isFixed},style:{background:t.bgcolor?t.bgcolor:"white",color:t.fontColor?t.fontColor:"#030303"}},[t.isNotShowBack?a("v-uni-view"):a("v-uni-view",{staticClass:"back",style:{borderColor:t.fontColor?t.fontColor:"#030303"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))]),a("v-uni-view",[t._t("default")],2)],1)},n=[]},7641:function(t,e,a){"use strict";a.r(e);var i=a("24cf"),n=a("8cc1");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("387a");var s=a("828b"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"da997d44",null,!1,i["a"],void 0);e["default"]=l.exports},"8cc1":function(t,e,a){"use strict";a.r(e);var i=a("13e6"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"8ddd":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".searchBox[data-v-569b5421]{margin:%?20?% %?30?%;margin-top:%?140?%;\r\n\r\npadding:%?12?% %?28?%;background:#f7f6fb;border-radius:%?40?%;display:flex;align-items:center}.searchBoximage[data-v-569b5421]{width:%?44?%;height:%?44?%;margin-right:%?16?%}.screen[data-v-569b5421]{display:flex}.screenimage[data-v-569b5421]{width:%?48?%;height:%?48?%}.uni-input-placeholder[data-v-569b5421]{position:absolute;top:auto!important;left:0;color:grey;overflow:hidden;text-overflow:clip;white-space:pre;word-break:keep-all;pointer-events:none;line-height:inherit;font-size:12px}.tablebar-top[data-v-569b5421]{display:flex;flex-direction:row;margin-top:%?25?%}.tablebarone[data-v-569b5421]{flex:1;text-align:center}.tablebartwo[data-v-569b5421]{flex:1.2;text-align:center}.tablebarthree[data-v-569b5421]{flex:1.2;text-align:center}.nav_line[data-v-569b5421]{width:100%;height:%?1?%;background:#f5f5f5;margin-top:%?25?%}.product[data-v-569b5421]{display:flex;flex-direction:row;min-height:%?300?%;padding:%?30?%;border-bottom:%?2?% solid #dcd9cf}.product-img[data-v-569b5421]{flex:1;background:#dcdcdc;height:%?180?%}.product-detail[data-v-569b5421]{flex:3;display:flex;flex-direction:column;font-size:%?24?%;margin-left:%?15?%}.product-brand[data-v-569b5421]{display:flex;flex-direction:row;margin-top:%?15?%}.zidingyiBox[data-v-569b5421]{height:%?500?%}.back[data-v-569b5421]{margin-top:%?50?%;margin-right:%?10?%;margin-left:%?30?%;width:%?20?%;height:%?20?%;border-left:%?5?% solid;border-bottom:%?5?% solid;border-color:#030303;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.warehouse[data-v-569b5421]{margin:0 %?20?%;display:flex;align-items:center}.content[data-v-569b5421]{display:flex;flex-direction:row}.layer-buttom[data-v-569b5421]{position:fixed;bottom:0;height:%?100?%;width:100%;display:flex;flex-direction:row}.butttom-reset[data-v-569b5421]{flex:1;background:#d3d3d3;text-align:center;line-height:%?100?%}.butttom-determine[data-v-569b5421]{flex:1;background:#ffb822;text-align:center;line-height:%?100?%}.list-left[data-v-569b5421]{width:100%;height:100%}.atciv[data-v-569b5421]{border-bottom:%?4?% solid #ffb822;padding-bottom:%?20?%}",""]),t.exports=e},"966e":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".popup-layer[data-v-da997d44]{position:fixed;z-index:2000;background:rgba(0,0,0,.3);height:100%;width:100%;top:0;left:0;overflow:hidden}.active[data-v-da997d44]{z-index:5000}.popup-content[data-v-da997d44]{position:fixed;z-index:2001;background:#fff;transition:all .3s ease;overflow:hidden}",""]),t.exports=e},"9bba":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={popupLayer:a("7641").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"alarmStock"},[a("popup-layer",{ref:"popupRef",attrs:{direction:"bottom"},model:{value:t.boolShow,callback:function(e){t.boolShow=e},expression:"boolShow"}},[a("v-uni-view",{staticClass:"zidingyiBox"},[a("v-uni-view",{staticClass:"back",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopu.apply(void 0,arguments)}}}),1==t.rowIndex?a("v-uni-view",{staticClass:"warehouse"},[a("v-uni-view",{staticClass:"content",staticStyle:{flex:"1","align-items":"center","margin-top":"40upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.popupRefdata.apply(void 0,arguments)}}},[a("v-uni-text",{staticStyle:{"line-height":"60upx","margin-right":"20upx"}},[t._v("客户:")]),a("v-uni-input",{staticStyle:{color:"#999999","font-size":"24upx","text-align":"right",flex:"1","margin-top":"8upx"},attrs:{type:"text","placeholder-class":"placeholder",placeholder:"请选择"},model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}}),a("v-uni-image",{staticStyle:{width:"40upx",height:"40upx"},attrs:{src:"/static/img/outNote/right.png"}})],1)],1):t._e(),0==t.rowIndex?a("v-uni-view",{staticClass:"warehouse"},[a("v-uni-view",{staticClass:"content",staticStyle:{flex:"1","align-items":"center","margin-top":"40upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.popupRefdataGoodstype.apply(void 0,arguments)}}},[a("v-uni-text",{staticStyle:{"line-height":"60upx","margin-right":"20upx"}},[t._v("供应商:")]),a("v-uni-input",{staticStyle:{color:"#999999","font-size":"24upx","text-align":"right",flex:"1"},attrs:{type:"text","placeholder-class":"placeholder",placeholder:"请选择"},model:{value:t.supplier,callback:function(e){t.supplier=e},expression:"supplier"}}),a("v-uni-image",{staticStyle:{width:"40upx",height:"40upx"},attrs:{src:"/static/img/outNote/right.png"}})],1)],1):t._e(),a("v-uni-view",{staticClass:"layer-buttom"},[a("v-uni-view",{staticClass:"butttom-reset",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reset.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("重置")])],1),a("v-uni-view",{staticClass:"butttom-determine",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.determine.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("确定")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"hearder"},[a("customHeader",{attrs:{title:"历史进售价",isFixed:!0}},[a("v-uni-view",{staticClass:"screen",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toList.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"screenimage",attrs:{src:"/static/img/outNote/shop-shaixuan.png"}})],1)],1),a("v-uni-view",{staticClass:"searchBox"},[a("v-uni-image",{staticClass:"searchBoximage",attrs:{src:"/static/img/index/search.png"}}),a("v-uni-input",{attrs:{type:"text",placeholder:"商品名称","placeholder-class":"placeholder"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.changeKhName.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.changeKhName.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1)],1),a("v-uni-view",{staticClass:"tablebar-top"},[a("v-uni-view",{staticClass:"tablebarone",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.allPuent(0)}}},[a("v-uni-text",{class:{atciv:0==t.rowIndex}},[t._v("历史进价")])],1),a("v-uni-view",{staticClass:"tablebartwo",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.allPuent(1)}}},[a("v-uni-text",{class:{atciv:1==t.rowIndex}},[t._v("历史售价")])],1)],1),a("v-uni-view",{staticClass:"nav_line"}),t._l(t.allData,(function(e,i){return a("v-uni-view",{key:i,staticClass:"product"},[a("v-uni-view",{staticClass:"product-img"},[a("img",{staticClass:"list-left",staticStyle:{"min-width":"180upx","max-height":"180upx"},attrs:{src:e.picture?e.picture:t.nonePicture}})]),a("v-uni-view",{staticClass:"product-detail"},[a("v-uni-text",{staticStyle:{"font-size":"30upx"}},[t._v(t._s(e.goodsName))]),a("v-uni-text",{staticClass:"product-brand",staticStyle:{color:"#999999"}},[t._v("条码:"+t._s(e.barCode))]),a("v-uni-text",{staticClass:"product-brand",staticStyle:{color:"#999999"}},[t._v("单号:"+t._s(e.billNo))]),a("v-uni-text",{staticClass:"product-brand",staticStyle:{color:"#999999"}},[t._v("型号:"+t._s(e.typeSpecification))]),a("v-uni-text",{staticClass:"product-brand",staticStyle:{color:"#999999"}},[t._v("单据日期:"+t._s(t._f("timeStamp")(e.date)))]),a("v-uni-view",{staticClass:"product-brand",staticStyle:{color:"#999999"}},[a("v-uni-view",{staticStyle:{flex:"1","text-align":"left"}},[t._v(" 数量:"),a("v-uni-text",{staticStyle:{"margin-left":"10upx"}},[t._v(t._s(e.buyQuantity))])],1),a("v-uni-view",{staticStyle:{flex:"1","text-align":"left"}},[t._v(" 折扣:"),a("v-uni-text",{staticStyle:{"margin-left":"10upx"}},[t._v(t._s(e.discount?e.discount:0)+"%")])],1)],1),a("v-uni-view",{staticClass:"product-brand",staticStyle:{color:"#999999"}},[a("v-uni-view",{staticStyle:{flex:"1","text-align":"left"}},[t._v(" 件价:"),a("v-uni-text",{staticStyle:{"margin-left":"10upx"}},[t._v(t._s(e.itemPrice))])],1),a("v-uni-view",{staticStyle:{flex:"1","text-align":"left"}},[t._v(" 散价:"),a("v-uni-text",{staticStyle:{"margin-left":"10upx"}},[t._v(t._s(e.scatteredPrice))])],1)],1)],1)],1)})),0==t.allData.length?a("v-uni-view",{staticStyle:{"text-align":"center","margin-top":"20%",display:"flex","flex-direction":"column"}},[a("v-uni-image",{staticStyle:{height:"348upx",width:"507upx","margin-left":"130upx"},attrs:{src:"/static/img/nodata.png"}}),a("v-uni-text",[t._v("暂无内容")])],1):t._e()],2)},o=[]},"9e95":function(t,e,a){"use strict";a.r(e);var i=a("fa94"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},b4ab:function(t,e,a){var i=a("8ddd");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("6dfd349a",i,!0,{sourceMap:!1,shadowMode:!1})},b5c8:function(t,e,a){"use strict";a.r(e);var i=a("e50c"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},e50c:function(t,e,a){"use strict";(function(t){a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223");var n=i(a("9b1b")),o=i(a("f92a")),s=i(a("7641")),l=a("8f59"),r={components:{customHeader:o.default,popupLayer:s.default},data:function(){return{nonePicture:"../../static/img/none.png",allData:[],pageNum:0,hasNextPage:!1,rowIndex:0,boolShow:!1,inputValue:"",supplier:"",customer:"",supplierId:"",customerId:""}},onLoad:function(){t.log("页面显示"),this.getallData()},methods:(0,n.default)((0,n.default)({},(0,l.mapMutations)(["setparams"])),{},{closePopu:function(){this.$refs.popupRef.close()},toList:function(){this.$refs.popupRef.show()},changeKhName:function(){this.pageNum=1,this.hasNextPage=!1,this.allData=[],this.getallData()},getallData:function(){var e=this,a=new Object;if(a["pageSize"]=10,a["pageNum"]=e.pageNum,a["keyword"]=e.inputValue,a["customerId"]=0,1==e.rowIndex){t.log(e.supplierId);var i="api/history/price/page";""!=e.customerId?a["customerId"]=e.customerId:a["customerId"]=0}else{i="api/history/price/purchase/page";""!=e.supplierId?a["supplierId"]=e.supplierId:a["supplierId"]=0}uni.showLoading({title:"加载中...",mask:!0}),e.get(i,a,1).then((function(a){setTimeout((function(){uni.hideLoading()}),1e3),a.meta.success&&(a.data.list.length>0?(e.hasNextPage=a.data.hasNextPage,1==e.pageNum?(t.log(a),e.allData=a.data.list):e.allData=e.allData.concat(a.data.list)):e.allData=[])}))},popupRefdata:function(){var e=this;e.setparams({searchtype:"customer",filed:"customer"}),uni.navigateTo({url:"../components/toolssearchlist/toolssearchlist",events:{customerSelect:function(a){a.length>0&&(t.log(a),e.customer=a[0].name,e.customerId=a[0].id)}}})},popupRefdataGoodstype:function(){var t=this;t.setparams({searchtype:"supplier",filed:"supplier"}),uni.navigateTo({url:"../components/toolssearchlist/toolssearchlist",events:{customerSelect:function(e){e.length>0&&(t.supplier=e[0].name,t.supplierId=e[0].id)}}})},reset:function(){this.supplier="",this.supplierId="",this.customer="",this.customerId=""},determine:function(){this.$refs.popupRef.close(),this.pageNum=1,this.hasNextPage=!1,this.allData=[],this.getallData()},allPuent:function(t){t!=this.rowIndex?(this.rowIndex=t,this.pageNum=1,this.hasNextPage=!1,this.allData=[],this.getallData()):this.rowIndex=t}}),onReachBottom:function(){this.hasNextPage?(this.pageNum++,this.getallData()):uni.showToast({title:"暂无更多数据",duration:1e3,icon:"loading",mask:!0})},filters:{timeStamp:function(t){if(!t)return"";var e=new Date(t),a=e.getFullYear(),i=e.getMonth()+1;i<10&&(i="0"+i);var n=e.getDate();return n<10&&(n="0"+n),a+"-"+i+"-"+n}}};e.default=r}).call(this,a("ba7c")["default"])},e707:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".customHeader[data-v-2c6c0aae]{display:flex;justify-content:space-between;padding:%?30?% %?40?%;background:#fff;font-size:%?34?%;font-family:Helvetica;color:#030303;line-height:%?41?%;align-items:center}.customHeader.sticky[data-v-2c6c0aae]{position:-webkit-sticky;position:sticky;top:0;z-index:99}.customHeader.fixed[data-v-2c6c0aae]{position:fixed;top:0;z-index:99;left:0;right:0}.customHeader .back[data-v-2c6c0aae]{margin-right:%?10?%;width:%?20?%;height:%?20?%;border-left:%?5?% solid;border-bottom:%?5?% solid;border-color:#030303;-webkit-transform:rotate(45deg);transform:rotate(45deg)}",""]),t.exports=e},f323:function(t,e,a){var i=a("966e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("791b1554",i,!0,{sourceMap:!1,shadowMode:!1})},f92a:function(t,e,a){"use strict";a.r(e);var i=a("62a2"),n=a("9e95");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("08ae");var s=a("828b"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"2c6c0aae",null,!1,i["a"],void 0);e["default"]=l.exports},fa94:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{bgcolor:{type:String,default:""},title:{type:String,default:""},fontColor:{type:String,default:""},isSticky:{type:Boolean,default:!1},isNotShowBack:{type:Boolean,default:!1},isBackMethodForParent:{type:Boolean,default:!1},isFixed:{type:Boolean,default:!1}},methods:{goBack:function(){this.isBackMethodForParent&&this.$emit("back"),uni.navigateBack()}}};e.default=i}}]);