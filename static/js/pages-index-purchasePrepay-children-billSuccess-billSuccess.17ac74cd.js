(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-purchasePrepay-children-billSuccess-billSuccess"],{"394b":function(t,i,a){"use strict";a.r(i);var e=a("e25c"),n=a.n(e);for(var c in e)["default"].indexOf(c)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(c);i["default"]=n.a},a262:function(t,i,a){"use strict";a("c223");var e=a("d4d7"),n={listBillPage:function(t){return(0,e.get)("api/accountVoucher/listBillPage",t,1)},authorganizationList:function(t){return(0,e.get)("api/basicData/authorganization/list",t,1)},dictionnaryList:function(t){return(0,e.get)("api/basedata/dictionnary/list",t,1)},billDetail:function(t){return(0,e.get)("api/accountVoucher/billDetail",t,1)},getKMListByAvType:function(t){return(0,e.get)("api/financial/getKMListByAvType",t,1)},savePreOrCollectBill:function(t){return(0,e.post)("finance/accountingVoucher/savePreOrCollectBill",t,8)},checkNegative:function(t){return(0,e.patch)("api/accountVoucher/checkNegative?id="+t.id,null,1)},checkBill:function(t){return(0,e.patch)("api/accountVoucher/checkBill"+"?absTract=".concat(t.absTract,"&autoAbsTract=").concat(t.autoAbsTract,"&id=").concat(t.id),null,1)}};t.exports=n},b83f:function(t,i,a){"use strict";a.r(i);var e=a("d01b"),n=a("394b");for(var c in n)["default"].indexOf(c)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(c);a("d189");var s=a("828b"),o=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"41f7bdea",null,!1,e["a"],void 0);i["default"]=o.exports},d01b:function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"contain"},[a("v-uni-view",{staticClass:"head"},[a("v-uni-text",[t._v(t._s(t.billName))])],1),a("v-uni-view",{staticClass:"blank"}),a("v-uni-view",{staticClass:"middle"},[a("v-uni-image",{staticClass:"succesimg",attrs:{src:"/static/img/billSuccess/success.png",mode:""}}),a("v-uni-view",{staticClass:"title"},[t._v(t._s(t.successmeg)+"成功")]),a("v-uni-view",{staticClass:"number"},[t._v("单号："+t._s(t.saleNo))]),a("v-uni-view",{staticClass:"line"},[a("v-uni-view",{staticClass:"line-left"}),a("v-uni-view",{staticClass:"line-line"}),a("v-uni-view",{staticClass:"line-right"})],1),a("v-uni-view",{staticClass:"middle-item"},[a("v-uni-view",{staticClass:"middle-item-fir",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkBill.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:"/static/img/billSuccess/search.png",mode:""}}),a("v-uni-view",{},[t._v("查看单据")])],1),a("v-uni-view",{staticClass:"middle-item-fir",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkToast.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:"/static/img/billSuccess/examine.png"}}),a("v-uni-view",{},[t._v("审核单据")])],1)],1),a("v-uni-view",{staticClass:"foot"},[a("v-uni-view",{staticClass:"foot-des",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.returnLastpage.apply(void 0,arguments)}}},[t._v(" 继续开单 ")])],1)],1)],1)},n=[]},d189:function(t,i,a){"use strict";var e=a("d50b"),n=a.n(e);n.a},d50b:function(t,i,a){var e=a("e5b0");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("967d").default;n("242a9ee6",e,!0,{sourceMap:!1,shadowMode:!1})},e25c:function(t,i,a){"use strict";(function(t){a("6a54");var e=a("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("e966");var n=e(a("9b1b")),c=e(a("a262")),s=a("8f59"),o={data:function(){return{billName:"",successmeg:"",id:"",saleNo:"",absTract:"",approvalStatus:0}},onLoad:function(i){t.log("options：：",i),this.billName="采购预付单",this.successmeg="采购预付单开单",this.id=i.id,this.saleNo=i.saleNo,this.absTract=i.absTract,this.approvalStatus=1},methods:(0,n.default)((0,n.default)({},(0,s.mapMutations)(["setparams"])),{},{checkBill:function(){uni.navigateBack({delta:1})},checkToast:function(){var i=this;if(0!=this.approvalStatus){var a={id:parseInt(i.id)};c.default.checkNegative(a).then((function(a){a.meta.success&&a.data.result?uni.showModal({title:"审核提示",content:a.data.msg,success:function(a){a.confirm?i.checkSuccess():a.cancel&&t.log("用户点击取消")}}):uni.showToast({title:a.meta.message,icon:"none",duration:1e3})}))}else uni.showToast({icon:"none",title:"您没有审核权限!",duration:2e3})},checkSuccess:function(){var i={absTract:this.absTract,autoAbsTract:1,id:parseInt(this.id)};c.default.checkBill(i).then((function(i){i.meta.success?(t.log(i.data),uni.showToast({title:"审核成功",icon:"none",duration:1e3}),setTimeout((function(){uni.navigateBack({delta:1})}),500)):uni.showToast({title:i.meta.message,icon:"none",duration:1e3})}))},returnLastpage:function(){this.setparams({item:null}),uni.redirectTo({url:"../edit/edit"})}})};i.default=o}).call(this,a("ba7c")["default"])},e5b0:function(t,i,a){var e=a("c86c");i=e(!1),i.push([t.i,".contain[data-v-41f7bdea]{background:#f6f6f6;height:100vh}.head[data-v-41f7bdea]{display:flex;justify-content:center;font-weight:590}.head uni-image[data-v-41f7bdea]{width:%?48?%;height:%?48?%;margin:%?7?% %?15?%}.middle[data-v-41f7bdea]{display:block;margin:%?80?% %?30?%;background:#fff;border-radius:%?10?%}.succesimg[data-v-41f7bdea]{width:%?92?%;height:%?92?%;margin:0 auto;display:block;padding:%?40?% 0 %?20?% 0}.title[data-v-41f7bdea]{display:block;text-align:center;font-size:%?32?%;font-weight:400;color:#333}.number[data-v-41f7bdea]{display:block;text-align:center;font-size:%?28?%;font-weight:400;color:#666;margin-top:%?10?%;padding-bottom:%?80?%}.line[data-v-41f7bdea]{display:flex}.line-left[data-v-41f7bdea]{height:%?50?%;width:%?25?%;background:#f6f6f6;border-radius:0 50px 50px 0}.line-line[data-v-41f7bdea]{width:100%;height:%?0.5?%;border:%?0.5?% dashed #ccc;margin-top:%?25?%}.line-right[data-v-41f7bdea]{height:%?50?%;width:%?25?%;background:#f6f6f6;border-radius:50px 0 0 50px}.middle-item[data-v-41f7bdea]{display:flex;padding:%?80?%;flex-wrap:wrap}.middle-item-fir[data-v-41f7bdea]{display:flex;font-size:%?32?%;font-weight:400;color:#333;padding:%?40?%}.middle-item-fir uni-image[data-v-41f7bdea]{width:%?45?%;height:%?45?%;margin-right:%?13?%}.foot[data-v-41f7bdea]{padding-bottom:%?95?%}.foot-des[data-v-41f7bdea]{width:%?629?%;height:%?88?%;background:#ffb822;border-radius:8px;font-size:%?32?%;font-weight:400;color:#fff;line-height:%?88?%;text-align:center;margin:0 auto}",""]),t.exports=i}}]);