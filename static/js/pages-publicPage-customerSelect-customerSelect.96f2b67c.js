(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-publicPage-customerSelect-customerSelect"],{"0f1f":function(e,t,a){"use strict";var n=a("3c40"),i=a.n(n);i.a},3970:function(e,t,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("2634")),r=n(a("2fdc"));a("5c47"),a("af8f"),a("c223"),a("dd2b");var d={data:function(){return{activeIndex:-1,list:[],keyWord:"",page:1,pageSize:20,hasNextPage:!0,eventChannel:null}},created:function(){this.search();var e=this.getOpenerEventChannel();this.eventChannel=e},methods:{search:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={pageNum:e.page,pageSize:e.pageSize,keyWord:e.keyWord},uni.showLoading({title:"加载中"}),t.next=4,e.getData(a);case 4:n=t.sent,n&&n.length>0&&(e.list=e.list.concat(n),1==e.list.length&&(e.activeIndex=0));case 6:case"end":return t.stop()}}),t)})))()},getData:function(e){var t=this;return(0,r.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.get("api/basicData/customer/listPage",e,1);case 2:if(n=a.sent,uni.hideLoading(),!n.meta.success){a.next=9;break}return t.hasNextPage=n.data.hasNextPage,a.abrupt("return",n.data.list);case 9:uni.showToast({title:n.meta.message,icon:"none",duration:2e3});case 10:case"end":return a.stop()}}),a)})))()},loadmore:function(){this.hasNextPage&&(this.page=this.page+1,this.search())},bindTap:function(e){this.activeIndex=e,this.summit()},keyInput:function(e){this.keyWord!=e.detail.value&&(this.keyWord=e.detail.value,this.clearData(),this.search())},clearData:function(){this.page=1,this.hasNextPage=!0,this.activeIndex=-1,this.list.splice(0,this.list.length)},summit:function(){if(this.activeIndex>=0){var e=this.list[this.activeIndex],t=e.id,a=e.name,n=e.priceMode,i=e.lineCode,r=e.lineName;t&&this.eventChannel.emit("customerSelect",{id:t,name:a,priceMode:n,lineCode:i,lineName:r}),uni.navigateBack()}else uni.showToast({title:"请选择客户",icon:"none",duration:2e3})}}};t.default=d},"3c40":function(e,t,a){var n=a("db96");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("967d").default;i("19a2ddcb",n,!0,{sourceMap:!1,shadowMode:!1})},5866:function(e,t,a){"use strict";a.r(t);var n=a("fe98"),i=a("ee78");for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("0f1f");var d=a("828b"),o=Object(d["a"])(i["default"],n["b"],n["c"],!1,null,"01d0641d",null,!1,n["a"],void 0);t["default"]=o.exports},db96:function(e,t,a){var n=a("c86c");t=n(!1),t.push([e.i,".page[data-v-01d0641d]{display:flex;flex-direction:column;padding:0 %?30?%;font-size:%?32?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#333;line-height:%?45?%;height:100%;overflow:hidden}.header[data-v-01d0641d]{margin-bottom:%?30?%}.header .searchBox[data-v-01d0641d]{display:flex;padding:%?24?% %?12?%;font-size:%?28?%;color:#d0d3d7;line-height:%?40?%;overflow:hidden;align-items:center;flex-direction:row;background-color:#f5f6fa;border-radius:%?40?%}.header .searchBox .search-icon[data-v-01d0641d]{width:%?44?%;height:%?44?%}.header .searchBox .search-input[data-v-01d0641d]{flex:1;display:flex;font-size:%?28?%;color:#d0d3d7;line-height:%?40?%}.mLf16[data-v-01d0641d]{margin-left:%?16?%}.contain[data-v-01d0641d]{flex:1;overflow:hidden}.contain .item[data-v-01d0641d]{display:flex;flex-direction:row;align-items:center;padding:%?40?% 0}.contain .item uni-image[data-v-01d0641d]{width:%?36?%;height:%?36?%;margin-right:%?9?%}.contain .item .itemText[data-v-01d0641d]{flex:1;overflow:hidden;word-break:break-all}.fotter[data-v-01d0641d]{display:flex;flex-direction:row}.fotter[data-v-01d0641d]{text-align:center;box-shadow:%?0?% %?2?% %?12?% %?0?% rgba(220,217,207,.5);display:flex;justify-content:center;border-radius:%?100?%;margin-bottom:%?16?%;overflow:hidden}.fotter .btn[data-v-01d0641d]{flex:1;padding:%?28?% 0}.fotter .sure[data-v-01d0641d]{color:#fff;background-color:#ffb822}",""]),e.exports=t},ee78:function(e,t,a){"use strict";a.r(t);var n=a("3970"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},f695:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAANlBMVEVHcEzo6Ovr6+zn5+vp6evn5+vo6Ovo6Oro6Ovr6+z////n5+ro6Ovn5+qqqv/o6Orf3//n5+o5OQ7mAAAAEXRSTlMA2SPMVPvAPaQVBXpp7APECOXfK04AAAEPSURBVDjLzZXbFoQgCEUzvKB2/f+fndSmZQalPcwa3shdnoNIXfer6AeEUakRcOjvyUnOaxaznHjWiLUIYRjU4UoELhRrIa1qb6xz1ngdUwWWYJMEzFz1aStxoRfYJeaWpmQCSiXxI/ryDRu0KCzqEFlHuI7KTzWZBKnt8CJycfLyerGpzB6Ec0PuqIKdOatReJnthGJ1CO74Lggeh9NGnof9SSTw9r4W4cjGLbM8bLfl8cjUljkeduEU38FNMpoMNpWu6VCajvu5kfTbFn1s/tNNub9WytRf2EtZHVDTap9nsn7IbDJk5fhi6IUajMpLRdLMyOXoYpjrRHA0/ZvgaSoirbsGGqt/YlKj7f4lPukhHDuaScDKAAAAAElFTkSuQmCC"},fe98:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"header"},[n("v-uni-view",{staticClass:"searchBox"},[n("v-uni-image",{staticClass:"search-icon",attrs:{src:a("f695")}}),n("v-uni-input",{staticClass:"search-input mLf16",attrs:{"confirm-type":"search",placeholder:"请输入客户名称","placeholder-class":"search-input"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.keyInput.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.keyInput.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"contain"},[n("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":"true"},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.loadmore.apply(void 0,arguments)}}},[e.list.length>0?e._l(e.list,(function(t,a){return n("v-uni-view",{key:t.id,staticClass:"item",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.bindTap(a)}}},[n("v-uni-view",{staticClass:"itemText"},[e._v(e._s(t.name))])],1)})):e._e()],2)],1)],1)},i=[]}}]);