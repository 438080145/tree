(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-payBill-children-edit-edit"],{"0827":function(t,i,e){"use strict";(function(t){e("6a54");var n=e("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=n(e("39d8")),a=n(e("9b1b"));e("e966"),e("aa9c"),e("e838"),e("5c47"),e("af8f"),e("8f71"),e("bf0f"),e("c223"),e("c9b5"),e("ab80"),e("dd2b");var c,s=n(e("9fcb")),l=e("8f59"),d=(n(e("63d3")),c={components:{},data:function(){return{pattern:!1,listWlDetailById_id:"",panel:0,organization:{},organizationName:"",organizationId:0,employees:{},handleName:"",handleNameId:0,supplier:{},supplierName:"",supplierId:"",fsId:"",arrears:0,oddNumbers:"",receipt:"",focusinput:!1,absTract:"",createDate:"",createDateF:"",jsId:"",checkStatus:!1,payBillList:[],collectionAccountList:[],collectionAccountItem:{},collectionAccountUpIndex:-1,allIsSettle:0,allSettlementAmount:0,discountAmount:0,payAmount:0,dictionnaryList:[],dictionnaryIndex:0,getKMListByAvTypeitem:null}},created:function(){this.$scope.$getAppWebview().setStyle({softinputNavBar:"block"})},onLoad:function(t){this.pattern="create"===t.pattern,this.listWlDetailById_id="undefined"!==t.id&&void 0!==t.id?parseInt(t.id):"",this.handleNameId="undefined"!==t.jsId&&void 0!==t.jsId?parseInt(t.jsId):"",this.fsId="undefined"!==t.fsId&&void 0!==t.fsId?parseInt(t.fsId):"",this.organizationId="undefined"!==t.orgId&&void 0!==t.orgId?parseInt(t.orgId):"",this.supplierId="undefined"!==t.supplierId&&void 0!==t.supplierId?parseInt(t.supplierId):"",this.supplierName=t.supplierName,this.oddNumbers=t.oddNumbers,this.absTract=t.abstract,this.checkStatus="1"===t.checkStatus,this.pattern?(this.createDate=(new Date).getTime(),this.createDateF=this.timeShift.formatDate(new Date),this.listWlDetailById_id=null,this.oddNumbers=null,this.handleNameId=uni.getStorageSync("userId"),this.handleName=uni.getStorageSync("name")):(this.createDate=t.createDate,this.createDateF=this.timeShift.formatDate(parseInt(t.createDate)),this.initData(),this.listAvDetail(),this.allEmployeesInfo()),this.authorganizationList(),this.dictionnary()},onShow:function(){var t=uni.getStorageSync("payBillList");t.length>0&&(this.payBillList=t);var i=uni.getStorageSync("payBillCollectionAccountList");i.length>0&&(this.collectionAccountList=i),this.arrearsFn(),this.payAmountFn()},onReady:function(){},onReachBottom:function(){}},(0,o.default)(c,"created",(function(){})),(0,o.default)(c,"mounted",(function(){})),(0,o.default)(c,"computed",{}),(0,o.default)(c,"watch",{organization:function(t){var i=this;null!=t&&t.length>0&&(this.organizationName=t[0].name,this.organizationId=t[0].id,setTimeout((function(){i.initData()}),300))},employees:function(t){null!=t&&t.length>0&&(this.handleName=t[0].name,this.handleNameId=t[0].id)},supplier:function(t){var i=this;null!=t&&t.length>0&&(this.supplierId=t[0].zbId,this.supplierName=t[0].name,this.arrears=t[0].balance,setTimeout((function(){i.initData()}),300))},collectionAccountItem:function(t){var i=this;null!=t&&t.length>0&&setTimeout((function(){var e=i.collectionAccountList[i.collectionAccountUpIndex];e.allId=t[0].allId,e.asId=t[0].id,e.name=t[0].name,i.$forceUpdate()}),800)}}),(0,o.default)(c,"methods",(0,a.default)((0,a.default)({},(0,l.mapMutations)(["setparams"])),{},{initData:function(){var t=this;if(t.supplierId&&t.organizationId){var i={zbId:t.supplierId,orgId:t.organizationId};t.listWlDetailById_id&&(i.id=t.listWlDetailById_id),s.default.listPurchasePayDetail(i).then((function(i){if(i.meta.success){for(var e=i.data.data,n=[],o=0;o<e.length;o++){var a=e[o];a.sel&&n.push(a)}t.payBillList=n,t.arrearsFn(),uni.setStorageSync("payBillList",t.payBillList)}else uni.showToast({title:i.meta.message,icon:"none",duration:1e3})}))}},arrearsFn:function(){this.allIsSettle=0,this.allSettlementAmount=0,this.discountAmount=0;for(var t=0;t<this.payBillList.length;t++){var i=this.payBillList[t];this.allIsSettle+=parseFloat(i.isSettle),this.allSettlementAmount+=parseFloat(i.settlementAmount),this.discountAmount+=parseFloat(i.preferentialAmount)}},allEmployeesInfo:function(){var t=this;s.default.allEmployeesInfo(null).then((function(i){if(i.meta.success)for(var e=0;e<i.data.list.length;e++){var n=i.data.list[e];t.handleNameId===n.id&&(t.handleName=n.name)}else uni.showToast({title:i.meta.message,icon:"none",duration:1e3})}))},dictionnary:function(){var t=this;s.default.dictionnaryList({dictionaryTypeId:2}).then((function(i){if(i.meta.success)if(t.dictionnaryList=i.data,t.fsId)for(var e=0;e<t.dictionnaryList.length;e++){var n=t.dictionnaryList[e];n.id===t.fsId&&(t.dictionnaryIndex=e)}else t.pattern?t.fsId=t.dictionnaryList[0].id:t.dictionnaryIndex=-1;else uni.showToast({title:i.meta.message,icon:"none",duration:1e3})}))},authorganizationList:function(){var t=this;s.default.authorganizationList(null).then((function(i){if(i.meta.success)if(t.pattern)t.organizationId=i.data[0].id,t.organizationName=i.data[0].name;else for(var e=0;e<i.data.length;e++){var n=i.data[e];n.id===t.organizationId&&(t.organizationName=n.name)}else uni.showToast({title:i.meta.message,icon:"none",duration:1e3})})).then((function(i){t.getKMListByAvType()}))},getKMListByAvType:function(){var t=this,i={direction:"贷",typeName:"采购付款单",orgId:this.organizationId,zbId:this.supplierId};s.default.getKMListByAvType(i).then((function(i){i.meta.success?t.getKMListByAvTypeitem=i.data[0]:uni.showToast({title:i.meta.message,icon:"none",duration:1e3})})).then((function(i){t.pattern&&t.addCollectionAccount()}))},listAvDetail:function(){var t=this,i={id:t.listWlDetailById_id};s.default.listPurchasePayAVDetail(i).then((function(i){i.meta.success?(t.collectionAccountList=i.data.data,t.payAmountFn(),uni.setStorageSync("payBillCollectionAccountList",t.collectionAccountList)):uni.showToast({title:i.meta.message,icon:"none",duration:1e3})}))},payAmountFn:function(){this.payAmount=0;for(var t=this.collectionAccountList,i=0;i<t.length;i++){var e=t[i];this.payAmount+=e.creditAmount}},switchPanel:function(t){this.panel=t},bindDateChange:function(t){this.createDate=new Date(t.target.value).getTime(),this.createDateF=t.target.value},organizationList:function(t){this.checkStatus&&(uni.hideKeyboard(),this.setparams({searchtype:"organization",filed:"organization"}),uni.navigateTo({url:"/pages/index/newtoolsSearchList/toolssearchlist"}))},handlersList:function(t){this.checkStatus&&(uni.hideKeyboard(),this.setparams({searchtype:"employees",filed:"employees"}),uni.navigateTo({url:"/pages/index/newtoolsSearchList/toolssearchlist"}))},supplierList:function(){this.checkStatus&&(uni.hideKeyboard(),this.setparams({searchtype:"getSupplierKMPage",filed:"supplier",typeName:"应付账款",orgId:this.organizationId}),uni.navigateTo({url:"/pages/index/newtoolsSearchList/toolssearchlist"}))},selectListWlDetail:function(t){if(t){var i=this,e={zbId:i.supplierId,orgId:i.organizationId,code:t};i.listWlDetailById_id&&(e.id=i.listWlDetailById_id),s.default.search(e).then((function(t){if(t.meta.success){for(var e=function(e){var n=t.data.data[e],o=i.payBillList.filter((function(t){return t.oddId===n.oddId}));0===o.length&&i.payBillList.push(n)},n=0;n<t.data.data.length;n++)e(n);i.arrearsFn(),uni.setStorageSync("payBillList",i.payBillList)}else uni.showToast({title:t.meta.message,icon:"none",duration:1e3})}))}},orderNumber:function(t){uni.hideKeyboard(),this.organizationId?this.supplierId?(this.focusinput=!0,this.$nextTick((function(){this.focusinput=!1,uni.hideKeyboard()})),this.selectListWlDetail(t.detail.value)):uni.showToast({icon:"none",title:"请选择供应商",duration:2e3}):uni.showToast({icon:"none",title:"请选择机构",duration:2e3})},toBillList:function(){this.checkStatus&&(this.organizationId?this.supplierId?uni.navigateTo({url:"/pages/index/payBill/children/billList/billList"+"?id=".concat(this.listWlDetailById_id?this.listWlDetailById_id:"","&orgId=").concat(this.organizationId,"&cId=").concat(this.supplierId)}):uni.showToast({title:"请选择供应商后再操作",icon:"none",duration:1e3}):uni.showToast({title:"请选择机构后再操作",icon:"none",duration:1e3}))},scanning:function(){var t=this;this.organizationId?this.supplierId?uni.scanCode({success:function(i){t.receipt=i.result.toString(),t.selectListWlDetail(i.result.toString())}}):uni.showToast({icon:"none",title:"请选择供应商",duration:2e3}):uni.showToast({icon:"none",title:"请选择机构",duration:2e3})},clearInput:function(t){"receipt"===t&&(this.receipt=""),"absTract"===t&&(this.absTract="")},clearValue:function(t,i,e,n){var o=null;if("payBillList"===e&&(o=this.payBillList),"collectionAccountList"===e&&(o=this.collectionAccountList),o){var a=o[i];a[n]="",this.$set(o,i,a),this.$forceUpdate()}},setItem:function(t,i,e,n){if("payBillList"===e){var o=this.payBillList[i];if("absTract"===n)o[n]!==t.detail.value&&(o[n]=t.detail.value,uni.setStorageSync("payBillList",this.payBillList),this.$set(this.payBillList,i,o));else{var a=parseFloat(t.detail.value).toFixed(3);o[n]!==a&&(o[n]=t.detail.value?a:0,uni.setStorageSync("payBillList",this.payBillList),this.$set(this.payBillList,i,o),this.arrearsFn())}}if("collectionAccountList"===e){o=this.collectionAccountList[i];"remarks"===n?o[n]=t.detail.value:(o[n]=parseFloat(t.detail.value),this.payAmountFn()),this.$set(this.collectionAccountList,i,o),uni.setStorageSync("payBillCollectionAccountList",this.collectionAccountList)}},delectItem:function(t,i,e){this.checkStatus&&("payBillList"===i&&(this.payBillList.splice(e,1),this.arrearsFn(),uni.setStorageSync("payBillList",this.payBillList)),"collectionAccountList"===i&&(this.collectionAccountList.splice(e,1),this.payAmountFn(),uni.setStorageSync("payBillCollectionAccountList",this.collectionAccountList)))},closeOpen:function(t,i){this.payBillList[i].checked=!this.payBillList[i].checked,this.$forceUpdate()},addCollectionAccount:function(){this.checkStatus&&(this.collectionAccountList.push({pid:this.listWlDetailById_id,asId:this.getKMListByAvTypeitem.id,zbId:this.supplierId,amount:0,discountAmount:this.discountAmount,creditAmount:0,payAmount:this.payAmount+this.discountAmount,remarks:"",orgId:this.organizationId,name:this.getKMListByAvTypeitem.name}),uni.setStorageSync("payBillCollectionAccountList",this.collectionAccountList))},editCollectionAccount:function(t){this.checkStatus&&(this.collectionAccountUpIndex=t,uni.hideKeyboard(),this.setparams({searchtype:"collectionAccount",filed:"collectionAccountItem",direction:"贷",orgId:this.organizationId,typeName:"采购付款单",zbId:this.supplierId}),uni.navigateTo({url:"/pages/index/newtoolsSearchList/toolssearchlist"}))},dictionnaryChange:function(t){this.dictionnaryIndex=t.detail.value,this.fsId=this.dictionnaryList[this.dictionnaryIndex].id},creatNewDocm:function(){var i=this;if(i.createDate)if(i.organizationId)if(i.handleNameId)if(i.supplierId){i.arrearsFn(),i.payAmountFn();for(var e=[],n=0;n<i.payBillList.length;n++){var o=i.payBillList[n];e.push({pid:o.id,avId:i.listWlDetailById_id,oddId:o.oddId,settlementAmount:o.settlementAmount,preferentialAmount:o.preferentialAmount})}for(var a=[],c=0;c<i.collectionAccountList.length;c++){var l=i.collectionAccountList[c];a.push({id:l.id,pid:i.listWlDetailById_id,asId:l.asId,zbId:2,amount:l.creditAmount,discountAmount:i.discountAmount,payAmount:i.payAmount+i.discountAmount,remarks:l.remarks,orgId:i.organizationId})}var d={absTract:i.absTract,createDate:i.createDate,jsId:i.handleNameId,type:0,fsId:i.fsId,oddCode:i.oddNumbers,id:i.listWlDetailById_id,orgId:i.organizationId,zbid:i.supplierId,avList:a,caList:e};s.default.isSave(d).then((function(e){e.meta.success?(t.log(e.data),setTimeout((function(){e.data.tips?uni.showModal({title:"温馨提示",content:e.data.tips,cancelText:"否",confirmText:"是",confirmColor:"#f1b323",success:function(e){e.confirm?i.saveAvAndCaDetail(d):e.cancel&&t.log("用户点击取消")},fail:function(t){}}):i.saveAvAndCaDetail(d)}),500)):uni.showToast({title:e.meta.message,icon:"none",duration:1e3})}))}else uni.showToast({title:"请选择供应商",icon:"none",duration:1e3});else uni.showToast({title:"请选择经手人",icon:"none",duration:1e3});else uni.showToast({title:"请选择机构",icon:"none",duration:1e3});else uni.showToast({title:"请选择单据日期",icon:"none",duration:1e3})},saveAvAndCaDetail:function(i){var e=this;s.default.saveAvAndCaDetail(i).then((function(i){i.meta.success?(t.log(i.data),uni.showToast({title:"保存成功",icon:"none",duration:1e3}),e.listWlDetailById_id||(e.listWlDetailById_id=i.data.av.id),uni.removeStorageSync("payBillList"),uni.removeStorageSync("payBillCollectionAccountList"),uni.redirectTo({url:"../billSuccess/billSuccess?saleNo=".concat(i.data.av.oddCode,"&id=").concat(e.listWlDetailById_id,"&orgId=").concat(e.organizationId,"&abstract=").concat(e.absTract)})):uni.showToast({title:i.meta.message,icon:"none",duration:1e3})}))}})),c);i.default=d}).call(this,e("ba7c")["default"])},"392d":function(t,i,e){"use strict";var n=e("fb8d"),o=e.n(n);o.a},"5a7e":function(t,i,e){"use strict";e.r(i);var n=e("6695"),o=e("ea98");for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(a);e("392d");var c=e("828b"),s=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"1e9c4dc4",null,!1,n["a"],void 0);i["default"]=s.exports},6695:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"contain"},[e("v-uni-view",{staticClass:"middle"},[e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{staticClass:"middle-des"},[t._v("单据日期：")]),e("v-uni-view",{staticClass:"middle-select"},[e("v-uni-picker",{attrs:{mode:"date",disabled:!t.checkStatus,value:t.createDateF},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.bindDateChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.createDateF))])],1),e("v-uni-image",{attrs:{src:"/static/img/outNote/data.png",mode:""}})],1),e("v-uni-view",{staticClass:"middle-line"})],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{staticClass:"middle-des"},[t._v("机构：")]),e("v-uni-view",{staticClass:"middle-select",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.organizationList.apply(void 0,arguments)}}},[e("v-uni-input",{attrs:{type:"text",placeholder:"点击选择机构",disabled:!0},model:{value:t.organizationName,callback:function(i){t.organizationName=i},expression:"organizationName"}}),e("v-uni-image",{attrs:{src:"/static/img/outNote/right.png"}})],1),e("v-uni-view",{staticClass:"middle-line"})],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{staticClass:"middle-des"},[t._v("经手人：")]),e("v-uni-view",{staticClass:"middle-select",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handlersList.apply(void 0,arguments)}}},[e("v-uni-input",{attrs:{type:"text",placeholder:"点击选择经手人",disabled:!0},model:{value:t.handleName,callback:function(i){t.handleName=i},expression:"handleName"}}),e("v-uni-image",{attrs:{src:"/static/img/outNote/right.png"}})],1),e("v-uni-view",{staticClass:"middle-line"})],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{staticClass:"middle-des"},[t._v("供应商：")]),e("v-uni-view",{staticClass:"middle-select",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.supplierList.apply(void 0,arguments)}}},[e("v-uni-input",{attrs:{type:"text",placeholder:"点击选择供应商",disabled:!0},model:{value:t.supplierName,callback:function(i){t.supplierName=i},expression:"supplierName"}}),e("v-uni-image",{attrs:{src:"/static/img/outNote/right.png"}})],1),e("v-uni-view",{staticClass:"middle-line"})],1),e("v-uni-view",{staticClass:"item"},[e("v-uni-view",{staticClass:"middle-des"},[t._v("单号：")]),e("v-uni-view",{staticClass:"middle-select"},[e("v-uni-input",{attrs:{type:"text",placeholder:"",disabled:!t.checkStatus,focus:t.focusinput},on:{focus:function(i){arguments[0]=i=t.$handleEvent(i),t.clearInput("receipt")},confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.orderNumber.apply(void 0,arguments)}},model:{value:t.receipt,callback:function(i){t.receipt=i},expression:"receipt"}}),e("v-uni-text",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toBillList.apply(void 0,arguments)}}},[t._v("选择单据")])],1),e("v-uni-view",{staticClass:"middle-line"})],1)],1),e("v-uni-view",{staticClass:"sweepCode"},[e("v-uni-image",{attrs:{src:"/static/img/outNote/add.png",mode:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toBillList.apply(void 0,arguments)}}}),e("v-uni-image",{attrs:{src:"/static/img/outNote/cann.png",mode:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.scanning.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"shopList"},[t._l(t.payBillList,(function(i,n){return[e("v-uni-view",{key:n,staticClass:"order-item",attrs:{id:"shop_"+i.id}},[e("v-uni-view",{staticClass:"order-item-top"},[e("v-uni-view",{staticClass:"order-item-top-row"},[e("v-uni-view",{staticClass:"order-sec-left"},[t._v("单号："+t._s(i.oddCode))]),e("v-uni-view",{staticClass:"order-sec-left"},[t._v("日期："+t._s(i.fillDate?t.timeShift.formatDate(i.fillDate):""))])],1),e("v-uni-view",{staticClass:"order-item-top-row"},[e("v-uni-view",{staticClass:"order-sec-left"},[t._v("总金额:￥"+t._s(i.amount))]),e("v-uni-view",{staticClass:"order-sec-left"},[t._v("结余金额:￥"+t._s(i.surplus))])],1),e("v-uni-view",{staticClass:"order-item-top-row"},[e("v-uni-view",{staticClass:"order-item-top-row-remark"},[e("v-uni-view",{staticClass:"order-item-top-row-des"},[t._v("备注：")]),e("v-uni-view",{staticClass:"order-item-top-row-input"},[t._v(" "+t._s(i.absTract)+" ")])],1),e("v-uni-view",{staticClass:"delete",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.delectItem(i,"payBillList",n)}}},[t._v("删除")])],1)],1),e("v-uni-view",{staticClass:"order-item-bottom bottom-fir"},[e("v-uni-view",{staticClass:"bottom-input"},[e("v-uni-view",{staticClass:"bottom-des"},[t._v("本次结算：")]),e("v-uni-view",{staticClass:"bottom-input-box"},[t._v(" ￥ "),e("v-uni-input",{attrs:{type:"digit",value:i.settlementAmount,disabled:!t.checkStatus},on:{focus:function(i){arguments[0]=i=t.$handleEvent(i),t.clearValue(i,n,"payBillList","settlementAmount")},blur:function(i){arguments[0]=i=t.$handleEvent(i),t.setItem(i,n,"payBillList","settlementAmount")},confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.setItem(i,n,"payBillList","settlementAmount")}}}),t._v(" 元 ")],1)],1),e("v-uni-view",{staticClass:"bottom-input"},[e("v-uni-view",{staticClass:"bottom-des"},[t._v("本次优惠：")]),e("v-uni-view",{staticClass:"bottom-input-box"},[t._v(" ￥ "),e("v-uni-input",{attrs:{type:"digit",value:i.preferentialAmount,disabled:!t.checkStatus},on:{focus:function(i){arguments[0]=i=t.$handleEvent(i),t.clearValue(i,n,"payBillList","preferentialAmount")},blur:function(i){arguments[0]=i=t.$handleEvent(i),t.setItem(i,n,"payBillList","preferentialAmount")},confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.setItem(i,n,"payBillList","preferentialAmount")}}}),t._v(" 元 ")],1)],1)],1)],1)]})),e("v-uni-view",{staticClass:"summary"},[e("v-uni-view",{staticClass:"summary-item"},[t._v("结算总金额")]),e("v-uni-view",{staticClass:"summary-item"},[t._v("结算总优惠")])],1),e("v-uni-view",{staticClass:"summary"},[e("v-uni-view",{staticClass:"summary-item"},[e("v-uni-text",[t._v("￥"+t._s(t.allSettlementAmount))]),t._v("元")],1),e("v-uni-view",{staticClass:"summary-item"},[e("v-uni-text",[t._v("￥"+t._s(t.discountAmount))]),t._v("元")],1)],1)],2),e("v-uni-view",{staticClass:"collectionAccountList"},[e("v-uni-view",{staticClass:"collectionAccountList-top"},[e("v-uni-text",[t._v("收款账号：")]),e("v-uni-image",{attrs:{src:"/static/img/outNote/add.png",mode:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addCollectionAccount.apply(void 0,arguments)}}})],1),t._l(t.collectionAccountList,(function(i,n){return[e("v-uni-view",{key:n,staticClass:"collectionAccountList-bottom-item",attrs:{id:"shop_"+i.id}},[e("v-uni-view",{staticClass:"collectionAccountList-bottom-item-row"},[e("v-uni-view",{staticClass:"collectionAccountList-bottom-item-row-box pic"},[e("v-uni-view",{staticClass:"kmName",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.editCollectionAccount(n)}}},[e("v-uni-input",{attrs:{type:"text",placeholder:"点击选择收款账户",value:i.name,disabled:!0}})],1),e("v-uni-image",{attrs:{src:"/static/img/outNote/right.png"}})],1),e("v-uni-view",{staticClass:"collectionAccountList-bottom-item-row-box debitAmount"},[t._v(" ￥ "),e("v-uni-input",{attrs:{type:"digit",value:i.creditAmount?i.creditAmount:0,disabled:!t.checkStatus},on:{focus:function(i){arguments[0]=i=t.$handleEvent(i),t.clearValue(i,n,"collectionAccountList","creditAmount")},blur:function(i){arguments[0]=i=t.$handleEvent(i),t.setItem(i,n,"collectionAccountList","creditAmount")},confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.setItem(i,n,"collectionAccountList","debitAmount")}}}),t._v(" 元 ")],1)],1),e("v-uni-view",{staticClass:"collectionAccountList-bottom-item-row"},[e("v-uni-view",{staticClass:"collectionAccountList-bottom-item-row-box remarks"},[t._v(" 备注： "),e("v-uni-input",{attrs:{type:"text",value:i.remarks?i.remarks:"",disabled:!t.checkStatus},on:{focus:function(i){arguments[0]=i=t.$handleEvent(i),t.clearValue(i,n,"collectionAccountList","remarks")},blur:function(i){arguments[0]=i=t.$handleEvent(i),t.setItem(i,n,"collectionAccountList","remarks")},confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.setItem(i,n,"collectionAccountList","remarks")}}})],1),e("v-uni-view",{staticClass:"collectionAccountList-bottom-item-row-box"},[e("v-uni-view",{staticClass:"delete",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.delectItem(i,"collectionAccountList",n)}}},[t._v("删除")])],1)],1)],1)]}))],2),e("v-uni-view",{staticClass:"paymentMethod "},[e("v-uni-view",{staticClass:"paymentMethod-item"},[e("v-uni-view",{staticClass:"paymentMethod-item-name"},[t._v("收付方式：")]),t.dictionnaryList.length>0?e("v-uni-view",{staticClass:"paymentMethod-item-vlue"},[e("v-uni-picker",{attrs:{value:t.dictionnaryIndex,disabled:!t.checkStatus,range:t.dictionnaryList,"range-key":"name"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.dictionnaryChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"pickval"},[t._v(t._s(t.dictionnaryIndex>=0?t.dictionnaryList[t.dictionnaryIndex].name:""))])],1),e("v-uni-image",{staticClass:"right",attrs:{src:"/static/img/outNote/right.png"}})],1):t._e()],1),e("v-uni-view",{staticClass:"paymentMethod-item"},[e("v-uni-view",{staticClass:"paymentMethod-item-name"},[t._v("备注：")]),e("v-uni-view",{staticClass:"paymentMethod-item-vlue"},[e("v-uni-input",{attrs:{type:"text",disabled:!t.checkStatus},model:{value:t.absTract,callback:function(i){t.absTract=i},expression:"absTract"}}),t.checkStatus?e("v-uni-image",{staticClass:"right",staticStyle:{"z-index":"1"},attrs:{src:"/static/img/del.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clearInput("absTract")}}}):t._e()],1)],1)],1),t._l(2,(function(i){return e("v-uni-view",{key:"footfixed"+i,class:["footfixed",2===i?"hide":""]},[e("v-uni-view",{staticClass:"foot-bg"},[e("v-uni-view",{staticClass:"foot-bg-left"},[e("v-uni-image",{attrs:{src:"/static/img/outNote/shop.png",mode:""}}),e("v-uni-view",[t._v("金额："),e("v-uni-text",[t._v(t._s(t.allSettlementAmount))])],1)],1),t.checkStatus?e("v-uni-view",{staticClass:"foot-bg-right",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.creatNewDocm.apply(void 0,arguments)}}},[t._v("保存")]):t._e()],1)],1)}))],2)},o=[]},"9fcb":function(t,i,e){"use strict";e("c223");var n=e("d4d7"),o={listPurchasePayPage:function(t){return(0,n.get)("api/purchasePay/listPurchasePayPage",t,1)},search:function(t){return(0,n.get)("api/purchasePay/searchCADdetailSelect",t,1)},listPurchasePayPageSum:function(t){return(0,n.get)("api/purchasePay/listPurchasePayPageSum",t,1)},listPurchasePayDetail:function(t){return(0,n.get)("api/purchasePay/listPurchasePayDetail",t,1)},listPurchasePayAVDetail:function(t){return(0,n.get)("api/purchasePay/listPurchasePayAVDetail",t,1)},allEmployeesInfo:function(t){return(0,n.get)("api/basicData/allEmployeesInfo",t,1)},getKMListByAvType:function(t){return(0,n.get)("api/financial/getKMListByAvType",t,1)},authorganizationList:function(t){return(0,n.get)("api/basicData/authorganization/list",t,1)},dictionnaryList:function(t){return(0,n.get)("api/basedata/dictionnary/list",t,1)},isSave:function(t){return(0,n.post)("salesReceiptsBill/isSave",t,8)},saveAvAndCaDetail:function(t){return(0,n.post)("purchasePay/saveAvAndCaDetail",t,8)},checkBill:function(t){return(0,n.patch)("api/purchasePay/exampurchase"+"?id=".concat(t.id,"&autoAbsTract=").concat(t.autoAbsTract,"&orgId=").concat(t.orgId,"&abstract=").concat(t.absTract),null,1)}};t.exports=o},e237:function(t,i,e){var n=e("c86c");i=n(!1),i.push([t.i,"uni-page-body[data-v-1e9c4dc4]{background-color:#f6f6f6}body.?%PAGE?%[data-v-1e9c4dc4]{background-color:#f6f6f6}.contain[data-v-1e9c4dc4]{background-color:#f6f6f6}.contain .middle[data-v-1e9c4dc4]{padding-top:%?40?%;background:#fff}.contain .middle .item[data-v-1e9c4dc4]{position:relative;display:flex;height:%?80?%;line-height:%?80?%;padding-left:%?20?%;padding-right:%?20?%}.contain .middle .item[data-v-1e9c4dc4]:last-child{padding-bottom:0}.contain .middle .item .middle-des[data-v-1e9c4dc4]{font-size:%?32?%;width:%?160?%;height:%?80?%;line-height:%?80?%;text-align:right}.contain .middle .item .middle-select[data-v-1e9c4dc4]{flex:1;display:flex;justify-content:space-between;width:%?496?%;font-size:%?30?%;border-radius:5px}.contain .middle .item .middle-select uni-input[data-v-1e9c4dc4]{flex:1;height:%?80?%;line-height:%?80?%;font-size:%?30?%;padding-left:%?20?%}.contain .middle .item .middle-select uni-text[data-v-1e9c4dc4]{color:#ffb822;font-size:%?26?%;padding:0 %?20?%}.contain .middle .item .middle-select uni-image[data-v-1e9c4dc4]{width:%?40?%;height:%?40?%;padding-top:%?20?%}.contain .middle .item .middle-line[data-v-1e9c4dc4]{position:absolute;left:%?20?%;right:%?20?%;bottom:0;height:1px;background-color:#f3f3f3}.contain .middle .item uni-picker[data-v-1e9c4dc4]{padding-left:%?20?%;width:%?496?%}.contain .sweepCode[data-v-1e9c4dc4]{display:flex;justify-content:space-between;padding:0 %?40?%;border-bottom:%?2?% #eee solid;background:#fff}.contain .sweepCode uni-image[data-v-1e9c4dc4]{width:%?48?%;height:%?48?%;padding:%?26?% 0}.contain .shopList[data-v-1e9c4dc4]{margin-bottom:%?40?%;background:#fff}.contain .shopList .order-item[data-v-1e9c4dc4]{position:relative;padding:%?40?%;border-bottom:%?1?% solid #eee}.contain .shopList .order-item .order-item-top[data-v-1e9c4dc4]{flex:1;display:flex;flex-direction:column;align-items:center}.contain .shopList .order-item .order-item-top .order-inside[data-v-1e9c4dc4]{display:flex;box-sizing:border-box;flex-direction:column;justify-content:space-between}.contain .shopList .order-item .order-item-top .inside-left[data-v-1e9c4dc4]{flex:1;box-sizing:border-box}.contain .shopList .order-item .order-item-top .inside-left .order-fir-left[data-v-1e9c4dc4]{font-size:%?32?%;font-weight:500;width:%?350?%}.contain .shopList .order-item .order-item-top .inside-left .fir-left-name[data-v-1e9c4dc4]{display:-webkit-box;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;margin-right:%?10?%;box-sizing:border-box}.contain .shopList .order-item .order-item-top .inside-left .order-sec-left[data-v-1e9c4dc4]{font-size:%?28?%;line-height:%?60?%;color:grey}.contain .shopList .order-item .order-item-top .inside-right[data-v-1e9c4dc4]{width:20%;align-items:flex-end}.contain .shopList .order-item .order-item-top .inside-right .order-fir-right[data-v-1e9c4dc4]{font-size:%?32?%;font-weight:500;display:flex;justify-content:space-between}.contain .shopList .order-item .order-item-top .inside-right .order-sec-right[data-v-1e9c4dc4]{font-size:%?28?%;color:#3378ff}.contain .shopList .order-item .order-item-top .order-item-top-row[data-v-1e9c4dc4]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;font-size:%?28?%;line-height:%?60?%;color:grey}.contain .shopList .order-item .order-item-top .order-item-top-row-remark[data-v-1e9c4dc4]{flex:1;display:flex}.contain .shopList .order-item .order-item-top .delete[data-v-1e9c4dc4]{color:red;padding:0 10px}.contain .shopList .order-item .order-item-bottom[data-v-1e9c4dc4]{margin-top:%?20?%}.contain .shopList .order-item .order-item-bottom.bottom-fir[data-v-1e9c4dc4]{padding:%?20?%;display:flex;justify-content:space-between;border-top:%?1?% solid #eee}.contain .shopList .order-item .order-item-bottom.bottom-fir .bottom-input[data-v-1e9c4dc4]{flex:1;display:flex;align-items:center;flex-direction:column}.contain .shopList .order-item .order-item-bottom.bottom-fir .bottom-input .bottom-des[data-v-1e9c4dc4]{font-size:%?28?%;color:grey}.contain .shopList .order-item .order-item-bottom.bottom-fir .bottom-input uni-input[data-v-1e9c4dc4]{width:%?120?%;font-size:%?32?%;color:#333;text-align:center;border-bottom:1px solid #ddd}.contain .shopList .order-item .order-item-bottom.bottom-fir .bottom-input .bottom-input-box[data-v-1e9c4dc4]{display:flex;align-items:center;flex-direction:row;margin-top:%?20?%}.contain .shopList .order-item .order-item-bottom .bottom-sec[data-v-1e9c4dc4]{height:%?70?%;line-height:%?70?%;display:flex;font-size:%?28?%;align-items:center;margin-bottom:%?6?%}.contain .shopList .order-item .order-item-bottom .bottom-sec .bottom-sec-des[data-v-1e9c4dc4]{color:grey}.contain .shopList .order-item .order-item-bottom .bottom-sec .send-input[data-v-1e9c4dc4]{display:flex;align-items:center;margin-right:%?20?%}.contain .shopList .order-item .order-item-bottom .bottom-sec .send-input .send-sec-input[data-v-1e9c4dc4]{width:%?150?%;border-bottom:1px solid #eee;text-align:center}.contain .shopList .order-item .order-item-bottom .bottom-sec .bottom-sec-input[data-v-1e9c4dc4]{height:100%;color:grey;font-size:%?28?%;width:100%;flex:1}.contain .shopList .order-item .order-item-foot[data-v-1e9c4dc4]{border-bottom:%?1?% solid #eee}.contain .shopList .order-item .order-item-foot .foot-des[data-v-1e9c4dc4]{margin:0 auto;display:flex;font-size:%?24?%;color:grey;width:20%;justify-content:space-between;padding:%?15?% 0;margin-bottom:%?20?%}.contain .shopList .order-item .order-item-foot .foot-des uni-image[data-v-1e9c4dc4]{width:%?17?%;height:%?10?%;margin-top:%?10?%}.contain .shopList .summary[data-v-1e9c4dc4]{display:flex;align-items:center;padding:%?20?% %?60?%}.contain .shopList .summary .summary-item[data-v-1e9c4dc4]{flex:1;font-size:%?28?%;color:grey;text-align:center}.contain .shopList .summary .summary-item uni-text[data-v-1e9c4dc4]{color:red}.contain .collectionAccountList[data-v-1e9c4dc4]{background-color:#fff;margin-bottom:%?40?%}.contain .collectionAccountList .collectionAccountList-top[data-v-1e9c4dc4]{display:flex;align-items:center;justify-content:space-between;height:%?80?%;padding:0 %?40?%;font-size:%?32?%}.contain .collectionAccountList .collectionAccountList-top uni-image[data-v-1e9c4dc4]{width:%?40?%;height:%?40?%}.contain .collectionAccountList .collectionAccountList-bottom-item[data-v-1e9c4dc4]{padding:%?20?% %?40?%;font-size:%?28?%;color:grey;border-bottom:1px solid #ddd}.contain .collectionAccountList .collectionAccountList-bottom-item .collectionAccountList-bottom-item-row[data-v-1e9c4dc4]{display:flex;align-items:center;justify-content:space-between;margin:%?20?% 0}.contain .collectionAccountList .collectionAccountList-bottom-item .collectionAccountList-bottom-item-row .collectionAccountList-bottom-item-row-box[data-v-1e9c4dc4]{display:flex;align-items:center}.contain .collectionAccountList .collectionAccountList-bottom-item .collectionAccountList-bottom-item-row .pic[data-v-1e9c4dc4]{flex:1;justify-content:space-between}.contain .collectionAccountList .collectionAccountList-bottom-item .collectionAccountList-bottom-item-row .pic .kmName[data-v-1e9c4dc4]{border-bottom:1px solid #ddd}.contain .collectionAccountList .collectionAccountList-bottom-item .collectionAccountList-bottom-item-row .pic .kmName uni-input[data-v-1e9c4dc4]{font-size:%?28?%;color:grey}.contain .collectionAccountList .collectionAccountList-bottom-item .collectionAccountList-bottom-item-row .pic uni-image[data-v-1e9c4dc4]{width:%?48?%;height:%?48?%}.contain .collectionAccountList .collectionAccountList-bottom-item .collectionAccountList-bottom-item-row .debitAmount[data-v-1e9c4dc4]{flex:1;justify-content:center}.contain .collectionAccountList .collectionAccountList-bottom-item .collectionAccountList-bottom-item-row .debitAmount uni-input[data-v-1e9c4dc4]{width:%?120?%;height:%?48?%;border-bottom:1px solid #ddd;text-align:center;font-size:%?28?%;color:grey}.contain .collectionAccountList .collectionAccountList-bottom-item .collectionAccountList-bottom-item-row .remarks uni-input[data-v-1e9c4dc4]{width:%?420?%;height:%?48?%;border-bottom:1px solid #ddd;font-size:%?28?%;color:grey}.contain .collectionAccountList .collectionAccountList-bottom-item .collectionAccountList-bottom-item-row .delete[data-v-1e9c4dc4]{color:red;padding:8px 10px}.contain .paymentMethod[data-v-1e9c4dc4]{background-color:#fff;margin-bottom:%?40?%;padding:%?40?% %?40?% %?20?%}.contain .paymentMethod .paymentMethod-item[data-v-1e9c4dc4]{display:flex;align-items:center;height:%?80?%;padding-bottom:%?20?%;font-size:%?32?%;line-height:%?80?%}.contain .paymentMethod .paymentMethod-item .paymentMethod-item-name[data-v-1e9c4dc4]{width:%?160?%}.contain .paymentMethod .paymentMethod-item .paymentMethod-item-vlue[data-v-1e9c4dc4]{flex:1;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd}.contain .paymentMethod .paymentMethod-item .paymentMethod-item-vlue uni-picker[data-v-1e9c4dc4], .contain .paymentMethod .paymentMethod-item .paymentMethod-item-vlue uni-input[data-v-1e9c4dc4]{flex:1;height:%?80?%;padding-left:%?20?%;line-height:%?80?%}.contain .paymentMethod .paymentMethod-item .paymentMethod-item-vlue .right[data-v-1e9c4dc4]{width:%?48?%;height:%?48?%}.contain .footfixed[data-v-1e9c4dc4]{display:block;position:fixed;bottom:%?0?%!important;bottom:%?100?%;width:100%;height:%?100?%;background:#fff;z-index:10}.contain .footfixed .foot-bg[data-v-1e9c4dc4]{display:flex}.contain .footfixed .foot-bg .foot-bg-left[data-v-1e9c4dc4]{display:flex;width:70%;font-size:%?32?%;font-weight:500;text-align:center;line-height:%?100?%}.contain .footfixed .foot-bg .foot-bg-left uni-image[data-v-1e9c4dc4]{width:%?48?%;height:%?48?%;margin:%?25?% %?20?% 0 %?90?%}.contain .footfixed .foot-bg .foot-bg-left uni-text[data-v-1e9c4dc4]{color:red}.contain .footfixed .foot-bg .foot-bg-right[data-v-1e9c4dc4]{width:30%;height:%?100?%;line-height:%?100?%;text-align:center;background:#ffb822;font-size:%?32?%;color:#fff}.contain .hide[data-v-1e9c4dc4]{position:inherit;visibility:hidden}",""]),t.exports=i},ea98:function(t,i,e){"use strict";e.r(i);var n=e("0827"),o=e.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},fb8d:function(t,i,e){var n=e("e237");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("967d").default;o("846b557c",n,!0,{sourceMap:!1,shadowMode:!1})}}]);